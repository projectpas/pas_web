(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"8XG2":function(t,e,n){"use strict";var o=n("mrSG"),a=n("8Y7J"),r=n("SVse"),s=n("8YFm"),i=n("UPO+"),l=n("Mz6y"),d=n("NGzr"),c=n("DgWh"),m=n("Jfay"),u=n("s7LF"),p=n("sa3O"),h=n("iInd"),b=n("G0yt"),f=n("s6ns"),g=n("EVdn"),D=n("wd/R"),v=n("lGQG"),y=n("0zL+"),w=n("OlR4"),M=n("3LUQ"),x=n("JPLv");let I=class{constructor(t,e,n,o,r,s,i,l,d,c,m){this.commonService=t,this.router=e,this.route=n,this.authService=o,this.modalService=r,this.activeModal=s,this._fb=i,this.alertService=l,this.customerService=d,this.dialog=c,this.configurations=m,this.disableSave=!0,this.isViewMode=!1,this.offLineUpload=!1,this.tab=new a.EventEmitter,this.parentTrigger=new a.EventEmitter,this.documentInformation={docName:"",docMemo:"",docDescription:"",attachmentDetailId:0,attachmentId:0},this.customerDocumentsData=[],this.commondocumentsDestructuredData=[],this.DocumentsColumns=[{field:"docName",header:"Name"},{field:"docDescription",header:"Description"},{field:"fileName",header:"File Name"},{field:"docMemo",header:"Memo"},{field:"createdDate",header:"Created Date"},{field:"createdBy",header:"Created By"},{field:"updatedDate",header:"Updated Date"},{field:"updatedBy",header:"Updated By"}],this.sourceViewforDocumentListColumns=[{field:"fileName",header:"File Name"}],this.selectedColumns=this.DocumentsColumns,this.formData=new FormData,this.uploadedFileLength=0,this.isSpinnerVisible=!1,this.isEditButton=!1,this.isDeleteMode=!1,this.sourceViewforDocumentList=[],this.headersforAttachment=[{field:"fileName",header:"File Name"}],this.totalRecords=0,this.pageIndex=0,this.pageSize=10,this.totalPages=0,this.currentDeletedstatus=!1,this.restorerecord={},this.isPopup=!1,this.enableUpdate=!1,this.hideUpoladThing=!1,this.attachmoduleList=[],this.arrayCustlist=[],this.disabledMemo=!1,this.documentCollection=[],this.selectedFileAttachment=[],this.isOfline=!1,this.updateCollection=[],this.newDocumentDetails={},this.isEnableUpdateButton=!0,this.commondocumentsList=[]}ngOnInit(){this.offLineUpload=!!this.offLineUpload&&this.offLineUpload,this.generalInformtionData&&(this.id=this.referenceId,this.generalCode=this.generalInformtionData.companyCode,this.generalName=this.generalInformtionData.name),null!=this.uploadDocsToser&&(this.id=this.referenceId,this.uploadDocsToser.subscribe(t=>{this.hideUpoladThing=!0,setTimeout(()=>{this.onUploadDocumentListToServer()},1500)}))}ngOnChanges(t){for(let e in t)"generalInformtionData"==e&&t[e].currentValue!={}&&(this.generalCode=this.generalInformtionData.companyCode,this.generalName=this.generalInformtionData.name,this.isViewMode=!!this.isViewMode&&this.isViewMode),"uploadDocsToser"==e&&(this.hideUpoladThing=!0);this.id=this.referenceId,this.getModuleList(),this.offLineUpload=!!this.offLineUpload&&this.offLineUpload,this.moduleName=this.moduleName}getModuleList(){this.commonService.smartDropDownList("AttachmentModule","AttachmentModuleId","Name").subscribe(t=>{this.attachmoduleList=t,this.getList()})}enableSave(){this.sourceViewforDocumentList&&this.sourceViewforDocumentList.length>0?this.disableSave=!1:this.disableSave=!0,1==this.isEditButton&&(this.disableSave=!1)}enableSaveMemo(){this.disabledMemo=!1}closeMyModel(t){g(t).modal("hide"),this.disableSave=!0}get userName(){return this.authService.currentUser?this.authService.currentUser.userName:""}get currentUserMasterCompanyId(){return this.authService.currentUser?this.authService.currentUser.masterCompanyId:null}openDocument(t){this.sourceViewforDocumentList=[],this.sourceViewforDocument=t,this.sourceViewforDocumentList=t.attachmentDetails}docviewdblclick(t){this.sourceViewforDocument=t,this.openDocument(t),g("#docView").modal("show")}openEdit(t){this.selectedFileAttachment=[],this.isEditButton=!0,this.documentInformation=t,this.sourceViewforDocumentList=t.attachmentDetails,this.disableSave=!0}addDocumentDetails(){this.selectedFileAttachment=[],this.sourceViewforDocumentList=[],this.isEditButton=!1,this.documentInformation={docName:"",docMemo:"",docDescription:"",attachmentDetailId:0,attachmentId:0}}parsedText(t){if(t){return(new DOMParser).parseFromString("<!doctype html><body>"+t,"text/html").body.textContent}}getDeleteListByStatus(t){this.currentDeletedstatus=!!t,this.getList()}dismissDocumentPopupModel(){this.isEditButton||this.fileUploadInput.clear()}downloadFile(t){const e=`${this.configurations.baseUrl}/api/FileUpload/downloadattachedfile?filePath=${t.link}`;window.location.assign(e)}getPageCount(t,e){return Math.ceil(t/e)}pageIndexChange(t){this.pageSize=t.rows}getColorCodeForHistory(t,e,n){const o=this.documentauditHisory,a=o.length;if(t>=0&&t<=a)return t+1===a||o[t+1][e]===n}saveFailedHelper(t){this.isSpinnerVisible=!1,this.alertService.stopLoadingMessage(),this.alertService.showStickyMessage("Save Error","The below errors occured whilst saving your changes:",M.d.error,t),this.alertService.showStickyMessage(t,null,M.d.error),setTimeout(()=>this.alertService.stopLoadingMessage(),1e4)}dateFilterForTable(t,e){if(""!==t&&D(t).format("MMMM DD YYYY")){this.commondocumentsDestructuredData=this.commondocumentsDestructuredDataOriginal;const n=[...this.commondocumentsDestructuredData.filter(n=>D(n.createdDate).format("MMMM DD YYYY")===D(t).format("MMMM DD YYYY")&&"createdDate"===e||D(n.updatedDate).format("MMMM DD YYYY")===D(t).format("MMMM DD YYYY")&&"updatedDate"===e?n:void 0)];this.commondocumentsDestructuredData=n}else this.commondocumentsDestructuredData=this.commondocumentsDestructuredDataOriginal}onClickMemo(){this.memoPopupContent=this.documentInformation.docMemo}onClickPopupSave(){this.documentInformation.docMemo=this.memoPopupContent,this.memoPopupContent="",g("#memo-popup-Doc").modal("hide"),this.disabledMemo=!0,this.disableSave=!1}closeMemoModel(){g("#memo-popup-Doc").modal("hide"),this.disabledMemo=!0}removeFile(t){this.formData.delete(t.file.name),this.uploadedFileLength--,this.disableSave=!0,this.selectedFileAttachment=this.selectedFileAttachment.filter(({fileName:e})=>e!==t.file.name)}openHistory(t){this.alertService.startLoadingMessage(),this.commonService.GetAttachmentCommonAudit(t.commonDocumentDetailId,this.referenceId,this.moduleId).subscribe(t=>this.onAuditHistoryLoadSuccessful(t),t=>this.saveFailedHelper(t))}onAuditHistoryLoadSuccessful(t){this.alertService.stopLoadingMessage(),this.documentauditHisory=t}errorMessageHandler(t){this.isSpinnerVisible=!1}openDelete(t,e){this.selectedRowForDelete=e,this.isDeleteMode=!0,delete e.updatedBy,this.localCollection=e,this.modal=this.modalService.open(t,{size:"sm"})}deleteItemAndCloseModel(){this.selectedRowForDelete&&this.selectedRowForDelete.attachmentId>0?this.commonService.GetAttachmentCommonDeleteById(this.selectedRowForDelete.commonDocumentDetailId,this.userName).subscribe(()=>{this.commondocumentsList.forEach(t=>{t.commonDocumentDetailId==this.selectedRowForDelete.commonDocumentDetailId&&(t.isDeleted=!0)}),this.getList(),this.alertService.showMessage("Success","Deleted  Documents Successfully ",M.d.success)},t=>this.saveFailedHelper(t)):(this.commondocumentsList.forEach(t=>{t.docName==this.selectedRowForDelete.docName&&0==t.attachmentId&&(t.isDeleted=!0)}),this.documentCollection=[],this.commondocumentsList.forEach(t=>{0==t.isDeleted&&this.documentCollection.push(t)}),this.alertService.showMessage("Success","Deleted  Documents Successfully ",M.d.success),this.isEnableUpdateButton=!1),this.modal.close(),this.triggerUpdatebutton()}restore(t,e){this.restorerecord=e,this.modal=this.modalService.open(t,{size:"sm",backdrop:"static",keyboard:!1})}restoreRecord(){this.restorerecord&&0!=this.restorerecord.attachmentId?this.commonService.updatedRestoreCommonRecords(this.restorerecord.commonDocumentDetailId,this.userName).subscribe(t=>{this.currentDeletedstatus=!0,this.commondocumentsList.forEach(t=>{t.commonDocumentDetailId==this.restorerecord.commonDocumentDetailId&&(t.isDeleted=!1)}),this.modal.close(),this.getList(),this.alertService.showMessage("Success","Document Restore Successfully",M.d.success),this.isSpinnerVisible=!1},t=>{const e=t;this.saveFailedHelper(e)}):(this.commondocumentsList.forEach(t=>{t.docName==this.restorerecord.docName&&(t.isDeleted=!1)}),this.documentCollection=[],this.commondocumentsList.forEach(t=>{1==t.isDeleted&&this.documentCollection.push(t)}),this.modal.close(),this.alertService.showMessage("Success","Document Restore Successfully",M.d.success),this.isEnableUpdateButton=!1),this.triggerUpdatebutton()}dismissModelRestore(){this.modal.close()}dismissModeldelete(){this.modal.close()}dismissModelHistory(){g("#contentAuditHist").modal("hide")}onUploadDocumentListToServer(){this.attachmoduleList.forEach(t=>{t.label==this.moduleName&&(this.moduleId=t.value)});const t={referenceId:this.referenceId,masterCompanyId:this.currentUserMasterCompanyId,createdBy:this.userName,updatedBy:this.userName,moduleId:this.moduleId};for(var e in t)this.formData.append(e,t[e]);if(this.documentCollection.length>0){const t=[];if(1==this.isEditButton&&this.newDocumentDetails)t.push(this.newDocumentDetails),this.updateCollection[0]=this.newDocumentDetails,this.formData.append("attachmentdetais",JSON.stringify(t)),this.commonService.uploadDocumentsCommonEndpointUpdate(this.formData,this.updateCollection).subscribe(()=>{this.alertService.showMessage("Success","Upload Documents Successfully.",M.d.success),this.formData=new FormData,this.isEditButton=!1,this.commondocumentsList=[],this.uploadDocsToser&&(this.uploadDocsToser.unsubscribe(),this.hideUpoladThing=!1),this.getList(),this.isEnableUpdateButton=!0},t=>{this.formData=new FormData});else{for(var n=0;n<this.documentCollection.length;n++)t.push(this.documentCollection[n]);this.updateCollection=this.documentCollection,this.formData.append("attachmentdetais",JSON.stringify(t)),this.commonService.uploadDocumentsCommonEndpoint(this.formData,this.updateCollection).subscribe(()=>{this.alertService.showMessage("Success","Upload Documents Successfully.",M.d.success),this.formData=new FormData,this.isEditButton=!1,this.commondocumentsList=[],this.isEnableUpdateButton=!0,this.uploadDocsToser&&(this.uploadDocsToser.unsubscribe(),this.hideUpoladThing=!1),this.getList()},t=>{this.formData=new FormData})}}}getList(){this.isSpinnerVisible=!0,this.attachmoduleList.forEach(t=>{t.label==this.moduleName&&(this.moduleId=t.value)}),this.commonService.GetDocumentsCommonList(this.referenceId,this.moduleId,this.currentDeletedstatus).subscribe(t=>{this.commondocumentsDestructuredData=[],this.documentCollection=[],this.commondocumentsDestructuredData=t,this.sourceViewforDocumentList.length>0&&this.sourceViewforDocumentList.forEach(t=>{t.isFileFromServer=!0}),this.commondocumentsList&&0!=this.commondocumentsList.length?1==this.currentDeletedstatus?(this.currentDeletedstatus=!0,this.commondocumentsList.forEach(t=>{1==t.isDeleted&&this.documentCollection.push(t)})):(this.currentDeletedstatus=!1,this.commondocumentsList.forEach(t=>{0==t.isDeleted&&this.documentCollection.push(t)})):1==this.currentDeletedstatus?(this.currentDeletedstatus=!0,this.commondocumentsDestructuredData.forEach(t=>{1==t.isDeleted&&this.documentCollection.push(t)})):(this.currentDeletedstatus=!1,this.commondocumentsDestructuredData.forEach(t=>{0==t.isDeleted&&this.documentCollection.push(t)})),this.isSpinnerVisible=!1},t=>{this.isSpinnerVisible=!1})}closeDeleteModal(){g("#downloadConfirmation").modal("hide")}viewModelDismiss(){g("#docView").modal("hide")}exportCSV(t){}fileUpload(t){0==t.files.length?this.disableSave=!0:this.disableSave=!1;const e=[];for(let a of t.files){for(var n=!1,o=0;o<this.commondocumentsDestructuredData.length;o++)this.commondocumentsDestructuredData[o].fileName==a.name&&(n=!0,this.alertService.showMessage("Duplicate","Already Exists this file ",M.d.warn),this.fileUploadInput&&this.fileUploadInput.clear());n||(e.push({link:a.objectURL,fileName:a.name,isFileFromServer:!1,fileSize:a.size}),this.formData.append(a.name,a))}this.formNames=[];for(o=0;o<e.length;o++)this.selectedFileAttachment.push({createdBy:this.userName,updatedBy:this.userName,createdDate:Date.now(),updatedDate:Date.now(),link:e[o].link,fileName:e[o].fileName,fileSize:e[o].fileSize,typeId:1,isFileFromServer:!1,attachmentDetailId:0,attachmentId:0,isDeleted:!1})}saveDocumentInformation(){if(this.newDocumentDetails={},this.documentInformation,this.selectedFileAttachment==[]||this.isEditButton||this.commondocumentsDestructuredData.push({docName:this.documentInformation.docName,docMemo:this.documentInformation.docMemo,docDescription:this.documentInformation.docDescription,masterCompanyId:this.authService.currentUser.masterCompanyId,attachmentId:0,createdBy:this.userName,updatedBy:this.userName,createdDate:Date.now(),updatedDate:Date.now(),isDeleted:!1,attachmentDetails:this.selectedFileAttachment}),this.newDocumentDetails=Object.assign({},this.documentInformation),1==this.isEditButton)for(var t=0;t<this.selectedFileAttachment.length;t++)this.newDocumentDetails.attachmentDetails.push(this.selectedFileAttachment[t]);if(this.documentInformation=Object.assign({},this.newDocumentDetails),this.documentInformation.attachmentId>0||this.index>0){for(t=0;t<=this.commondocumentsDestructuredData.length;t++)if(this.commondocumentsDestructuredData[t].attachmentId>0){if(this.commondocumentsDestructuredData[t].attachmentId==this.documentInformation.attachmentId){this.commondocumentsDestructuredData[t].docName=this.documentInformation.docName,this.commondocumentsDestructuredData[t].docMemo=this.documentInformation.docMemo,this.commondocumentsDestructuredData[t].docDescription=this.documentInformation.docDescription,this.commondocumentsDestructuredData[t].attachmentDetails=this.newDocumentDetails.attachmentDetails;break}}else if(t==this.index){this.commondocumentsDestructuredData[t].docName=this.documentInformation.docName,this.commondocumentsDestructuredData[t].docMemo=this.documentInformation.docMemo,this.commondocumentsDestructuredData[t].docDescription=this.documentInformation.docDescription;break}this.index=0,this.disableSave}this.enableUpdate=this.documentCollection&&this.documentCollection.length>0,this.commondocumentsDestructuredData=[...this.commondocumentsDestructuredData],this.documentCollection=this.commondocumentsDestructuredData,this.commondocumentsList=[...this.documentCollection],this.index=0,this.disableSave,g("#addDocumentDetails").modal("hide"),this.fileUploadInput&&this.fileUploadInput.clear(),this.selectedFileAttachment=[],0==this.offLineUpload?this.onUploadDocumentListToServer():this.alertService.showMessage("Success","Upload Documents Successfully.",M.d.success),this.isEnableUpdateButton=!1,this.triggerUpdatebutton()}backClick(){this.tab.emit("Shipping")}triggerUpdatebutton(){this.parentTrigger.emit(!0)}};I.ctorParameters=()=>[{type:w.a},{type:h.ActivatedRoute},{type:h.Router},{type:v.a},{type:b.c},{type:b.b},{type:u.FormBuilder},{type:M.b},{type:y.a},{type:f.b},{type:x.a}],o.b([Object(a.Input)()],I.prototype,"isViewMode",void 0),o.b([Object(a.Input)()],I.prototype,"moduleName",void 0),o.b([Object(a.Input)()],I.prototype,"referenceId",void 0),o.b([Object(a.Input)()],I.prototype,"editMode",void 0),o.b([Object(a.ViewChild)("fileUploadInput",{static:!1})],I.prototype,"fileUploadInput",void 0),o.b([Object(a.Input)()],I.prototype,"offLineUpload",void 0),o.b([Object(a.Input)()],I.prototype,"generalInformtionData",void 0),o.b([Object(a.Output)()],I.prototype,"tab",void 0),o.b([Object(a.Output)()],I.prototype,"parentTrigger",void 0),o.b([Object(a.Input)()],I.prototype,"uploadDocsToser",void 0),o.b([Object(a.ViewChild)("documents",{static:!1})],I.prototype,"Table",void 0),I=o.b([Object(a.Component)({selector:"app-common-documents",template:o.c(n("KZTQ")).default,styles:[o.c(n("KcaM")).default]})],I),n.d(e,"a",(function(){return C}));let C=class{};C=o.b([Object(a.NgModule)({declarations:[I],imports:[r.CommonModule,s.TableModule,l.a,d.FileUploadModule,i.a,c.EditorModule,m.MultiSelectModule,u.FormsModule,p.AutoCompleteModule],exports:[I]})],C)},KZTQ:function(t,e,n){"use strict";n.r(e),e.default='        <div class="card new-card">         \r\n          <div class="card-header header">\r\n            <div class="row">\r\n              <div class="col">\r\n                <h4 class="header-name">  Documents List</h4>\r\n              </div>\r\n              <div>\r\n                <a *ngIf="isViewMode == false" \r\n                 data-toggle="modal" data-target="#addDocumentDetails">\r\n                  <button type="button" class="btn-sm header-button"\r\n                    matTooltip="Add Documents" matTooltipPosition="above"\r\n                     (click)="addDocumentDetails();">\r\n                    Add Documents\r\n                  </button>\r\n                </a>              \r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="card-body header-body">\r\n            <p-table\r\n              #documents\r\n              class="rpo-table-cstm rro-table-cstm ptable-f10"\r\n              [value]="documentCollection"            \r\n              [rows]="pageSize"\r\n              [paginator]="true"\r\n              [pageLinks]="3"\r\n              [first]="0"\r\n              [rowsPerPageOptions]="[10, 20,  50, 100]"\r\n              [columns]="selectedColumns"\r\n              selectionMode="multiple"\r\n              [metaKeySelection]="true"\r\n              [resizableColumns]="true"\r\n              [reorderableColumns]="true"\r\n              [scrollable]="true"\r\n              (onPage)="pageIndexChange($event)"\r\n              scrollHeight="450px"\r\n            >  \r\n              <ng-template pTemplate="caption" >\r\n                <div class="row" *ngIf="isViewMode == false">\r\n                  <div class="col" >\r\n                  <p-multiSelect\r\n                    [options]="DocumentsColumns"\r\n                    [(ngModel)]="selectedColumns"\r\n                    [ngModelOptions]="{ standalone: true }"\r\n                    optionLabel="header"\r\n                    selectedItemsLabel="{0} columns selected"\r\n                    [style]="{ minWidth: \'200px\' }"\r\n                    defaultLabel="Choose Columns"\r\n                    style="float:left"\r\n                  ></p-multiSelect>\r\n                </div>\r\n                <div class="col" >\r\n                  <div\r\n                    style=" float: right;"\r\n                    class="inner-addon right-addon w200 inline-block g-filter-search-cstm"\r\n                  >\r\n                    <i class="fa fa-search"></i>\r\n                    <input\r\n                      type="text"\r\n                      pInputText\r\n                      size="50"\r\n                      class="form-control"\r\n                      (input)="\r\n                        documents.filterGlobal($event.target.value, \'contains\')\r\n                      "\r\n                      placeholder=" Filter" style="height: 28px !important;"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="row">\r\n                <div class="col" >\r\n                  <button *ngIf="isViewMode == false"\r\n                    type="button"\r\n                    class="btn btn-primary new-table-button"\r\n                    pButton\r\n                    icon="fa-download"\r\n                    matTooltip="Download  Data"\r\n                    matTooltipPosition="above"\r\n                    iconPos="left"\r\n                    label="Export  Data"\r\n                    (click)="documents.exportCSV()"\r\n                    style="padding: 5px 10px !important;"\r\n                    data-toggle="modal"\r\n                    data-target="#downloadConfirmation"\r\n                  ></button>\r\n\x3c!-- \r\n                  <button type="button" class="btn btn-primary new-table-button" matTooltip="Download Data"\r\n                  matTooltipPosition="above" pButton icon="fa-download" iconPos="left" label="Export Data"\r\n                  data-toggle="modal" (click)="selectedOnly = false; targetData = dt;"\r\n                  data-target="#downloadConfirmation"></button> --\x3e\r\n\r\n                  <button *ngIf="isViewMode == false"\r\n                    type="button"\r\n                    class="btn btn-primary new-table-button"\r\n                    pButton\r\n                    icon="fa-download"\r\n                    matTooltip="Download Selected Data"\r\n                    matTooltipPosition="above"\r\n                    iconPos="left"\r\n                    label="Export Selected Data"\r\n                    (click)="documents.exportCSV({ selectionOnly: true })"\r\n                    style="padding: 5px 10px !important;"\r\n                  ></button>\r\n                </div>\r\n                <div class="col">\r\n                  <div class="">\r\n                      <div class="col" style="width: 395px; float: right; padding-top: 3px;">\r\n                          <div class="form-group" style="float: right;">\r\n                  <div class="checkbox-cstm pull-left" style="margin-left: 0;">\r\n                    <label style="width: auto !important;margin-top: 3px;">\r\n                     <input type="checkbox" [(ngModel)]="currentDeletedstatus" name="cparent" id="cparent"  (click)="getDeleteListByStatus($event.target.checked)"/>\r\n                     <span class="cr"><i class="cr-icon pi pi-check"></i></span>\r\n                       Show Deleted List \r\n                   </label>\r\n                 </div>\r\n               </div>\r\n              </div> \r\n            </div>\r\n          </div>\r\n      </div>\r\n            </ng-template>\r\n            <div class="modal fade" id="downloadConfirmation" role="dialog" data-backdrop="static" data-keyboard="false">\r\n              <div class="modal-dialog modal-sm">\r\n                <div class="modal-content">\r\n                  <div class="modal-header">\r\n                    <button type="button" class="close" (click)="closeDeleteModal()">&times;</button>\r\n                    <h4 class="modal-title">Are You Sure Want to Download?</h4>\r\n                  </div>\r\n                  <div class="modal-body" *ngIf="targetData">\r\n                    <strong>\r\n                      <span>\r\n                        You are attempting to export {{targetData.totalRecords}} of records. \r\n                      </span> \r\n                    </strong>\r\n                  </div>\r\n                  <div class="modal-footer">\r\n                    <button type="button" class="btn btn-primary" (click)="documents.exportCSV()">Confirm</button>\r\n                    <button type="button" class="btn btn-danger" (click)="closeDeleteModal()">Cancel</button>\r\n                  </div>\r\n                </div>\r\n              </div> \r\n            </div>\r\n            <ng-template pTemplate="colgroup" let-columns>\r\n              <colgroup>\r\n                <col *ngFor="let col of columns" class="table-column-width" />\r\n              </colgroup>\r\n            </ng-template>\r\n  \r\n              <ng-template pTemplate="header" let-columns>\r\n                <tr>\r\n                  <ng-container *ngFor="let col of columns">\r\n                    <th class="table-column-width"\r\n                      *ngIf="col.field !== \'fileName\' && col.field !== \'fileName\' "\r\n                      pResizableColumn\r\n                      pReorderableColumn\r\n                      [pSortableColumn]="col.field">\r\n                      {{ col.header }}\r\n                      <p-sortIcon [field]="col.field"></p-sortIcon>\r\n                    </th>\r\n                    <th class="table-column-width" *ngIf="col.field == \'fileName\'">\r\n                      File Name\r\n                    </th>\r\n                  </ng-container>\r\n                  <th class="table-actions-column">Actions</th>\r\n                </tr>\r\n                <tr>\r\n                  <th\r\n                  class="table-column-width"\r\n                    *ngFor="let col of columns"\r\n                    [ngSwitch]="col.field"\r\n                  >\r\n                  \x3c!-- *ngIf=" col.field != \'createdDate\' && col.field != \'updatedDate\'" --\x3e\r\n                    <input type="text" class="incorn_border ui-widget table-header-input-width" [disabled]="col.field == \'fileName\'" (input)="documents.filter($event.target.value,col.field,\'contains\')" pInputText >\r\n                    \x3c!-- <input type="date" data-date-format="MM/DD/YYYY" class="hidePlaceHolder" *ngIf="col.field == \'createdDate\'" name="createdDate" style="width:120 px !important;" (change)="dateFilterForTable($event.target.value, col.field )"> \r\n                    <input type="date" data-date-format="MM/DD/YYYY" class="hidePlaceHolder" *ngIf="col.field == \'updatedDate\'" name="updatedDate" style="width:120 px !important;" (change)="dateFilterForTable($event.target.value, col.field )"> --\x3e\r\n                  </th>\r\n                  <th class="table-actions-column"></th>\r\n                </tr>\r\n              </ng-template>\r\n  \r\n              <ng-template pTemplate="body" let-rowData let-columns="columns">\r\n                <tr\r\n                  [pSelectableRow]="rowData"\r\n                  [pSelectableRowDblClick]="rowData"\r\n                  (dblclick)="docviewdblclick(rowData)"\r\n                >\r\n                  <ng-container *ngFor="let col of columns">\r\n                      <td class="table-column-width" *ngIf="col.field != \'fileName\' && col.field != \'docMemo\'"\r\n                          class="ui-resizable-column"\r\n                          pReorderableRowHandle>\r\n                          {{\r\n                            col.field == \'createdDate\'\r\n                          ? (rowData[col.field] | date: \'MM/dd/yyyy  h:mm a\')\r\n                          : rowData[col.field] && col.field == \'updatedDate\'\r\n                          ? (rowData[col.field] | date: \'MM/dd/yyyy  h:mm a\')\r\n                          : rowData[col.field]\r\n                          }}\r\n                      </td>\r\n                    <td class="table-column-width" *ngIf="col.field == \'docMemo\'">\r\n                        <p class="m-0 p-0 p_textEditor" style="float: left" [innerHTML]="rowData[col.field]"></p>\r\n                    </td>\r\n                    <td class="table-column-width" *ngIf="col.field == \'fileName\'">\r\n                      <tr *ngFor="let x of rowData.attachmentDetails">\r\n                          <a class="filelink" (click)="downloadFile(x)"> {{x.fileName}},</a>\r\n                      </tr>\r\n  \r\n  \r\n                   \r\n                      </td>\r\n                  </ng-container>\r\n  \r\n                  <td class="action-icons-cstm table-column-width" *ngIf="isViewMode == false">\r\n                    <div  *ngIf="currentDeletedstatus==true" >\r\n                        <span>\r\n                          <a \r\n                            class="btn btn-info boxed-float-btn nobg"\r\n                            data-toggle="modal"\r\n                            data-target="#docView"\r\n                            (click)="openDocument(rowData)"\r\n                            matTooltip="View"  matTooltipPosition="above"\r\n                          >\r\n                            <i class="fa fa-eye"></i>\r\n                          </a>\r\n                        </span>\r\n                        <span *ngIf="isViewMode == false"><a class="btn nobg" (click)="restore(restoreId,rowData);" matTooltip="Restore Record"  matTooltipPosition="above"><i class="fa fa-undo" aria-hidden="true"></i></a> </span>\r\n                        <span><button class="btn nobg greyHistory" data-toggle="modal" data-target="#contentAuditHist" \r\n                          (click)="openHistory(rowData)"   [disabled]="rowData.attachmentId ==0"\r\n                          matTooltip="History" matTooltipPosition="above"><i class="fa fa-history"></i></button>\r\n                        </span>\r\n                       \r\n                    </div>\r\n                    <div  *ngIf="currentDeletedstatus==false" >\r\n                      <span>\r\n                        <a\r\n                          class="btn btn-info boxed-float-btn nobg"\r\n                          data-toggle="modal"\r\n                          data-target="#docView"\r\n                          (click)="openDocument(rowData)"\r\n                          matTooltip="View"  matTooltipPosition="above"\r\n                        >\r\n                          <i class="fa fa-eye"></i>\r\n                        </a>\r\n                      </span>\r\n    \r\n                      <span data-toggle="modal" *ngIf="isViewMode == false"\r\n                      data-target="#addDocumentDetails">\r\n                        <a class="btn nobg" \r\n                        (click)="openEdit(rowData)" matTooltip="Edit" \r\n                        matTooltipPosition="above"><i class="fa fa-pencil"></i></a> </span>\r\n    \r\n                      <span *ngIf="isViewMode == false"><a class="btn nobg"\r\n                        (click)="openDelete(deleteContent, rowData); documents.reset()"\r\n                        matTooltip="Delete" matTooltipPosition="above"><i class="fa fa-trash"></i></a> </span>\r\n    \r\n                        <span><button class="btn nobg greyHistory" data-toggle="modal" data-target="#contentAuditHist"\r\n                          (click)="openHistory(rowData)" [disabled]="rowData.attachmentId ==0"\r\n                          matTooltip="History" matTooltipPosition="above"><i class="fa fa-history"></i></button></span>\r\n                    </div>\r\n                  </td>\r\n                  <td class="text-center" *ngIf="isViewMode == true">\r\n                    <span>\r\n                      <a\r\n                        class="btn btn-info boxed-float-btn nobg"\r\n                        data-toggle="modal"\r\n                        data-target="#docView"\r\n                        (click)="openDocument(rowData)"\r\n                        matTooltip="View"  matTooltipPosition="above"\r\n                      >\r\n                        <i class="fa fa-eye"></i>\r\n                      </a>\r\n                    </span>\r\n                    <span><button class="btn nobg"data-toggle="modal" data-target="#contentAuditHist"\r\n                      (click)="openHistory(rowData)" [disabled]="rowData.attachmentId ==0"\r\n                      matTooltip="History" matTooltipPosition="above"><i class="fa fa-history"></i></button></span>\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template\r\n                pTemplate="emptymessage"\r\n                let-columns\r\n                *ngIf="commondocumentsDestructuredData.length == 0"\r\n              >\r\n                <tr>\r\n                  <td\r\n                    [attr.colspan]="10"\r\n                    *ngIf="isViewMode == false"\r\n                    class="no-records-cstm no-records-msg"\r\n                  >\r\n                    No records found\r\n                  </td>\r\n                  <td\r\n                    [attr.colspan]="10"\r\n                    *ngIf="isViewMode == true"\r\n                    class="no-records-cstm no-records-msg"\r\n                  >\r\n                    No records found\r\n                  </td>\r\n                </tr>\r\n              </ng-template>\r\n              <ng-template pTemplate="summary" id="footer">\r\n                <label id="footer" class="footer">Total:</label>\r\n                <input\r\n                class="footer-input-width"\r\n                  [(ngModel)]="documents._totalRecords" name="no\'of records"\r\n                  [disabled]="true"\r\n                  pInputText\r\n                  type="text"\r\n                />\r\n  \r\n                &nbsp;&nbsp;\r\n                <label id="footer" class="footer1">Pages Count:</label>\r\n  \r\n                <input\r\n                class="footer-input-width"\r\n                  [ngModel]="getPageCount(documents._totalRecords, pageSize)" name="page count"\r\n                  [disabled]="true"\r\n                  pInputText\r\n                  type="text"\r\n                />\r\n              </ng-template>\r\n            </p-table>\r\n          </div>\r\n          <div style="margin-top:10px;margin-bottom: 30px;" *ngIf="isViewMode == false && offLineUpload==true">\r\n            <button [disabled]="isEnableUpdateButton"\r\n            type="button"\r\n            class="btn btn-primary pull-right submit-btn"\r\n            (click)="onUploadDocumentListToServer()"\r\n            *ngIf="isViewMode == false && !hideUpoladThing">\r\n           \r\n           <span *ngIf="enableUpdate"> Update </span>\r\n           <span *ngIf="!enableUpdate">Save </span>\r\n          </button> \r\n            <button type="button" *ngIf="moduleId==30" class="btn btn-primary pull-right submit-btn"\r\n            (click)="backClick()">Previous</button>\r\n           \r\n                  \r\n          </div>\r\n          \x3c!-- <div style="margin-top:10px" *ngIf="isViewMode == false && moduleId==30"> --\x3e\r\n  \r\n            \x3c!-- <button type="button" class="btn btn-primary pull-right submit-btn"\r\n            (click)="savedocument()" [routerLink]="[\r\n            \'/generalledgermodule/generalledgerpage/app-legal-entity-list\'\r\n          ]">{{ editMode ? \'Update\' : \'Save\' }}</button> --\x3e\r\n  \r\n            \x3c!-- <button type="button" class="btn btn-primary pull-right submit-btn"\r\n             (click)="backClick()" *ngIf="isViewMode == false">Previous</button>\r\n  \r\n            \r\n        </div> --\x3e\r\n        </div>\r\n      \r\n  <ng-template\r\n    #deleteContent id="deleteContent"\r\n    let-c="close"\r\n    let-d="dismiss"\r\n    data-backdrop="static">\r\n    <div class="modal-header">\r\n      <h4 class="modal-title">Are You Sure Want to Delete?</h4>\r\n      <button\r\n        type="button"\r\n        class="close"\r\n        aria-label="Close"\r\n        data-dismiss="modal"\r\n      >\r\n        <span aria-hidden="true">&times;</span>\r\n      </button>\r\n      \x3c!-- <div class="col-md-12 shadow-box-cstm">\r\n        <div class="col-md-6">\r\n          <p class="fs12">\r\n            <label class="control-label labels-font-header" style="width: auto;">Name:\r\n            </label>\r\n            <span class="span-header-red" style="text-transform: capitalize">\r\n              {{ generalName }}\r\n            </span>\r\n          </p>\r\n        </div>\r\n        <div class="col-md-6">\r\n          <p class="fs12">\r\n            <label class="control-label labels-font-header" style="width: auto;">Code:\r\n            </label>\r\n            <span class="span-header-red" style="text-transform: capitalize">\r\n              {{ generalCode }}\r\n            </span>\r\n          </p>\r\n        </div>\r\n      </div>  --\x3e\r\n    </div>\r\n  \r\n    <div class="modal-body">\r\n      \x3c!-- <strong>\r\n        Document Name:\r\n        <span class="new-label">{{ selectedRowForDelete.docName }}</span>\r\n      </strong> --\x3e\r\n      <div class="form-row" >\r\n        <div class="col-md-12" style="margin-right: 0px !important;">\r\n            <label class="fs12">  Document Name: </label>\r\n            <span class="new-label"> {{selectedRowForDelete.docName}}</span>\r\n        </div>\r\n        \x3c!-- <div class="col-md-8" style="margin-right: 0px !important;">\r\n            <label class="fs12">File Name  : </label>\r\n            <span class="new-label"> {{selectedRowForDelete.fileName}}</span>\r\n  \r\n        </div> --\x3e\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n      <button\r\n        type="button"\r\n        class="btn btn-primary" data-dismiss="modal"\r\n        (click)="deleteItemAndCloseModel()">\r\n        Yes\r\n      </button>\r\n      <button type="button" class="btn btn-danger" data-dismiss="modal">\r\n        No\r\n      </button>\r\n    </div>\r\n  </ng-template>\r\n  \r\n  <div id="docView" class="modal fade" role="dialog" data-backdrop="static">\r\n    <div class="modal-dialog">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" (click)="viewModelDismiss()">\r\n            &times;\r\n          </button>\r\n          <h4 class="modal-title">Details of  Document</h4>\r\n          \x3c!-- <div class="col-md-12 shadow-box-cstm">\r\n            <div class="col-md-6">\r\n              <p class="fs12">\r\n                <label class="control-label labels-font-header" style="width: auto;">Name:\r\n                </label>\r\n                <span class="span-header-red" style="text-transform: capitalize">\r\n                  {{ generalName }}\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <p class="fs12">\r\n                <label class="control-label labels-font-header" style="width: auto;">Code:\r\n                </label>\r\n                <span class="span-header-red" style="text-transform: capitalize">\r\n                  {{ generalCode }}\r\n                </span>\r\n              </p>\r\n            </div>\r\n          </div>  --\x3e\r\n        </div>\r\n        <div class="modal-body" *ngIf="sourceViewforDocument">\r\n          <div class="col-sm-12">\r\n            <p>\r\n              <span class="label"\r\n                ><b>Name<span class="clr-red">*</span> : </b></span\r\n              ><span class="value">{{ sourceViewforDocument.docName }}</span>\r\n            </p>\r\n            <p>\r\n              <span class="label"\r\n                ><b>Description : </b></span\r\n              ><span class="value">{{\r\n                sourceViewforDocument.docDescription\r\n              }}</span>\r\n            </p>\r\n            <p style="vertical-align: top;">\r\n              <span class="label" style="vertical-align:top;"><b>Memo: </b></span>\r\n              <span class="value">\r\n            <p class="p-0 m-0 p_textEditor" [innerHTML]="sourceViewforDocument.docMemo">\r\n            </p></span></p>\r\n            <p><span class="label"><b>Created Date: </b></span><span class="value">{{sourceViewforDocument.createdDate | date: \'MM/dd/yyyy h:mm a \'}}</span></p>\r\n            <p><span class="label"><b>Created By: </b></span><span class="value">{{sourceViewforDocument.createdBy}}</span></p>\r\n            <p><span class="label"><b>Updated Date: </b></span><span class="value">{{sourceViewforDocument.updatedDate | date: \'MM/dd/yyyy h:mm a \'}}</span></p>\r\n            <p><span class="label"><b>Updated By: </b></span><span class="value">{{sourceViewforDocument.updatedBy}}</span></p>\r\n            <div class="mt-3">\r\n              <h6 class="panel-title">Attachment Details:</h6>\r\n              <p-table\r\n                #dt\r\n                class="table-responsive ptable-cus-pma"\r\n                [paginator]="sourceViewforDocumentList.length > 0"\r\n                [value]="sourceViewforDocumentList"\r\n                [rows]="3"\r\n                [columns]="sourceViewforDocumentListColumns"\r\n              >\r\n                <ng-template pTemplate="header" let-columns>\r\n                  <tr>\r\n                    <th *ngFor="let col of columns">\r\n                      {{ col.header }}\r\n                    </th>\r\n                    <th>\r\n                      Download\r\n                    </th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th\r\n                      style="width:auto"\r\n                      *ngFor="let col of columns"\r\n                      [ngSwitch]="col.field"\r\n                    >\r\n                      <input\r\n                        style="width:100%;" class="incorn_border"\r\n                        pInputText\r\n                        type="text"\r\n                        (input)="\r\n                          dt.filter($event.target.value, col.field, \'contains\')\r\n                        "\r\n                      />\r\n                    </th>\r\n                    <th></th>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template\r\n                  pTemplate="body"\r\n                  let-part\r\n                  let-rowData\r\n                  let-columns="columns"\r\n                  let-i="rowIndex"\r\n                >\r\n                  <tr>\r\n                    <td *ngFor="let col of columns">\r\n                      <ng-container *ngIf="col.field == \'fileName\'">\r\n                        {{ part[col.field] }}\r\n                      </ng-container>\r\n                    </td>\r\n                    <td class="text_c">\r\n                      <button *ngIf="part.attachmentId!=0"\r\n                        (click)="downloadFile(part)"\r\n                        matTooltip="Download"  matTooltipPosition="above"\r\n                        class="downld"\r\n                        ><span><i class="fa fa-download"></i></span\r\n                      ></button>\r\n                      <button *ngIf="part.attachmentId==0" \r\n                     \r\n                      matTooltip="Download will be enabled after Save Records"  matTooltipPosition="above"\r\n                      class="downld"\r\n                      ><span><i class="fa fa-download"></i></span\r\n                    ></button>\r\n                    </td>\r\n                  </tr>\r\n                </ng-template>\r\n                <ng-template\r\n                  pTemplate="emptymessage"\r\n                  let-columns\r\n                  *ngIf="sourceViewforDocumentList.length == 0"\r\n                >\r\n                  <tr>\r\n                    <td\r\n                      [attr.colspan]="2"\r\n                      style="color: red; font-weight: bold; text-align: center"\r\n                    >\r\n                      No records found\r\n                    </td>\r\n                  </tr>\r\n                </ng-template>\r\n              </p-table>\r\n            </div>\r\n            <div class="clear"></div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-danger" (click)="viewModelDismiss()">\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div\r\n    class="modal fade"\r\n    id="addDocumentDetails"\r\n    role="dialog"\r\n    data-backdrop="static"\r\n    >\r\n    <div class="modal-dialog modal-sm">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button \r\n            type="button"\r\n            class="close font_chck"\r\n            (click)="closeMyModel(\'#addDocumentDetails\')"\r\n          >\r\n            &times;\r\n          </button>\r\n          <h4 class="modal-title"> {{isEditButton ? \'Edit\' : \'Add\' }} Document Details</h4>\r\n          \x3c!-- <div class="col-md-12 shadow-box-cstm">\r\n            <div class="col-md-6">\r\n              <p class="fs12">\r\n                <label class="control-label labels-font-header" style="width: auto;">Name:\r\n                </label>\r\n                <span class="span-header-red" style="text-transform: capitalize">\r\n                  {{ generalName }}\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <p class="fs12">\r\n                <label class="control-label labels-font-header" style="width: auto;">Code:\r\n                </label>\r\n                <span class="span-header-red" style="text-transform: capitalize">\r\n                  {{ generalCode }}\r\n                </span>\r\n              </p>\r\n            </div> --\x3e\r\n          </div> \r\n        \x3c!-- </div> --\x3e\r\n        <div class="modal-body">\r\n        <form #addDocumentForm="ngForm" class="form-horizontal">\r\n          <div class="modal-body">\r\n            <div class="form-row">\r\n              <div class="col-md-6">\r\n                <div class="form-group">\r\n                  <label>Name <span class="clr-red">*</span></label>\r\n                  <input\r\n                    class="form-control"\r\n                    type="text"\r\n                    name="name-Docs"\r\n                    [(ngModel)]="documentInformation.docName"\r\n                    (ngModelChange)="enableSave()"\r\n                    required\r\n                  />\r\n                </div>\r\n                <div class="form-group">\r\n                  <label>Description </label>\r\n                  <textarea\r\n                    class="form-control"\r\n                    name="descriptionDocs"\r\n                    [(ngModel)]="documentInformation.docDescription"\r\n                    (ngModelChange)="enableSave()"\r\n                  ></textarea>\r\n                </div>\r\n                <div class="form-group">\r\n                  <span class="label">Memo </span>\r\n                  <div class="col-sm-11">\r\n                    <span>                    \r\n                      <div class="form-group memo-popup-cstm mat_emo">\r\n                        <div\r\n                        (ngModelChange)="enableSave()"\r\n                          [innerHTML]=" documentInformation.docMemo.trim()"\r\n                          [matTooltip]="parsedText(documentInformation.docMemo)"\r\n                          class="form-control"\r\n                          style="width: 109%;"\r\n                          class="text_editor_box"\r\n                        ></div>\r\n                      </div>\r\n                    </span>\r\n                  </div>\r\n                  <div class="col-sm-1">\r\n                    <span style="margin-left:10px">\r\n                      <a\r\n                      class="btn nobg" \r\n                      data-toggle="modal"\r\n                      (ngModelChange)="enableSave()"\r\n                      data-target="#memo-popup-Doc"\r\n                      (click)="onClickMemo()"\r\n                      matTooltip="Add Memo"\r\n                      matTooltipPosition="above"><i class="fa fa-pencil" style="color: #2275ce;\r\n                      font-size: 14px;"></i>\r\n                      </a>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \x3c!-- *ngIf="!isEditButton" --\x3e\r\n              <div class="col-md-12" >\r\n                <div class="form-group">\r\n                  <label style="float: none;">Attachments <span class="clr-red" *ngIf="!isEditButton">*</span></label>\r\n                  <p-fileUpload \r\n                    #fileUploadInput\r\n                    name="fileupload[]"\r\n                    multiple="multiple"\r\n                    [showCancelButton]="false"\r\n                    [showUploadButton]="false"\r\n                    customUpload="true"\r\n                    (ngModelChange)="enableSave()"\r\n                    (onSelect)="fileUpload($event)"\r\n                    (onRemove)="removeFile($event)"\r\n                  ></p-fileUpload>\r\n                </div> \r\n              </div>\r\n              <div\r\n                class="table-responsive table-overflow"\r\n                *ngIf="isEditButton"\r\n              >\r\n                <h6 class="panel-title" style="padding-left: 10px;">\r\n                  Attachment Details:\r\n                </h6>\r\n                \x3c!-- [paginator]="sourceViewforDocumentList.length > 0" --\x3e\r\n                <p-table\r\n                  class="table-responsive ptable-cus-pma"\r\n                  [value]="sourceViewforDocumentList"\r\n                  [rows]="3"\r\n                  [columns]="sourceViewforDocumentListColumns">\r\n                  <ng-template pTemplate="header" let-columns>\r\n                    <tr>\r\n                      <th *ngFor="let col of columns">\r\n                        {{ col.header }}\r\n                      </th>\r\n                      <th>\r\n                        Download\r\n                      </th>\r\n                    </tr>\r\n                  </ng-template>\r\n                  <ng-template\r\n                    pTemplate="body"\r\n                    let-part\r\n                    let-rowData\r\n                    let-columns="columns"\r\n                    let-i="rowIndex">\r\n                    <tr>\r\n                      <td *ngFor="let col of columns">\r\n                        <ng-container *ngIf="col.field == \'fileName\'">\r\n                          {{ part[col.field] }}\r\n                        </ng-container>\r\n                      </td>\r\n                      \x3c!-- <td class="text_c">\r\n                        <button [disabled]="part.attachmentId ==0"\r\n                          (click)="downloadFile(part)"\r\n                          matTooltip="Download"  matTooltipPosition="above"\r\n                          class="downld"\r\n                          ><span><i class="fa fa-download"></i></span\r\n                        ></button>\r\n                      </td> --\x3e\r\n                      \x3c!-- <td class="text_c"> *ngIf="part.attachmentId!=0" --\x3e\r\n                        \x3c!-- <a (click)="downloadFile(part)" matTooltip="Download" matTooltipPosition="above" class="btn nobg btn-cstm"><span><i class="fa fa-download"></i></span></a> --\x3e\r\n                        \x3c!-- <span>\r\n                            <a class="btn nobg"\r\n                               (click)="openDeletes(content,rowData)"\r\n                               matTooltip="Delete" matTooltipPosition="above">\r\n                                <i class="fa fa-trash"></i>\r\n                            </a>\r\n                        </span> --\x3e\r\n  \r\n                    \x3c!-- </td> --\x3e\r\n                    <td class="text_c">\r\n                      <button *ngIf="part.attachmentId!=0"\r\n                        (click)="downloadFile(part)"\r\n                        matTooltip="Download"  matTooltipPosition="above"\r\n                        class="downld"\r\n                        ><span><i class="fa fa-download"></i></span\r\n                      ></button>\r\n                      <button *ngIf="part.attachmentId==0" \r\n                      matTooltip="Download will be enabled after Save Records"  matTooltipPosition="above"\r\n                      class="downld"\r\n                      ><span><i class="fa fa-download"></i></span\r\n                    ></button>\r\n                    </td>\r\n                    </tr>\r\n                  </ng-template>\r\n                  <ng-template\r\n                    pTemplate="emptymessage"\r\n                    let-columns\r\n                    *ngIf="sourceViewforDocumentList.length == 0"\r\n                  >\r\n                    <tr>\r\n                      <td\r\n                        [attr.colspan]="2"\r\n                        style="color: red; font-weight: bold; text-align: center"\r\n                      >\r\n                        No records found\r\n                      </td>\r\n                    </tr>\r\n                  </ng-template>\r\n                </p-table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="modal-footer">\r\n            <button\r\n              type="button"\r\n              *ngIf="!isEditButton"\r\n              class="btn btn-primary pull-right submit-btn"\r\n              style="text-align:center"\r\n              (click)="saveDocumentInformation()"\r\n              [disabled]="!addDocumentForm.valid || disableSave"\r\n            >\r\n              Save\r\n            </button>\r\n            <button\r\n              type="button"\r\n              *ngIf="isEditButton"\r\n              class="btn btn-primary pull-right submit-btn"\r\n              style="text-align:center"\r\n              (click)="saveDocumentInformation()"\r\n              [disabled]="!addDocumentForm.valid || disableSave"\r\n            >\r\n              Update\r\n            </button>\r\n            <button\r\n              type="button"\r\n              class="btn btn-danger"\r\n              (click)="dismissDocumentPopupModel(); closeMyModel(\'#addDocumentDetails\')"\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="modal fade" id="memo-popup-Doc" style="z-index: 15000 !important;"  role="dialog" data-backdrop="static" data-keyboard="false">\r\n      <div class="modal-dialog modal-sm">\r\n        <div class="modal-content">\r\n          <div class="modal-header">\r\n            <button type="button" class="close"  (click)="closeMemoModel()">\r\n              &times;\r\n            </button>\r\n            <h4 class="modal-title">Edit Memo</h4>\r\n          </div>\r\n          <div class="modal-body">\r\n            \x3c!-- <table class="table table-bordered table-fixed workflow-table-material">\r\n              <thead>\r\n                <th style="color: #fff;">Memo</th>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td style="white-space: inherit">\r\n                    <p-editor\r\n                     spellcheck="true"\r\n                      [(ngModel)]="memoPopupContent"  (ngModelChange)="enableSaveMemo()"\r\n                      [style]="{ height: \'320px\' }"\r\n                      name="memoPopupContent"\r\n                      required\r\n                    ></p-editor>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table> --\x3e\r\n            <p-editor\r\n            spellcheck="true"\r\n             [(ngModel)]="memoPopupContent"  (ngModelChange)="enableSaveMemo()"\r\n             [style]="{ height: \'320px\' }"\r\n             name="memoPopupContent"\r\n             required\r\n           ></p-editor>\r\n            <div class="editor-buttons">\r\n              <button\r\n                type="button"\r\n                class="btn btn-primary editor-buttons-margin" [disabled]="disabledMemo"\r\n                (click)="onClickPopupSave()">\r\n                Save\r\n              </button>\r\n              <button\r\n                type="button"\r\n                class="btn btn-danger editor-buttons-margin"\r\n                (click)="closeMemoModel()" >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \r\n  <div  id="contentAuditHist" #contentAuditHist class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">\r\n    <div class="modal-dialog modal-xlg">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n  \r\n                <h4 class="modal-title">History of  Documents</h4>\r\n                <button type="button" class="close" aria-label="Close" (click)="dismissModelHistory()">\r\n                    <span aria-hidden="true">&times;</span>\r\n                </button>\r\n        \r\n        \r\n            </div>\r\n            <div class="modal-body">\r\n                \x3c!-- <div class="col-md-12 shadow-box-cstm">\r\n                    <div class="col-md-4">\r\n                        <p class="fs12">\r\n                            <label class="control-label labels-font-header"\r\n                             style="width: auto;">Name: </label>\r\n                            <span class="span-header-red"\r\n                             style="text-transform: capitalize"> {{generalName }}\r\n                             </span>\r\n                        </p>\r\n                    </div>\r\n                    <div class="col-md-4">\r\n                        <p class="fs12">\r\n                            <label class="control-label labels-font-header"\r\n                             style="width: auto;">Code: </label>\r\n                            <span class="span-header-red" \r\n                            style="text-transform: capitalize"> {{generalCode }} \r\n                        </span>\r\n                        </p>\r\n                    </div>\r\n                </div> --\x3e\r\n                <div class="table-responsive history_hg">\r\n                    <table class="table table-bordered">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Name <span class="clr-red">*</span></th>\r\n                                <th>Description</th>\r\n                                <th>Memo</th>\r\n                                <th>File Name <span class="clr-red">*</span></th>\r\n                                <th>Created Date</th>\r\n                                <th>Created By</th>\r\n                                <th> Updated Date</th>\r\n                                <th>Updated By</th>\r\n                                <th>Is Deleted</th>\r\n        \r\n        \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            \x3c!-- <tr *ngIf="documentauditHisory && documentauditHisory.length !=0"> --\x3e\r\n                            <tr *ngFor="let audit of documentauditHisory; let i = index;">\r\n                                <td [ngStyle]="{\'color\':  getColorCodeForHistory(i, \'docName\', audit.docName)  ? \'black\' : \'red\'  }">{{audit.docName}}</td>\r\n                               \r\n                               \r\n                               \r\n                                <td [ngStyle]="{\'color\': getColorCodeForHistory(i, \'docDescription\', audit.docDescription)  ? \'black\' : \'red\'  }">{{audit.docDescription}}</td>\r\n                                <td [ngStyle]="{\'color\': getColorCodeForHistory(i, \'docMemo\', audit.docMemo)  ? \'black\' : \'red\'  }">\r\n                                    <p [innerHTML]="audit.docMemo"></p>\r\n                                </td>\r\n                                <td>\r\n                                  <tr *ngFor="let x of audit.attachmentDetails">\r\n                                      <a [ngStyle]="{\'color\':  getColorCodeForHistory(i, \'fileName\', audit.fileName)  ? \'black\' : \'red\'  }" class="filelink" (click)="downloadFile(x)"> {{x.fileName}} <span *ngIf="audit.attachmentDetails && audit.attachmentDetails.length>0">,</span></a>\r\n                                  </tr>\r\n              \r\n              \r\n                               \r\n                                  </td>\r\n                                \x3c!-- <td [ngStyle]="{\'color\': getColorCodeForHistory(i, \'fileName\', audit.fileName)  ? \'black\' : \'red\'  }">{{audit.fileName}}</td> --\x3e\r\n        \r\n                                <td>{{audit.createdDate | date: \'MM/dd/yyyy h:mm a \'}}</td>\r\n                                <td>{{audit.createdBy}}</td>\r\n                                <td>{{audit.updatedDate | date: \'MM/dd/yyyy h:mm a \'}}</td>\r\n                                <td>{{audit.updatedBy}}</td>\r\n                                <td style="text-align: center;">\r\n                                    <span class="value">\r\n                                      <label class="wauto">\r\n                                          <input type="checkbox" name="isDeleted" [checked]="audit.isDeleted == true" disabled>\r\n                                      </label>\r\n                                    </span>\r\n                                  </td>\r\n                            </tr>\r\n  \r\n                        </tbody>\r\n        \r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-danger" (click)="dismissModelHistory()">Close</button>\r\n            </div>\r\n        </div>\r\n  \r\n    </div>\r\n  </div>\r\n  <ng-template #restoreId  id="restoreId" let-c="close" let-d="dismiss" data-backdrop="static">\r\n      \r\n    <div class="modal-header">\r\n        <h4 class="modal-title">Are You Sure Want to Restore ?</h4>\r\n  \r\n        <button type="button" class="close" aria-label="Close" (click)="dismissModelRestore()">\r\n            <span aria-hidden="true">&times;</span>\r\n        </button>\r\n        \x3c!-- <div class="col-md-12 shadow-box-cstm">\r\n            <div class="col-md-6">\r\n                <p class="fs12">\r\n                    <label class="control-label labels-font-header" style="width: auto;">\r\n                        Customer Name:\r\n                    </label>\r\n                    <span class="span-header-red" style="text-transform: capitalize">\r\n                        {{ generalName }}\r\n                    </span>\r\n                </p>\r\n            </div>\r\n            <div class="col-md-6">\r\n                <p class="fs12">\r\n                    <label class="control-label labels-font-header" style="width: auto;">\r\n                        Customer Code:\r\n                    </label>\r\n                    <span class="span-header-red" style="text-transform: capitalize">\r\n                        {{ generalCode }}\r\n                    </span>\r\n                </p>\r\n            </div>\r\n        </div> --\x3e\r\n    </div>\r\n  <div class="modal-body">\r\n      <strong>\r\n        Document Name:\r\n          <span class="new-label">{{restorerecord.docName}}</span>\r\n      </strong>\r\n  </div>\r\n  <div class="modal-footer">\r\n      <button type="button" class="btn btn-primary" (click)="restoreRecord()">Yes</button>\r\n      <button type="button" class="btn btn-danger" (click)="dismissModelRestore()">No</button>\r\n  </div>\r\n  </ng-template>  \r\n  <div class="preloader" *ngIf="isSpinnerVisible">\r\n    <div class="loading">\r\n      <div class="lds-roller">\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n        <div></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n'},KcaM:function(t,e,n){"use strict";n.r(e),e.default=".x_panel {\n  padding: 0 10px;\n  background-color: #fff;\n}\n\nlabel {\n  text-align: left;\n  width: auto;\n  margin-right: 0;\n  font-weight: normal;\n}\n\n.docs {\n  position: relative;\n  top: -2px;\n}\n\n.downld {\n  background: transparent !important;\n  border: none !important;\n}\n\n.text_c {\n  text-align: center;\n}\n\n.viewform-cstm .label {\n  width: 120px !important;\n}\n\n.viewform-cstm .value {\n  margin-left: 10px;\n}\n\n.form-control:disabled {\n  background-color: #e9ecef !important;\n}\n\ninput[type=text], input[type=number], input[type=email], select {\n  height: 24px !important;\n  border-radius: 5px !important;\n}\n\ntextarea {\n  border-radius: 5px !important;\n  height: 24px !important;\n}\n\na.fa.fa-plus-circle {\n  color: green !important;\n}\n\n.label-cstm {\n  width: auto;\n  float: left;\n  text-align: left;\n  margin-right: 0;\n  font-weight: normal;\n}\n\na.fa.fa-plus-circle {\n  color: green !important;\n}\n\n.checkbox-cstm {\n  margin-left: 10px;\n}\n\n.cus-contact-table tr th {\n  padding: 7px;\n}\n\n.cus-contact-table tr td {\n  padding: 4px;\n}\n\ntd {\n  padding: 5px !important;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n:host ::ng-deep .ui-table-summary {\n  margin-right: 0px !important;\n}\n\n.font_chck {\n  font-size: 24px;\n}"}}]);