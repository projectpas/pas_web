function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"+6XX":function(t,e,r){var n=r("y1pI");t.exports=function(t){return n(this.__data__,t)>-1}},"+K+b":function(t,e,r){var n=r("JHRd");t.exports=function(t){var e=new t.constructor(t.byteLength);return new n(e).set(new n(t)),e}},"+iFO":function(t,e,r){var n=r("dTAl"),i=r("LcsW"),a=r("6sVZ");t.exports=function(t){return"function"!=typeof t.constructor||a(t)?{}:n(i(t))}},"03A+":function(t,e,r){var n=r("JTzB"),i=r("ExA7"),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return i(t)&&o.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},"0Cz8":function(t,e,r){var n=r("Xi7e"),i=r("ebwN"),a=r("e4Nc");t.exports=function(t,e){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!i||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new a(o)}return r.set(t,e),this.size=r.size,this}},"0ycA":function(t,e){t.exports=function(){return[]}},"1+5i":function(t,e,r){var n=r("w/wX"),i=r("sEf8"),a=r("mdPL"),o=a&&a.isSet,s=o?i(o):n;t.exports=s},"2gN3":function(t,e,r){var n=r("Kz5y")["__core-js_shared__"];t.exports=n},"2m6e":function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,r,o):i(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var o=r("8Y7J"),s=r("s7LF"),l=r("SVse"),d=function(){function t(t,e){this.el=t,this.ngModel=e,this.onResize=new o.EventEmitter}return t.prototype.ngDoCheck=function(){this.updateFilledState(),this.autoResize&&this.resize()},t.prototype.onInput=function(t){this.updateFilledState(),this.autoResize&&this.resize(t)},t.prototype.updateFilledState=function(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model},t.prototype.onFocus=function(t){this.autoResize&&this.resize(t)},t.prototype.onBlur=function(t){this.autoResize&&this.resize(t)},t.prototype.resize=function(t){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(t||{})},n([o.Input(),i("design:type",Boolean)],t.prototype,"autoResize",void 0),n([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onResize",void 0),n([o.HostListener("input",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onInput",null),n([o.HostListener("focus",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onFocus",null),n([o.HostListener("blur",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onBlur",null),n([o.Directive({selector:"[pInputTextarea]",host:{"[class.ui-inputtext]":"true","[class.ui-corner-all]":"true","[class.ui-inputtextarea-resizable]":"autoResize","[class.ui-state-default]":"true","[class.ui-widget]":"true","[class.ui-state-filled]":"filled"}}),a(1,o.Optional()),i("design:paramtypes",[o.ElementRef,s.NgModel])],t)}();e.InputTextarea=d;var c=function(){function t(){}return n([o.NgModule({imports:[l.CommonModule],exports:[d],declarations:[d]})],t)}();e.InputTextareaModule=c},"3Fdi":function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},"4kuk":function(t,e,r){var n=r("SfRM"),i=r("Hvzi"),a=r("u8Dt"),o=r("ekgI"),s=r("JSQU");function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},"5Tg0":function(t,e,r){(function(t){var n=r("Kz5y"),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}}).call(this,r("YuTi")(t))},"64fc":function(t,e,r){"use strict";r.r(e),e.default='<p-breadcrumb [model]="breadcrumbs"></p-breadcrumb>\r\n<div *ngIf="!isWorkOrder">\r\n    <div [@fadeInOut] class="page-content">        \r\n        <div class="right_col" role="main">\r\n            <div class="card new-card">\r\n                <div class="card-header bg-primary new-card-header">\r\n                    <div class="row">\r\n                      <div class="col">\r\n                        <h4 class="new-card-heading">Workflows List</h4>\r\n                      </div>\r\n                      <div>\r\n                        <button\r\n                           type="button"\r\n                           class="btn-sm new-btn-primary"\r\n                           (click)="AddPage()">\r\n                           Create New Workflow\r\n                        </button>\r\n                     </div>\r\n                    </div>\r\n                </div>\r\n                <div class="card-body new-card-body">                                \r\n                <p-table\r\n                    #dt\r\n                    class="rpo-table-cstm rro-table-cstm"\r\n                    [value]="workflowList"\r\n                    [first]="0"\r\n                    [rows]="pageSize"\r\n                    [paginator]="true"\r\n                    [pageLinks]="3"\r\n                    [lazy]="true"\r\n                    (onLazyLoad)="loadData($event)"\r\n                    [rowsPerPageOptions]="[10, 20, 50, 100]"\r\n                    [columns]="selectedGridColumns"\r\n                    [metaKeySelection]="true"\r\n                    selectionMode="multiple"\r\n                    [(selection)]="selectedColumn"\r\n                    [resizableColumns]="true"\r\n                    [reorderableColumns]="true"\r\n                    [scrollable]="true"\r\n                    scrollHeight="450px"\r\n                    [totalRecords]="totalRecords"\r\n                >                            \r\n                <ng-template pTemplate="caption">\r\n                    <div class="row">\r\n                        <div class="col">\r\n                            <p-multiSelect [options]="gridColumns" [(ngModel)]="selectedGridColumns"\r\n                                optionLabel="header" selectedItemsLabel="{0} columns selected"\r\n                                [style]="{minWidth: \'200px\', paddingRight: \'30px\'}"\r\n                                defaultLabel="Choose Columns" style="float:left">\r\n                            </p-multiSelect>\r\n                        </div>\r\n                        <div class="col">\r\n                            <div style="width: auto !important; float: right;"\r\n                                class="inner-addon right-addon w50 inline-block g-filter-search-cstm"\r\n                                >\r\n                                <i class="fa fa-search"></i>\r\n                                <input type="text" pInputText size="50"\r\n                                class="form-control"\r\n                                (input)="dt.filterGlobal($event.target.value, \'contains\')"\r\n                                placeholder=" Filter" style="height: 28px !important;" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="row">\r\n                        <div class="col">\r\n                            <button type="button"\r\n                                    class="btn btn-primary new-table-button"\r\n                                    matTooltip="Download Data"\r\n                                    matTooltipPosition="above"\r\n                                    pButton\r\n                                    icon="fa-download"\r\n                                    iconPos="left"\r\n                                    label="Export All Data"\r\n                                    data-toggle="modal" \r\n                                    (click)="selectedOnly = false; targetData = dt;"\r\n                                     data-target="#downloadConfirmation">\r\n                            </button> \r\n                            <button type="button"\r\n                                    class="btn btn-primary new-table-button"\r\n                                    matTooltip="Download Selected Data"\r\n                                    matTooltipPosition="above"\r\n                                    pButton\r\n                                    icon="fa-download"\r\n                                    iconPos="left"\r\n                                    label="Export Selected Data"\r\n                                    (click)="dt.exportCSV({selectionOnly:true})">\r\n                            </button>\r\n                        </div>\r\n                        <div class="col">\r\n                            <div class="">\r\n                              <div\r\n                                class="col"\r\n                                style="width: 395px; float: right; padding-top: 3px;">\r\n                                <div class="form-group">\r\n                                  <div\r\n                                    class="pull-left"\r\n                                    style="margin-top: 4px; margin-right: 15px;">\r\n                                    <label class="radio-cstm wauto">\r\n                                      <input type="radio" name="vendorStatus"\r\n                                        class="form-control" value="active"\r\n                                        (click)="getListByStatus(\'active\')"\r\n                                        checked/>\r\n                                      <span class="checkmark"></span>Active</label>\r\n                                  </div>\r\n                                  <div\r\n                                    class="pull-left"\r\n                                    style="margin-top: 4px; margin-right: 15px;">\r\n                                    <label class="radio-cstm wauto">\r\n                                      <input type="radio" name="vendorStatus"\r\n                                        class="form-control" value="inactive"\r\n                                        (click)="getListByStatus(\'inactive\')"/>\r\n                                      <span class="checkmark"></span>In-Active</label>\r\n                                  </div>\r\n                                  <div\r\n                                    class="pull-left"\r\n                                    style="margin-top: 4px; margin-right: 15px;">\r\n                                    <label class="radio-cstm wauto">\r\n                                      <input type="radio" name="vendorStatus"\r\n                                        class="form-control" value="all"\r\n                                        (click)="getListByStatus(\'all\')"/>\r\n                                      <span class="checkmark"></span>All</label>\r\n                                  </div>\r\n                                  <div class="checkbox-cstm" style="margin-left: 0;">\r\n                                    <label style="width: auto !important; margin-top: 3px;">\r\n                                      <input type="checkbox"[(ngModel)]="currentDeletedstatus"\r\n                                        name="cparent" id="cparent"\r\n                                        (click)="getDeleteListByStatus($event.target.checked)"/>\r\n                                      <span class="cr"><i class="cr-icon pi pi-check"></i></span>\r\n                                      Show Deleted List\r\n                                    </label>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                    </div>\r\n                </ng-template>\r\n                <ng-template pTemplate="header" let-columns>\r\n                    <tr>\r\n                        <th *ngFor="let col of columns" pResizableColumn pReorderableColumn\r\n                            [pSortableColumn]="col.field" style="width: 150px !important;">\r\n                            {{col.header}}\r\n                            <p-sortIcon [field]="col.field"></p-sortIcon>\r\n                        </th>\r\n                        <th style="width: 140px !important;">Actions</th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th *ngFor="let col of columns" [ngSwitch]="col.field" style="width: 150px !important;">\r\n                            <input  *ngIf="col.field != \'createdDate\' && col.field != \'updatedDate\' && col.field != \'workflowCreateDate\' && col.field != \'workflowExpirationDate\'" style="width: 100%;"\r\n                                   pInputText type="text" (keyup)=" dt.filter($event.target.value, col.field, \'contains\'); resetGlobalFilter() " />\r\n                            <input type="date"   style="width:100%" class="hidePlaceHolder" *ngIf="col.field == \'workflowCreateDate\'" name="workflowCreateDate"  (change)="dateFilterForWorkFlowList($event.target.value, col.field)" />\r\n                            <input type="date"   style="width:100%" class="hidePlaceHolder" *ngIf="col.field == \'workflowExpirationDate\'" name="workflowExpirationDate"  (change)="dateFilterForWorkFlowList($event.target.value, col.field)" />\r\n                            <input type="date"   style="width:100%" class="hidePlaceHolder" *ngIf="col.field == \'createdDate\'" name="createdDate"  (change)="dateFilterForWorkFlowList($event.target.value, col.field)" />\r\n                            <input type="date"   style="width:100%" class="hidePlaceHolder" *ngIf="col.field == \'updatedDate\'" name="updatedDate"  (change)="dateFilterForWorkFlowList($event.target.value, col.field)" />\r\n                        </th>\r\n                        <th style="width: 140px !important;"></th>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">\r\n                    <tr [pSelectableRow]="rowData" pReorderableRowHandle (dblclick)="openEdit(rowData)">\r\n                        <td *ngFor="let col of columns" class="ui-resizable-column" style="width: 150px !important;" pReorderableRowHandle>\r\n                            {{\r\n                                col.field == \'workflowExpirationDate\'?  \r\n                                (rowData[col.field] | date: \'MM/dd/yyyy\') \r\n                                : rowData[col.field] && col.field == \'workflowExpirationDate\'?  \r\n                                (rowData[col.field] | date: \'MM/dd/yyyy\')\r\n                                : rowData[col.field] && col.field == \'workflowCreateDate\'?  \r\n                                (rowData[col.field] | date: \'MM/dd/yyyy\')\r\n                                : rowData[col.field] && col.field == \'createdDate\'\r\n                                ? (rowData[col.field] | date: \'MM/dd/yyyy, h:mm a\')\r\n                                : rowData[col.field] && col.field == \'updatedDate\'\r\n                                ? (rowData[col.field] | date: \'MM/dd/yyyy h:mm a\')\r\n                                :rowData[col.field]\r\n                            }}\r\n                        </td>\r\n                        <td style="width: 140px !important;">\r\n                            <div *ngIf="currentDeletedstatus == false">\r\n                                <p-inputSwitch\r\n                                    [(ngModel)]="rowData[\'isActive\']"\r\n                                    name="isActive{{ rowIndex }}"\r\n                                    matTooltip="{{ rowData[\'isActive\'] ? \'Active\' : \'In Active\' }}"\r\n                                    matTooltipPosition="above"\r\n                                    (onChange)="toggleIsActive(rowData, $event)">\r\n                                </p-inputSwitch>\r\n                            <span data-toggle="modal" data-target="#view"\r\n                                (click)="onViewWFDetails(rowData)">\r\n                                <a data-toggle="tooltip" matTooltipPosition="above" matTooltip="View"\r\n                                    tooltipPosition="bottom" title="" class="btn  nobg"\r\n                                    data-original-title="View">\r\n                                    <i class="fa fa-eye"></i>\r\n                                </a>\r\n                            </span>\r\n                            <span (click)="openEdit(rowData)" data-toggle="modal" data-target="#edit">\r\n                                <a data-toggle="tooltip" matTooltipPosition="above" matTooltip="Edit"\r\n                                    tooltipPosition="bottom" title="" class="btn  nobg"\r\n                                    data-original-title="" edit="">\r\n                                    <i class="fa fa-pencil"></i>\r\n                                </a>\r\n                            </span>\r\n                            <span data-toggle="modal" data-target="#view-material-lists"\r\n                                (click)="onViewMaterialList(rowData)">\r\n                                <a data-toggle="tooltip" matTooltipPosition="above"\r\n                                    matTooltip="View Material Lists" tooltipPosition="bottom" title=""\r\n                                    class="btn  nobg" data-original-title="">\r\n                                    <i class="fa fa-list"></i>\r\n                                </a>\r\n                            </span>\r\n                           \r\n                            <span data-toggle="modal" data-target="#history">\r\n                                <a data-toggle="tooltip" matTooltipPosition="above" matTooltip="History"\r\n                                    tooltipPosition="bottom" title="" class="btn  nobg"\r\n                                    data-original-title="History">\r\n                                    <i class="fa fa-history"></i>\r\n                                </a>\r\n                            </span>\r\n                            <span (click)="confirmDelete(deleteConfirm, rowData)" data-toggle="modal"\r\n                                data-target="#delete">\r\n                                <a class="btn btn-danger nobg" matTooltipPosition="above"\r\n                                    matTooltip="Delete" tooltipPosition="bottom" data-toggle="tooltip"\r\n                                    title="" data-original-title="Delete">\r\n                                    <i class="fa fa-trash"></i>\r\n                                </a>\r\n                            </span>\r\n                            </div>\r\n                            <div *ngIf="currentDeletedstatus == true">\r\n                                <p-inputSwitch\r\n                                  [(ngModel)]="rowData[\'isActive\']"\r\n                                  name="isActive{{ rowIndex }}"\r\n                                  matTooltip="{{ rowData[\'isActive\'] ? \'Active\' : \'In Active\' }}"\r\n                                  matTooltipPosition="above"                                                  \r\n                                  [disabled]="true"></p-inputSwitch>\r\n                                <span data-toggle="modal" data-target="#view"\r\n                                  (click)="onViewWFDetails(rowData)">\r\n                                  <a data-toggle="tooltip" matTooltipPosition="above" matTooltip="View"\r\n                                      tooltipPosition="bottom" title="" class="btn  nobg"\r\n                                      data-original-title="View">\r\n                                      <i class="fa fa-eye"></i>\r\n                                  </a>\r\n                                </span>\r\n                                <span><a\r\n                                    class="btn nobg"\r\n                                    (click)="restore(restoreConfirm, rowData)"\r\n                                    matTooltip="Restore Record"\r\n                                    matTooltipPosition="above">\r\n                                    <i class="fa fa-undo" aria-hidden="true"></i></a>\r\n                                </span>\r\n                              </div>                                            \r\n                        </td>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate="emptymessage" let-columns\r\n                    *ngIf="workflowList?.length == 0">\r\n                    <tr>\r\n                    <td\r\n                        [attr.colspan]="14"\r\n                        style="color: red; font-weight: bold; text-align: center;">\r\n                        No records found\r\n                    </td>\r\n                    </tr>\r\n                </ng-template>\r\n                <ng-template pTemplate="summary" id="footer">\r\n                    <div style="text-align: right;">\r\n                      <label id="footer" class="footer">Total:</label>\r\n                      <input style="width: 5%;" [(ngModel)]="totalRecords"\r\n                        [disabled]="true" pInputText type="text" />\r\n                      &nbsp;&nbsp;\r\n                      <label id="footer" class="footer1">Pages Count:</label>\r\n                      <input style="width: 5%;" [(ngModel)]="totalPages"\r\n                        [disabled]="true" pInputText type="text" />\r\n                    </div>\r\n                  </ng-template>\r\n            </p-table>\r\n        </div>\r\n    </div>\r\n        </div>\r\n    </div>\r\n    <div class="preloader" *ngIf="isSpinnerVisible">\r\n        <div class="loading">\r\n            <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>\r\n        </div>\r\n    </div>\r\n    <ng-template #deleteConfirm let-c="close" let-d="dismiss" data-backdrop="static">\r\n        <div class="modal-header">\r\n          <h4 class="modal-title">Are You Sure Want to Delete?</h4>\r\n          <button type="button" class="close" aria-label="Close" (click)="dismissModel()">\r\n            <span aria-hidden="true">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class="modal-body">\r\n          <strong>\r\n            Worklflow ACC:\r\n            <span class="new-label">{{ currentWorkflow.workflowId }}</span>\r\n          </strong>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button\r\n            type="button" class="btn btn-success" (click)="removeWorkFlow()">\r\n            Yes\r\n          </button>\r\n          <button type="button" class="btn btn-danger" (click)="dismissModel()">\r\n            No\r\n          </button>\r\n        </div>\r\n    </ng-template>\r\n    \r\n    <ng-template #restoreConfirm let-c="close" let-d="dismiss" data-backdrop="static">\r\n        <div class="modal-header">\r\n          <h4 class="modal-title">Are You Sure Want to Restore?</h4>    \r\n          <button type="button" class="close" aria-label="Close" (click)="dismissModel()">  \r\n            <span aria-hidden="true">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class="modal-body">\r\n          <strong>\r\n            Worklflow ACC:\r\n            <span class="new-label">{{ currentWorkflow.workflowId }}</span>\r\n          </strong>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-success" (click)="restoreRecord()">\r\n            Yes\r\n          </button>\r\n          <button type="button" class="btn btn-danger" (click)="dismissModel()">\r\n            No\r\n          </button>\r\n        </div>\r\n    </ng-template>\r\n    <div class="modal fade bd-example-modal-xl" tabindex="-1" id="view" role="dialog"\r\n        aria-labelledby="myLargeModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">\r\n        <div class="modal-dialog modal-xl">\r\n            <div class="modal-content" *ngIf="sourceWorkFlow != undefined">\r\n                <div class="modal-header">\r\n                    <button type="button" class="close" (click)="dismissModel()" data-dismiss="modal" id=""\r\n                        name="">\xd7</button>\r\n                    <h4 class="modal-title">Workflow Details of {{ sourceWorkFlow.workOrderNumber}} for\r\n                        PN-{{sourceWorkFlow.itemMaster.partNumber}} and Scope {{sourceWorkFlow.workScope.description}}\r\n                    </h4>\r\n                </div>\r\n                <div class="modal-body">\r\n                    <div class="card">\r\n                        <div class="card-header">\r\n                            <nav class="pull-left" aria-label="breadcrumb">\r\n                                <ol class="breadcrumb" style="background-color: transparent;">\r\n                                    <li class="breadcrumb-item active" aria-current="page"\r\n                                        style="font-size: 16px;margin-top: 3px;">Workflow Details</li>\r\n                                </ol>\r\n                            </nav>\r\n                            <button class="btn btn-primary pull-right" (click)="toggle_wf_header=!toggle_wf_header">\r\n                                {{toggle_wf_header ? \'Collapse\' : \'Expand\'}}\r\n                            </button>\r\n                        </div>\r\n                        <div class="card-body" *ngIf="toggle_wf_header">\r\n                            <div class="form-horizontal wf-popup-form">\r\n                                <div class="form-row">\r\n                                    <div class="col-md-6">\r\n                                        <div class="form-row" style="margin-top: 20px;">\r\n                                            <div class="col-md-6">\r\n                                                <div class="form-group">\r\n                                                    <label>Workflow ID: </label> {{sourceWorkFlow.workflowId}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Workflow Description:\r\n                                                    </label>{{sourceWorkFlow.workflowDescription}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Version: </label>{{sourceWorkFlow.version}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Create Date: </label>{{sourceWorkFlow.workflowCreateDate}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Expiration Date:\r\n                                                    </label>{{sourceWorkFlow.workflowExpirationDate}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Currency: </label>\r\n                                                    {{sourceWorkFlow.currencySymbol + \' (\' + sourceWorkFlow.currencyText + \')\'}}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-md-6">\r\n                                                <div class="form-group">\r\n                                                    <label>PN: </label>{{sourceWorkFlow.itemMaster.partNumber}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>PN Description:\r\n                                                    </label>{{sourceWorkFlow.itemMaster.partDescription}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Changed PN: </label>{{sourceWorkFlow.changedPartNumber}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Work Scope: </label>{{sourceWorkFlow.workScope.description}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Customer Name: </label>{{sourceWorkFlow.customerName}}\r\n                                                </div>\r\n                                                <div class="form-group">\r\n                                                    <label>Memo: </label>{{sourceWorkFlow.memo}}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-6">\r\n                                        <div class="card">\r\n                                            <div class="card-header" style="padding: 4px 10px;">\r\n                                                <h5 style="margin-bottom: 0;font-size: 15px;">BER Determination</h5>\r\n                                            </div>\r\n                                            <div class="card-body" style="padding: 10px 20px;">\r\n                                                <div class="row" *ngIf="sourceWorkFlow.isFixedAmount">\r\n                                                    <div class="col-md-4">\r\n                                                        <div class="form-group">\r\n                                                            <label>Fixed Amount: </label>{{sourceWorkFlow.fixedAmount}}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class="col-md-8">\r\n                                                        <div style="float:right;">\r\n                                                            <div class="form-group">\r\n                                                                <label style="margin-top: 5px;">BER Threshold: </label>\r\n                                                                <input class="w60 form-control wf-ber-thrld text-right"\r\n                                                                    type="text"\r\n                                                                    value="{{sourceWorkFlow.berThresholdAmount}}"\r\n                                                                    disabled>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class="row" *ngIf="sourceWorkFlow.isPercentageOfNew == true">\r\n                                                    <div class="col-md-12">\r\n                                                        <div class="form-group">\r\n                                                            <label style="text-align: left;width: 150px;">% of Cost of\r\n                                                                New </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class="col-md-12">\r\n                                                        <div style="padding-left: 36px;margin-top: 8px;">\r\n                                                            <div class="col-sm-4">\r\n                                                                <div class="form-group">\r\n                                                                    <label style="width: 80px;">Cost of New:\r\n                                                                    </label>{{sourceWorkFlow.costOfNew}}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div class="col-sm-4">\r\n                                                                <div class="form-group">\r\n                                                                    <label>Percent: </label> <span\r\n                                                                        style="width: 60px">{{sourceWorkFlow.percentageOfNew}}%</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div class="col-sm-4">\r\n                                                                <div class="form-group">\r\n                                                                    <label style="width: 80px;">Amount: </label>\r\n                                                                    {{sourceWorkFlow.percentOfNew}}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div class="row"\r\n                                                    *ngIf="sourceWorkFlow.isPercentageOfReplacement == true">\r\n                                                    <div class="col-md-4">\r\n                                                        <div class="form-group">\r\n                                                            <label style="text-align: left;width: 150px;">% of\r\n                                                                Replacement Cost: </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div class="col-md-12">\r\n                                                        <div style="padding-left: 36px;margin-top: 8px;">\r\n                                                            <div class="col-sm-4">\r\n                                                                <div class="form-group">\r\n                                                                    <label style="width: 80px;">Cost of Replace:\r\n                                                                    </label> {{sourceWorkFlow.costOfReplacement}}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div class="col-sm-4">\r\n                                                                <div class="form-group">\r\n                                                                    <label>Percent: </label> <span\r\n                                                                        style="width: 60px">{{sourceWorkFlow.percentageOfReplacement}}%</span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div class="col-sm-4">\r\n                                                                <div class="form-group">\r\n                                                                    <label style="width: 80px;">Amount: </label>\r\n                                                                    {{ sourceWorkFlow.percentOfReplacement}}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="card" style="margin-top: 30px;">\r\n                                    <div class="card-header" style="padding: 4px 10px;">\r\n                                        <h5 style="margin-bottom: 0;font-size: 15px;">Total Workflow Cost</h5>\r\n                                    </div>\r\n                                    <div class="card-body" style="padding: 10px 20px 0;">\r\n                                        <div class="form-row">\r\n                                            <div class="col-md-3">\r\n                                                <div class="form-group">\r\n                                                    <label>Material Cost: </label> {{MaterialCost}}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-md-3">\r\n                                                <div class="form-group">\r\n                                                    <label>Expertise Cost: </label> {{TotalExpertiseCost}}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-md-3">\r\n                                                <div class="form-group">\r\n                                                    <label>Charges: </label> {{TotalCharges}}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-md-3">\r\n                                                <div class="form-group">\r\n                                                    <label>Other:\r\n                                                    </label> {{sourceWorkFlow.otherCost > 0 ? sourceWorkFlow.otherCost : \'0.00\'}}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class="form-row">\r\n                                            <div class="col-md-3">\r\n                                                <div class="form-group">\r\n                                                    <label style="width: 130px;">Total Workflow Cost: </label>\r\n                                                    {{Total}}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-md-3">\r\n                                                <div class="form-group">\r\n                                                    <label style="width: 130px;">% of BER Threshold: </label>\r\n                                                    {{PercentBERThreshold}}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <hr />\r\n                        <button type="button" class="btn btn-primary" (click)="onOpenAll()">Open All</button>\r\n                        <button type="button" class="btn btn-primary" (click)="onCloseAll()">Close All</button>\r\n                        <hr />\r\n                    </div>\r\n\r\n                    <p-accordion [multiple]="true" class="p-accordion-cstm">\r\n                        <p-accordionTab *ngFor="let task of addedTasks" [selected]="task.selected"\r\n                            header="{{task.Name}}" (click)="onAccordTabClick1(task)">\r\n                            <div *ngIf="task.publication.length > 0">\r\n                                <h5 class="po-head">Publications</h5>\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>Pub ID</th>\r\n                                                <th>Pub Desc</th>\r\n                                                <th>Revision Date</th>\r\n                                                <th>Pub Type</th>\r\n                                                <th>Sequence</th>\r\n                                                <th>Source</th>\r\n                                                <th>Aircraft Manufacturer</th>\r\n                                                <th>Model</th>\r\n                                                <th>Dash Number</th>\r\n                                                <th>Location</th>\r\n                                                <th>Verified By</th>\r\n                                                <th>Verified Date</th>\r\n                                                <th>Status</th>\r\n                                                <th>Image</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let publication of task.publication;let i = index">\r\n                                                <td class="text-right">{{(i+1)}}</td>\r\n                                                <td>{{publication.publicationName}}</td>\r\n                                                <td>{{publication.publicationDescription}}</td>\r\n                                                <td>{{publication.revisionDate}}</td>\r\n                                                <td>{{publication.publicationTypeName}}</td>\r\n                                                <td class="text-right">{{publication.sequence}}</td>\r\n                                                <td>{{publication.source}}</td>\r\n                                                <td>{{publication.aircraftManufacturerName}}</td>\r\n                                                <td>{{publication.modelName}}</td>\r\n                                                <td>{{publication.allDashNumbers}}</td>\r\n                                                <td>{{publication.location}}</td>\r\n                                                <td>{{publication.verifiedBy}}</td>\r\n                                                <td>{{publication.verifiedDate}}</td>\r\n                                                <td>{{publication.status ? \'Active\': \'In Active\' }}</td>\r\n                                                <td><a href="{{publication.attachmentURL}}" class="img-responsive"\r\n                                                        alt="">View</a></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="task.measurements.length > 0">\r\n                                <h5 class="po-head">Measurements</h5>\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>PN</th>\r\n                                                <th>Sequence</th>\r\n                                                <th>Stage</th>\r\n                                                <th>Min</th>\r\n                                                <th>Max</th>\r\n                                                <th>Expected</th>\r\n                                                <th>Diagram</th>\r\n                                                <th>Memo</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let measurement of task.measurements;let i = index">\r\n                                                <td class="text-right">{{(i+1)}}</td>\r\n                                                <td>{{measurement.PartName}}</td>\r\n                                                <td class="text-right">{{measurement.sequence}}</td>\r\n                                                <td>{{measurement.stage}}</td>\r\n                                                <td class="text-right">{{measurement.min}}</td>\r\n                                                <td class="text-right">{{measurement.max}}</td>\r\n                                                <td>{{measurement.expected}}</td>\r\n                                                <td>{{measurement.diagramURL}}</td>\r\n                                                <td>{{measurement.memo}}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="task.exclusions.length > 0">\r\n                                <h5 class="po-head">Exclusions</h5>\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>EPN</th>\r\n                                                <th>EPN Description</th>\r\n                                                <th>Qty</th>\r\n                                                <th>Unit Cost</th>\r\n                                                <th>Extended</th>\r\n                                                <th>Estimated % Occurance</th>\r\n                                                <th>Memo</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let exclusion of task.exclusions;let i = index">\r\n                                                <td class="text-right">{{(i+1)}}</td>\r\n                                                <td>{{exclusion.partNumber}}</td>\r\n                                                <td>{{exclusion.partDescription}}</td>\r\n                                                <td class="text-right">{{exclusion.quantity}}</td>\r\n                                                <td class="text-right">{{exclusion.unitCost}}</td>\r\n                                                <td class="text-right">{{exclusion.extendedCost}}</td>\r\n                                                <td class="text-right">{{exclusion.estimtPercentOccurrance}}%</td>\r\n                                                <td>{{exclusion.memo}}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td><b>Total</b></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.exclusionQty}}</b></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.exclusionextendedQty}}</b></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="task.directions.length > 0">\r\n                                <h5 class="po-head">Directions</h5>\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>Action</th>\r\n                                                <th>Description</th>\r\n                                                <th>Sequence</th>\r\n                                                <th>Memo</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let direction of task.directions;let i = index">\r\n                                                <td class="text-right">{{(i + 1)}}</td>\r\n                                                <td>{{direction.action}}</td>\r\n                                                <td>{{direction.description}}</td>\r\n                                                <td class="text-right">{{direction.sequence}}</td>\r\n                                                <td>{{direction.memo}}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="task.expertise.length > 0">\r\n                                <h5 class="po-head">Expertise</h5>\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>Expertise Type</th>\r\n                                                <th>Estimated Hours</th>\r\n                                                <th>Labor Direct Rate</th>\r\n                                                <th>Direct Labor Cost</th>\r\n                                                <th>OHead Burden(%)</th>\r\n                                                <th>OH Cost</th>\r\n                                                <th>Direct Labor and OH Cost</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let expertise of task.expertise;let i=index">\r\n                                                <td class="text-right">{{(i+1)}}</td>\r\n                                                <td>{{expertise.expetiseTypeName}}</td>\r\n                                                <td class="text-right">{{expertise.estimatedHours}}</td>\r\n                                                <td class="text-right">{{expertise.laborDirectRate}}</td>\r\n                                                <td class="text-right">{{expertise.directLaborRate}}</td>\r\n                                                <td class="text-right">{{expertise.overheadBurden}}</td>\r\n                                                <td class="text-right">{{expertise.overheadCost}}</td>\r\n                                                <td class="text-right">{{expertise.laborOverheadCost}}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td><b>Total</b></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.expertiseTotalEstimatedHours}}</b></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.expertiseTotalDirectLaborCost}}</b></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.expertiseTotalOHCost}}</b></td>\r\n                                                <td class="text-right"><b>{{task.expertiseTotalDirectLabourAndOHCost}}</b></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="task.equipments.length > 0">\r\n                                <h5 class="po-head">Equipment</h5>\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>Asset Id</th>\r\n                                                <th>Asset Type</th>\r\n                                                <th>Asset Description</th>\r\n                                                <th>Qty</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let equipment of task.equipments;let i=index">\r\n                                                <td class="text-right">{{(i+1)}}</td>\r\n                                                <td>{{equipment.assetName}}</td>\r\n                                                <td>{{equipment.assetTypeName}}</td>\r\n                                                <td>{{equipment.assetDescription}}</td>\r\n                                                <td class="text-right">{{equipment.quantity}}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="task.charges.length > 0">\r\n                                <h5 class="po-head">Charges</h5>\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>Type</th>\r\n                                                <th>Description</th>\r\n                                                <th>Qty</th>\r\n                                                <th>Unit Cost</th>\r\n                                                <th>Extended Cost</th>\r\n                                                <th>Unit Price</th>\r\n                                                <th>Extended Price</th>\r\n                                                <th>Vendor Name</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let charge of task.charges;let i=index">\r\n                                                <td class="text-right">{{(i+1)}}</td>\r\n                                                <td>{{charge.chargesTypeName}}</td>\r\n                                                <td>{{charge.description}}</td>\r\n                                                <td class="text-right">{{charge.quantity}}</td>\r\n                                                <td class="text-right">{{charge.unitCost}}</td>\r\n                                                <td class="text-right">{{charge.extendedCost}}</td>\r\n                                                <td class="text-right">{{charge.unitPrice}}</td>\r\n                                                <td class="text-right">{{charge.extendedPrice}}</td>\r\n                                                <td>{{charge.vendorName}}</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td><b>Total</b></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.chargesTotalQty}}</b></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.chargesTotalExtendedCost}}</b></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.chargesTotalChargesCost}}</b></td>\r\n                                                <td></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="task.materialList.length > 0">\r\n                                <h5 class="po-head">Material List</h5>\r\n                                <div class="table-responsive">\r\n                                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S.No</th>\r\n                                                <th>PN</th>\r\n                                                <th>Description</th>\r\n                                                <th>Cond</th>\r\n                                                <th>Mandatory / Supplemental</th>\r\n                                                <th>Item Classification</th>\r\n                                                <th>Qty</th>\r\n                                                <th>UOM</th>\r\n                                                <th>Unit Cost</th>\r\n                                                <th>Extended Cost</th>\r\n                                                <th>Unit Price</th>\r\n                                                <th>Extended Price</th>\r\n                                                <th>Memo</th>\r\n                                                <th>Deferred</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let material of task.materialList;let i = index">\r\n                                                <td class="text-right">{{(i+1)}}</td>\r\n                                                <td>{{material.partNumber}}</td>\r\n                                                <td>{{material.partDescription}}</td>\r\n                                                <td>{{material.conditionName}}</td>\r\n                                                <td>{{material.mandatoryOrSupplementalName}}</td>\r\n                                                <td>{{material.itemClassificationName}}</td>\r\n                                                <td class="text-right">{{material.quantity}}</td>\r\n                                                <td>{{material.uomName}}</td>\r\n                                                <td class="text-right">{{material.unitCost}}</td>\r\n                                                <td class="text-right">{{material.extendedCost}}</td>\r\n                                                <td class="text-right">{{material.price}}</td>\r\n                                                <td class="text-right">{{material.extendedPrice}}</td>\r\n                                                <td>{{material.memo}}</td>\r\n                                                <td>{{material.isDeferred != null && material.isDeferred != \'\'  ? material.isDeferred : false }}\r\n                                                </td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td><b>Total</b></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.materialTotalQty}}</b></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                                <td class="text-right"><b>{{task.materialTotalExtendedCost}}</b></td>\r\n                                                <td class="text-right"><b>{{task.materialTotalPrice}}</b></td>\r\n                                                <td class="text-right"><b>{{task.materialTotalExtendedPrice}}</b></td>\r\n                                                <td></td>\r\n                                                <td></td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </p-accordionTab>\r\n                    </p-accordion>\r\n                    <h5>Total Cost for the Workflow : $ {{Total}}</h5>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button type="button" class="btn btn-danger" data-dismiss="modal" id="" name=""\r\n                        (click)="dismissModel()">Close</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="modal fade bd-example-modal-xl" tabindex="-1" id="view-material-lists" role="dialog"\r\n        aria-labelledby="myLargeModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">\r\n        <div class="modal-dialog modal-xl">\r\n            <div class="modal-content" *ngIf="sourceWorkFlow != undefined">\r\n                <div class="modal-header">\r\n                    <button type="button" class="close" (click)="dismissModel()" data-dismiss="modal" id=""\r\n                        name="">\xd7</button>\r\n                    <h4 class="modal-title">Material list of Workflow "{{ sourceWorkFlow.workOrderNumber}}" for\r\n                        "PN{{sourceWorkFlow.itemMaster.partNumber}}" and Scope\r\n                        "{{sourceWorkFlow.workScope.description}}"</h4>\r\n                </div>\r\n                <div class="modal-body">\r\n                    <div class="form-horizontal wf-popup-form">\r\n                        <div class="form-row">\r\n                            <div class="col-md-12">\r\n                                <div class="form-row">\r\n                                    <div class="col-md-3">\r\n                                        <div class="form-group">\r\n                                            <label>Part No: </label>PN{{sourceWorkFlow.itemMaster.partNumber}}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-3">\r\n                                        <div class="form-group">\r\n                                            <label>Workflow ID: </label>{{sourceWorkFlow.workOrderNumber}}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-3">\r\n                                        <div class="form-group">\r\n                                            <label>Scope: </label>{{sourceWorkFlow.workScope.description}}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div class="table-responsive">\r\n                            <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>S.No</th>\r\n                                        <th>PN</th>\r\n                                        <th>Description</th>\r\n                                        <th>Cond</th>\r\n                                        <th>Mandatory / Supplemental</th>\r\n                                        <th>Item Classification</th>\r\n                                        <th>Qty</th>\r\n                                        <th>UOM</th>\r\n                                        <th>Unit Cost</th>\r\n                                        <th>Extended Cost</th>\r\n                                        <th>Price</th>\r\n                                        <th>Memo</th>\r\n                                        <th>Deferred</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <ng-container *ngFor="let task of addedTasks">\r\n                                        <tr *ngIf="task.materialList.length > 0">\r\n                                            <td>\r\n                                                <h5 class="po-head-wfl">{{task.Name}}</h5>\r\n                                            </td>\r\n                                            <td colspan="13"></td>\r\n                                        </tr>\r\n                                        <tr *ngFor="let material of task.materialList;let i = index">\r\n                                            <td class="text-right">{{(i+1)}}</td>\r\n                                            <td>{{material.partNumber}}</td>\r\n                                            <td>{{material.partDescription}}</td>\r\n                                            <td>{{material.conditionName}}</td>\r\n                                            <td>{{material.mandatoryOrSupplementalName}}</td>\r\n                                            <td>{{material.itemClassificationName}}</td>\r\n                                            <td class="text-right">{{material.quantity}}</td>\r\n                                            <td>{{material.uomName}}</td>\r\n                                            <td class="text-right">{{material.unitCost}}</td>\r\n                                            <td class="text-right">{{material.extendedCost}}</td>\r\n                                            <td class="text-right">{{material.price}}</td>\r\n                                            <td>{{material.memo}}</td>\r\n                                            <td>\r\n                                                <input type="checkbox" disabled="disabled"\r\n                                                    [checked]="material.isDeferred"\r\n                                                    class="form-control names ui-autocomplete-input">\r\n                                            </td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td><b>Total</b></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td class="text-right"><b>{{task.materialTotalQty}}</b></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td class="text-right"><b>{{task.materialTotalExtendedCost}}</b></td>\r\n                                            <td class="text-right"><b>{{task.materialTotalPrice}}</b></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                        </tr>\r\n                                    </ng-container>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button type="button" class="btn btn-danger" data-dismiss="modal" id="" name=""\r\n                        (click)="dismissModel()">Close</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="modal fade bd-example-modal-xl" tabindex="-1" id="history" role="dialog"\r\n        aria-labelledby="myLargeModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">\r\n        <div class="modal-dialog modal-xl">\r\n            <div class="modal-content">\r\n                <div class="modal-header">\r\n                    <button type="button" class="close" (click)="dismissModel()" data-dismiss="modal" id=""\r\n                        name="">\xd7</button>\r\n                    <h4 class="modal-title">History of Workflow ACC123</h4>\r\n                </div>\r\n                <div class="modal-body">\r\n                    <div class="form-horizontal wf-popup-form">\r\n                        <div class="form-row">\r\n                            <div class="col-md-12">\r\n                                <div class="form-row">\r\n                                    <div class="col-md-3">\r\n                                        <div class="form-group">\r\n                                            <label>Part No: </label>PN45854\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-3">\r\n                                        <div class="form-group">\r\n                                            <label>Workflow ID: </label>ACC123\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-3">\r\n                                        <div class="form-group">\r\n                                            <label>Scope: </label>OVH\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Memo</th>\r\n                                <th>Last Updated By</th>\r\n                                <th>Last Updated Time</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Updated Work Phone</td>\r\n                                <td>Admin</td>\r\n                                <td>02-03-2018 14:15:45</td>\r\n                                <td>\r\n\r\n                                    <span>\r\n                                        <a data-toggle="tooltip" matTooltipPosition="above" matTooltip="View"\r\n                                            tooltipPosition="bottom" title="" class="btn btn-info boxed-float-btn nobg"\r\n                                            data-toggle="modal" data-target="#view" data-original-title="View">\r\n                                            <i class="fa fa-eye"></i>\r\n                                        </a>\r\n                                    </span>\r\n\r\n\r\n\r\n                                    <span>\r\n                                        <a data-toggle="tooltip" class="btn btn-info boxed-float-btn nobg"\r\n                                            data-original-title="Toggle">\r\n                                            <i class="fa fa-{{toggle_detailhistory ? \'minus\' : \'plus\'}}"\r\n                                                (click)="toggle_detailhistory=!toggle_detailhistory"\r\n                                                style="color: #259e08"></i>\r\n                                        </a>\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class="detailed-history" style="display: table-row;" *ngIf="toggle_detailhistory">\r\n                                <td colspan="4">\r\n                                    <table class="table table-bordered">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>Field Name</th>\r\n                                                <th>New Value</th>\r\n                                                <th>Old Value</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>Workflow Description</td>\r\n                                                <td>Gear Repairing</td>\r\n                                                <td>Gears</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Version</td>\r\n                                                <td>2</td>\r\n                                                <td>1</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Customer Name</td>\r\n                                                <td>Shabbir</td>\r\n                                                <td>Satish</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td>Workflow Expiration Date</td>\r\n                                                <td>02/20/2018</td>\r\n                                                <td>02/20/2019</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button type="button" class="btn btn-info" data-dismiss="modal" id="" name=""\r\n                        (click)="dismissModel()">Close</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<div class="modal fade" id="downloadConfirmation" role="dialog" data-backdrop="static" data-keyboard="false">\r\n\t<div class="modal-dialog modal-sm">\r\n\t\t<div class="modal-content">\r\n\t\t\t<div class="modal-header">\r\n\t\t\t\t<button type="button" class="close" (click)="closeDeleteModal()">&times;</button>\r\n\t\t\t\t<h4 class="modal-title">Are You Sure Want to Download?</h4>\r\n\t\t\t</div>\r\n\t\t\t<div class="modal-body" *ngIf="targetData">\r\n\t\t\t\t<strong>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\tYou are attempting to export {{targetData.totalRecords}} of records. \r\n\t\t\t\t\t</span> \r\n\t\t\t\t</strong>\r\n\t\t\t</div>\r\n\t\t\t<div class="modal-footer">\r\n\t\t\t\t<button type="button" class="btn btn-primary" (click)="(selectedOnly)?targetData.exportCSV({ selectionOnly: true }):exportCSV(targetData); closeDeleteModal();">Confirm</button>\r\n\t\t\t\t<button type="button" class="btn btn-danger" (click)="closeDeleteModal()">Cancel</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div *ngIf="isWorkOrder && responseDataForWorkFlow">\r\n    <div class="card">\r\n        <div class="card-header">\r\n            <nav class="pull-left" aria-label="breadcrumb">\r\n                <ol class="breadcrumb" style="background-color: transparent;">\r\n                    <li class="breadcrumb-item active" aria-current="page" style="font-size: 16px;margin-top: 3px;">Work\r\n                        Flow Details</li>\r\n                </ol>\r\n            </nav>\r\n            <button class="btn btn-primary pull-right" (click)="toggle_wf_header=!toggle_wf_header">\r\n                {{toggle_wf_header ? \'Collapse\' : \'Expand\'}}\r\n            </button>\r\n        </div>\r\n        <div class="card-body" *ngIf="toggle_wf_header">\r\n            <div class="form-horizontal wf-popup-form">\r\n                <div class="form-row">\r\n                    <div class="col-md-6">\r\n                        <div class="form-row" style="margin-top: 20px;" *ngIf="sourceWorkFlow">\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label>Workflow ID: </label> {{sourceWorkFlow.workflowId}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Workflow Description: </label>{{sourceWorkFlow.workflowDescription}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Version: </label>{{sourceWorkFlow.version}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Create Date: </label>{{sourceWorkFlow.workflowCreateDate}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Expiration Date: </label>{{sourceWorkFlow.workflowExpirationDate}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Currency: </label>\r\n                                    {{sourceWorkFlow.currencySymbol + \' (\' + sourceWorkFlow.currencyText + \')\'}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label>PN: </label>{{sourceWorkFlow.itemMaster.partNumber}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>PN Description: </label>{{sourceWorkFlow.itemMaster.partDescription}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Changed PN: </label>{{sourceWorkFlow.changedPartNumber}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Work Scope: </label>{{sourceWorkFlow.workScope.description}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Customer Name: </label>{{sourceWorkFlow.customerName}}\r\n                                </div>\r\n                                <div class="form-group">\r\n                                    <label>Memo: </label>{{sourceWorkFlow.memo}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-6">\r\n                        <div class="card">\r\n                            <div class="card-header" style="padding: 10px;">\r\n                                <h5 style="margin-bottom: 0;font-size: 15px;">BER Determination</h5>\r\n                            </div>\r\n                            <div class="card-body" style="padding: 10px 20px;">\r\n                                <div class="row" *ngIf="sourceWorkFlow && sourceWorkFlow.isFixedAmount">\r\n                                    <div class="col-md-4">\r\n                                        <div class="form-group">\r\n                                            <label>Fixed Amount: </label>{{sourceWorkFlow.fixedAmount}}\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-8">\r\n                                        <div style="float:right;">\r\n                                            <div class="form-group">\r\n                                                <label style="margin-top: 5px;">BER Threshold:</label>\r\n                                                <input class="w60 form-control wf-ber-thrld" type="number"\r\n                                                    value="{{sourceWorkFlow.berThresholdAmount}}" disabled>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="row" *ngIf="sourceWorkFlow && sourceWorkFlow.isPercentageOfNew == true">\r\n                                    <div class="col-md-12">\r\n                                        <div class="form-group">\r\n                                            <label style="text-align: left;width: 150px;">% of Cost of New </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-12">\r\n                                        <div style="padding-left: 36px;">\r\n                                            <div class="col-sm-4">\r\n                                                <div class="form-group">\r\n                                                    <label style="width: 80px;">Cost of New:\r\n                                                    </label>{{sourceWorkFlow.costOfNew}}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <div class="form-group">\r\n                                                    <label>Percent: </label> <span\r\n                                                        style="width: 60px">{{sourceWorkFlow.percentageOfNew}}%</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <div class="form-group">\r\n                                                    <label style="width: 80px;">Amount: </label>\r\n                                                    {{sourceWorkFlow.percentOfNew}}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="row" *ngIf="sourceWorkFlow && sourceWorkFlow.isPercentageOfReplacement == true">\r\n                                    <div class="col-md-4">\r\n                                        <div class="form-group">\r\n                                            <label style="text-align: left;width: 150px;">% of Replacement Cost:\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-12">\r\n                                        <div style="padding-left: 36px;">\r\n                                            <div class="col-sm-4">\r\n                                                <div class="form-group">\r\n                                                    <label style="width: 80px;">Cost of Replace: </label>\r\n                                                    {{sourceWorkFlow.costOfReplacement}}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <div class="form-group">\r\n                                                    <label>Percent: </label> <span\r\n                                                        style="width: 60px">{{sourceWorkFlow.percentageOfReplacement}}%</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <div class="form-group">\r\n                                                    <label style="width: 80px;">Amount: </label>\r\n                                                    {{ sourceWorkFlow.percentOfReplacement}}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="card" style="margin-top: 30px;">\r\n                    <div class="card-header" style="padding: 10px;">\r\n                        <h5 style="margin-bottom: 0;font-size: 15px;">Total Workflow Cost</h5>\r\n                    </div>\r\n                    <div class="card-body" style="padding: 10px 20px 0;">\r\n                        <div class="form-row">\r\n                            <div class="col-md-3">\r\n                                <div class="form-group">\r\n                                    <label>Material Cost: </label> {{MaterialCost}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-3">\r\n                                <div class="form-group">\r\n                                    <label>Expertise Cost: </label> {{TotalExpertiseCost}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-3">\r\n                                <div class="form-group">\r\n                                    <label>Charges: </label> {{TotalCharges}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-3">\r\n                                <div class="form-group">\r\n                                    <label>Other:\r\n                                    </label>{{sourceWorkFlow.otherCost != undefined && sourceWorkFlow.otherCost != null && sourceWorkFlow.otherCost > 0 ? \'$\' + sourceWorkFlow.otherCost.toString() : 0 }}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-row">\r\n                            <div class="col-md-3">\r\n                                <div class="form-group">\r\n                                    <label style="width: 130px;">Total Workflow Cost: </label> {{Total}}\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-3">\r\n                                <div class="form-group">\r\n                                    <label style="width: 130px;">% of BER Threshold: </label> {{PercentBERThreshold}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div>\r\n        <hr />\r\n        <button type="button" class="btn btn-primary" (click)="onOpenAll()">Open All</button>\r\n        <button type="button" class="btn btn-primary" (click)="onCloseAll()">Close All</button>\r\n        <hr />\r\n    </div>\r\n\r\n    <p-accordion [multiple]="true" class="p-accordion-cstm p-acc-thright">\r\n        <p-accordionTab *ngFor="let task of addedTasks" [selected]="task.selected" header="{{task.Name}}"\r\n            (click)="onAccordTabClick1(task)">\r\n            <div *ngIf="task.publication.length > 0">\r\n                <h5 class="po-head">Publications</h5>\r\n                <div class="table-responsive">\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>S.No</th>\r\n                                <th>Pub ID</th>\r\n                                <th>Pub Desc</th>\r\n                                <th>Revision Date</th>\r\n                                <th>Pub Type</th>\r\n                                <th>Sequence</th>\r\n                                <th>Source</th>\r\n                                <th>Aircraft Manufacturer</th>\r\n                                <th>Model</th>\r\n                                <th>Dash Number</th>\r\n                                <th>Location</th>\r\n                                <th>Verified By</th>\r\n                                <th>Verified Date</th>\r\n                                <th>Status</th>\r\n                                <th>Image</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let publication of task.publication;let i = index">\r\n                                <td class="text-right">{{(i+1)}}</td>\r\n                                <td>{{publication.publicationName}}</td>\r\n                                <td>{{publication.publicationDescription}}</td>\r\n                                <td>{{publication.revisionDate}}</td>\r\n                                <td>{{publication.publicationTypeName}}</td>\r\n                                <td class="text-right">{{publication.sequence}}</td>\r\n                                <td>{{publication.source}}</td>\r\n                                <td>{{publication.aircraftManufacturerName}}</td>\r\n                                <td>{{publication.modelName}}</td>\r\n                                <td>{{publication.allDashNumbers}}</td>\r\n                                <td>{{publication.location}}</td>\r\n                                <td>{{publication.verifiedBy}}</td>\r\n                                <td>{{publication.verifiedDate}}</td>\r\n                                <td>{{publication.status ? \'Active\': \'In Active\' }}</td>\r\n                                <td><a href="{{publication.attachmentURL}}" class="img-responsive" alt="">View</a></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="task.measurements.length > 0">\r\n                <h5 class="po-head m-t-20">Measurements</h5>\r\n                <div class="table-responsive">\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>S.No</th>\r\n                                <th>PN</th>\r\n                                <th>Sequence</th>\r\n                                <th>Stage</th>\r\n                                <th>Min</th>\r\n                                <th>Max</th>\r\n                                <th>Expected</th>\r\n                                <th>Diagram</th>\r\n                                <th>Memo</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let measurement of task.measurements;let i = index">\r\n                                <td class="text-right">{{(i+1)}}</td>\r\n                                <td>{{measurement.PartName}}</td>\r\n                                <td class="text-right">{{measurement.sequence}}</td>\r\n                                <td class="text-right">{{measurement.stage}}</td>\r\n                                <td class="text-right">{{measurement.min}}</td>\r\n                                <td class="text-right">{{measurement.max}}</td>\r\n                                <td class="text-right">{{measurement.expected}}</td>\r\n                                <td>{{measurement.diagramURL}}</td>\r\n                                <td>{{measurement.memo}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="task.exclusions.length > 0">\r\n                <h5 class="po-head m-t-20">Exclusions</h5>\r\n                <div class="table-responsive">\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>S.No</th>\r\n                                <th>EPN</th>\r\n                                <th>EPN Description</th>\r\n                                <th>Qty</th>\r\n                                <th>Unit Cost</th>\r\n                                <th>Extended</th>\r\n                                <th>Estimated % Occurance</th>\r\n                                <th>Memo</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let exclusion of task.exclusions;let i = index">\r\n                                <td class="text-right">{{(i+1)}}</td>\r\n                                <td>{{exclusion.partNumber}}</td>\r\n                                <td>{{exclusion.partDescription}}</td>\r\n                                <td class="text-right">{{exclusion.quantity}}</td>\r\n                                <td class="text-right">{{exclusion.unitCost}}</td>\r\n                                <td class="text-right">{{exclusion.extendedCost}}</td>\r\n                                <td class="text-right">{{exclusion.estimtPercentOccurrance}}%</td>\r\n                                <td>{{exclusion.memo}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><b>Total</b></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.exclusionQty}}</b></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.exclusionextendedQty}}</b></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="task.directions.length > 0">\r\n                <h5 class="po-head m-t-20">Directions</h5>\r\n                <div class="table-responsive">\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>S.No</th>\r\n                                <th>Action</th>\r\n                                <th>Description</th>\r\n                                <th>Sequence</th>\r\n                                <th>Memo</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let direction of task.directions;let i = index">\r\n                                <td class="text-right">{{(i + 1)}}</td>\r\n                                <td>{{direction.action}}</td>\r\n                                <td>{{direction.description}}</td>\r\n                                <td class="text-right">{{direction.sequence}}</td>\r\n                                <td>{{direction.memo}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="task.expertise.length > 0">\r\n                <h5 class="po-head m-t-20">Expertise</h5>\r\n                <div class="table-responsive">\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>S.No</th>\r\n                                <th>Expertise Type</th>\r\n                                <th>Estimated Hours</th>\r\n                                <th>Labor Direct Rate</th>\r\n                                <th>Direct Labor Cost</th>\r\n                                <th>OHead Burden(%)</th>\r\n                                <th>OH Cost</th>\r\n                                <th>Direct Labor and OH Cost</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let expertise of task.expertise;let i=index">\r\n                                <td class="text-right">{{(i+1)}}</td>\r\n                                <td>{{expertise.expetiseTypeName}}</td>\r\n                                <td class="text-right">{{expertise.estimatedHours}}</td>\r\n                                <td class="text-right">{{expertise.laborDirectRate}}</td>\r\n                                <td class="text-right">{{expertise.directLaborRate}}</td>\r\n                                <td class="text-right">{{expertise.overheadBurden}}</td>\r\n                                <td class="text-right">{{expertise.overheadCost}}</td>\r\n                                <td class="text-right">{{expertise.laborOverheadCost}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><b>Total</b></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.expertiseTotalEstimatedHours}}</b></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.expertiseTotalDirectLaborCost}}</b></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.expertiseTotalOHCost}}</b></td>\r\n                                <td class="text-right"><b>{{task.expertiseTotalDirectLabourAndOHCost}}</b></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="task.equipments.length > 0">\r\n                <h5 class="po-head m-t-20">Equipment</h5>\r\n                <div class="table-responsive">\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>S.No</th>\r\n                                <th>Asset Id</th>\r\n                                <th>Asset Type</th>\r\n                                <th>Asset Description</th>\r\n                                <th>Qty</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let equipment of task.equipments;let i=index">\r\n                                <td class="text-right">{{(i+1)}}</td>\r\n                                <td>{{equipment.assetName}}</td>\r\n                                <td>{{equipment.assetTypeName}}</td>\r\n                                <td>{{equipment.assetDescription}}</td>\r\n                                <td class="text-right">{{equipment.quantity}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="task.charges.length > 0">\r\n                <h5 class="po-head m-t-20">Charges</h5>\r\n                <div class="table-responsive">\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>S.No</th>\r\n                                <th>Type</th>\r\n                                <th>Description</th>\r\n                                <th>Qty</th>\r\n                                <th>Unit Cost</th>\r\n                                <th>Extended Cost</th>\r\n                                <th>Unit Price</th>\r\n                                <th>Extended Price</th>\r\n                                <th>Vendor Name</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let charge of task.charges;let i=index">\r\n                                <td class="text-right">{{(i+1)}}</td>\r\n                                <td>{{charge.chargesTypeName}}</td>\r\n                                <td>{{charge.description}}</td>\r\n                                <td class="text-right">{{charge.quantity}}</td>\r\n                                <td class="text-right">{{charge.unitCost}}</td>\r\n                                <td class="text-right">{{charge.extendedCost}}</td>\r\n                                <td class="text-right">{{charge.unitPrice}}</td>\r\n                                <td class="text-right">{{charge.extendedPrice}}</td>\r\n                                <td>{{charge.vendorName}}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><b>Total</b></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.chargesTotalQty}}</b></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.chargesTotalExtendedCost}}</b></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.chargesTotalChargesCost}}</b></td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="task.materialList.length > 0">\r\n                <h5 class="po-head m-t-20">Material List</h5>\r\n                <div class="table-responsive">\r\n                    <table class="table table-bordered table-fixed wfl-table-popup-cstm">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>S.No</th>\r\n                                <th>PN</th>\r\n                                <th>Description</th>\r\n                                <th>Cond</th>\r\n                                <th>Mandatory / Supplemental</th>\r\n                                <th>Item Classification</th>\r\n                                <th>Qty</th>\r\n                                <th>UOM</th>\r\n                                <th>Unit Cost</th>\r\n                                <th>Extended Cost</th>\r\n                                <th>Unit Price</th>\r\n                                <th>Extended Price</th>\r\n                                <th>Memo</th>\r\n                                <th>Deferred</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let material of task.materialList;let i = index">\r\n                                <td class="text-right">{{(i+1)}}</td>\r\n                                <td>{{material.partNumber}}</td>\r\n                                <td>{{material.partDescription}}</td>\r\n                                <td>{{material.conditionName}}</td>\r\n                                <td>{{material.mandatoryOrSupplementalName}}</td>\r\n                                <td>{{material.itemClassificationName}}</td>\r\n                                <td class="text-right">{{material.quantity}}</td>\r\n                                <td>{{material.uomName}}</td>\r\n                                <td class="text-right">{{material.unitCost}}</td>\r\n                                <td class="text-right">{{material.extendedCost}}</td>\r\n                                <td class="text-right">{{material.price}}</td>\r\n                                <td class="text-right">{{material.extendedPrice}}</td>\r\n                                <td>{{material.memo}}</td>\r\n                                <td>{{material.isDeferred != null && material.isDeferred != \'\'  ? material.isDeferred : false }}\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td><b>Total</b></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.materialTotalQty}}</b></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                                <td class="text-right"><b>{{task.materialTotalExtendedCost}}</b></td>\r\n                                <td class="text-right"><b>{{task.materialTotalPrice}}</b></td>\r\n                                <td class="text-right"><b>{{task.materialTotalExtendedPrice}}</b></td>\r\n                                <td></td>\r\n                                <td></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </p-accordionTab>\r\n    </p-accordion>\r\n    <h5 style="padding: 10px; font-weight: bold;">Total Cost for the Workflow : {{(sourceWorkFlow)?sourceWorkFlow.currencySymbol:\'\'}} {{Total}}</h5>\r\n</div>'},"6sVZ":function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},"77Zs":function(t,e,r){var n=r("Xi7e");t.exports=function(){this.__data__=new n,this.size=0}},"7GkX":function(t,e,r){var n=r("b80T"),i=r("A90E"),a=r("MMmD");t.exports=function(t){return a(t)?n(t):i(t)}},"7Ix3":function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}},"7lxq":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r("Itiq"))},"9Rsf":function(t,e,r){"use strict";r.r(e),e.default='/* select {\r\n    background: url("../assets/images/ddrp-arrow.png") 98% center no-repeat;\r\n} */\r\n/*.workflow-table-expertise .expertise-tr td {\r\n    padding: 4px;\r\n}*/\r\n.workflow-table-expertise tr th:first-child {\r\n    padding: 0 10px !important;\r\n}\r\n.vd_cls .form-control:disabled {\r\n    background-color: #ffffff !important;\r\n}'},A2ek:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r("qgGH"))},A90E:function(t,e,r){var n=r("6sVZ"),i=r("V6Ve"),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return i(t);var e=[];for(var r in Object(t))a.call(t,r)&&"constructor"!=r&&e.push(r);return e}},AP2z:function(t,e,r){var n=r("nmnc"),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),r=t[s];try{t[s]=void 0;var n=!0}catch(l){}var i=o.call(t);return n&&(e?t[s]=r:delete t[s]),i}},B53w:function(t,e,r){"use strict";r.r(e),e.default='.dtHorizontalExampleWrapper {\r\n    max-width: 150px;\r\n    margin: 0 auto;\r\n}\r\n\r\ntable {\r\n    display: block;\r\n    overflow: scroll;\r\n    overflow: auto;\r\n \r\n}\r\n\r\ntable.dataTable thead .sorting:after,\r\n    table.dataTable thead .sorting:before,\r\n    table.dataTable thead .sorting_asc:after,\r\n    table.dataTable thead .sorting_asc:before,\r\n    table.dataTable thead .sorting_asc_disabled:after,\r\n    table.dataTable thead .sorting_asc_disabled:before,\r\n    table.dataTable thead .sorting_desc:after,\r\n    table.dataTable thead .sorting_desc:before,\r\n    table.dataTable thead .sorting_desc_disabled:after,\r\n    table.dataTable thead .sorting_desc_disabled:before {\r\n        bottom: .5em;\r\n    }\r\n\r\ninput[type=number]::-webkit-inner-spin-button,\r\ninput[type=number]::-webkit-outer-spin-button {   \r\n    margin: 0;\r\n}\r\n\r\n:host ::ng-deep button {\r\n    margin-right: .25em;\r\n}\r\n\r\n:host ::ng-deep .custom-toast .ui-toast-message {\r\n    color: #ffffff;\r\n    background: #FC466B;\r\n    background: linear-gradient(to right, #3F5EFB, #FC466B);\r\n}\r\n\r\n:host ::ng-deep .custom-toast .ui-toast-close-icon {\r\n    color: #ffffff;\r\n}\r\n\r\n.add-charges {\r\n    background-color: #295d92;\r\n}\r\n\r\n.clr-red {\r\n    color: red;\r\n}\r\n\r\n.text-align {\r\n    width: 93%;\r\n    margin-left: 6px;\r\n}\r\n\r\nselect {\r\n    background: none;\r\n}\r\n\r\ntd{\r\n    width: 10%\r\n}\r\n\r\nselect:disabled {\r\n   background-color: none !important; \r\n}\r\n\r\n/* .dropdown-select {\r\n    background: url("../assets/images/ddrp-arrow.png") 98% center no-repeat;\r\n} */\r\n\r\n/*.workflow-table-pub tr td {\r\n    padding: 4px;\r\n}*/\r\n\r\n.workflow-table-pub tr th:first-child {\r\n    padding: 0 10px !important;\r\n}\r\n\r\n.workflow-table-pub {\r\n    height: 350px;\r\n}\r\n\r\n.fixed-column-table {\r\n    max-width: 100%;\r\n    max-height: 500px;\r\n    overflow: scroll;\r\n    position: relative;\r\n    padding: 0;\r\n}\r\n\r\n.fixed-column-table table {\r\n    position: relative;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.fixed-column-table thead th {\r\n    position: -webkit-sticky;\r\n    position: sticky;\r\n    top: -1px;\r\n    background: #0d57b0;\r\n}\r\n\r\n.column-r1-fixed thead th:last-child {\r\n    right: 0;\r\n    z-index: 1;\r\n    text-align: center;\r\n    margin: auto;\r\n}\r\n\r\n.column-r1-fixed tbody td:last-child {\r\n    position: -webkit-sticky;\r\n    position: sticky;\r\n    right: 0;\r\n    background: #FFF;\r\n    border-right: 1px solid #CCC;\r\n    padding-left: 5px;\r\n    text-align: center;\r\n}'},B8du:function(t,e){t.exports=function(){return!1}},BhKy:function(t,e,r){"use strict";r.d(e,"a",(function(){return c}));var n=r("mrSG"),i=r("8Y7J"),a=r("HDdC"),o=r("IheW"),s=r("iInd"),l=r("lGQG"),d=r("DvK1"),c=function(){function t(e,r,n,i){_classCallCheck(this,t),this.router=e,this.http=r,this.authService=n,this.actionEndpoint=i}return _createClass(t,[{key:"GetExclusionEstimatedOccurance",value:function(){return this.actionEndpoint.GetExclusionEstimatedOccurance()}},{key:"GetPublicationStatus",value:function(){return this.actionEndpoint.GetPublicationStatus()}},{key:"GetPublicationModel",value:function(t){return this.actionEndpoint.GetPublicationModel(t)}},{key:"GetDashNumbersByModelId",value:function(t){return this.actionEndpoint.GetDashNumberByModelIdURL(t)}},{key:"RemoveWorkFlow",value:function(t){return this.actionEndpoint.removeWorkFlow(t)}},{key:"getLocations",value:function(){return this.actionEndpoint.getLocations()}},{key:"GetPublicationAircraftManufacturer",value:function(){return this.actionEndpoint.GetPublicationAircraftManufacturer()}},{key:"GetPublicationType",value:function(){return this.actionEndpoint.GetPublicationType()}},{key:"GetMaterialUOM",value:function(){return this.actionEndpoint.GetMaterialUOM()}},{key:"GetMaterialMandatory",value:function(){return this.actionEndpoint.GetMaterialMandatory()}},{key:"GetMaterialCondition",value:function(){return this.actionEndpoint.GetMaterialCondition()}},{key:"GetExpertiseType",value:function(){return this.actionEndpoint.GetExpertiseType()}},{key:"GetEmployeeExpertiseType",value:function(){return this.actionEndpoint.getEmployeeExpertiseType()}},{key:"getEquipmentAssetType",value:function(){return this.actionEndpoint.getEquipmentAssetType()}},{key:"getChargesCurrency",value:function(){return this.actionEndpoint.getChargesCurrency()}},{key:"getChargesType",value:function(){return this.actionEndpoint.getChargesType()}},{key:"getCharges",value:function(){return this.actionEndpoint.getCharges()}},{key:"getActionAttributes",value:function(){return this.actionEndpoint.getActionAttributes()}},{key:"getActions",value:function(){return this.actionEndpoint.getActions()}},{key:"addAction",value:function(t){return this.actionEndpoint.addAction(t)}},{key:"addWorkFlowHeader",value:function(t){return this.actionEndpoint.addWorkFlowHeader(t)}},{key:"getNewWorkFlow",value:function(t){return this.actionEndpoint.getNewWorkFlow(t)}},{key:"getWorkFlow",value:function(t){return a.a.forkJoin(this.actionEndpoint.getWorkFlow(t))}},{key:"getWorkFlowWithMaterialList",value:function(t){return a.a.forkJoin(this.actionEndpoint.getWorkFlowWithMaterialList(t))}},{key:"toggleState",value:function(t){return a.a.forkJoin(this.actionEndpoint.toggleState(t))}}]),t}();c.ctorParameters=function(){return[{type:s.Router},{type:o.HttpClient},{type:l.a},{type:d.a}]},c=n.b([Object(i.Injectable)()],c)},BkRI:function(t,e,r){var n=r("OBhP");t.exports=function(t){return n(t,5)}},CBII:function(t,e,r){"use strict";r.r(e),e.default='<div class="fixed-table-container-inner table-responsive cat4-table fixed-column-table column-r1-fixed"\r\n  style="height:380px;">\r\n  <div style="z-index: 1;" *ngIf="!isEdit">\r\n    <span class="cat-heading cat4" style="width: 100% !important;">Add Exclusions <i (click)="addRow()"\r\n        class="fa fa-plus"></i></span>\r\n  </div>\r\n  <form #exclusionsCreateForm="ngForm">\r\n    <table class="table table-bordered table-fixed workflow-table-exclusion">\r\n      <tr>\r\n        <th *ngIf="!isWorkFlow"><label>Task*</label></th>\r\n        <th><label>EPN<span class="clr-red">*</span></label></th>\r\n        <th><label style="min-width: 90px;"> Description<span class="clr-red">*</span></label></th>\r\n        <th> <label>Condition</label></th>\r\n        <th> <label> Item Classification</label></th>\r\n        <th><label style="min-width: 90px;"> Stock Type</label></th>\r\n        <th><label>Qty </label></th>\r\n        <th><label>Unit Cost</label></th>\r\n        <th><label style="min-width: 90px;">Extended Cost </label></th>\r\n        <th><label style="min-width: 145px;">Estimated % Occurance</label></th>\r\n        <th><label>Memo</label></th>\r\n        <th><label>Action </label></th>\r\n      </tr>\r\n      <tr [hidden]="exclusion.isDelete" *ngFor="let exclusion of workFlow.exclusions; let i = index">\r\n       <td *ngIf="!isWorkFlow" class="vd_cls">\r\n          <select class="form-control wf-pub-id full-width" [(ngModel)]="exclusion.taskId" name="task_{{i}}" required\r\n            (change)="onTaskChange(exclusion)">\r\n            <option value="">--Select--</option>\r\n            <option *ngFor="let task of taskList" [value]="task.taskId">{{task.description}}</option>\r\n          </select>\r\n        </td>\r\n        <td style="width: 180px;">\r\n          <p-autoComplete appendTo="body" [(ngModel)]="exclusion.partName" [suggestions]="partCollection"\r\n            (completeMethod)="filterpartItems($event)" [size]="32" [minLength]="1" [dropdown]="true"\r\n            class="wf-header-select" #partNum="ngModel" errorMessage="Records not found" field="partNumber"\r\n            (onSelect)="onPartSelect($event,exclusion,i)" [forceSelection]="true" title="PN" required name="pn_{{i}}"\r\n            (onClear)="clearValue(exclusion, i)">\r\n          </p-autoComplete>\r\n        </td>\r\n        <td>\r\n          {{exclusion.partDescription}}\r\n       </td>\r\n        <td>\r\n          <select class="form-control wf-pub-id full-width" id="ddlMaterialCondition"\r\n            [(ngModel)]="exclusion.conditionId" name="cond_{{ i }}" (change)="getPNDetails(exclusion)" required>\r\n            <option value="" selected>--Select--</option>\r\n            <option *ngFor="let condition of conditionList" [ngValue]="condition.value">\r\n              {{ condition.label }}\r\n            </option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <input type="text" class="form-control" disabled="true" [(ngModel)]="exclusion.itemClassification"\r\n            value="{{ exclusion.itemClassification }}" name="itemClassification_{{i}}" />\r\n        </td>\r\n        <td>\r\n          {{exclusion.stockType}}\r\n        </td>\r\n        <td>\r\n          <input type="text" class="form-control text-right" pInputText pKeyFilter="pnum" maxlength="15" (keyup)="\r\n              calculateExtendedCost(exclusion);\r\n              calculateQtySummation()\r\n            " [(ngModel)]="exclusion.quantity" value="{{ exclusion.quantity }}" name="qty_{{i}}" />\r\n        </td>\r\n        <td>\r\n          <input type="text" class="form-control text-right" pInputText pKeyFilter="money"\r\n            (change)="calculateExtendedCost(exclusion)" [(ngModel)]="exclusion.unitCost"\r\n            value="{{ exclusion.unitCost }}" name="unitcost_{{i}}" maxlength="15" />\r\n        </td>\r\n        <td class="text-right">\r\n          {{ exclusion.extendedCost }}\r\n       </td>\r\n        <td style="padding: 4px 8px;">\r\n          <select class="form-control wf-pub-id full-width" id="ddlEstimatedOccurance"\r\n            [(ngModel)]="exclusion.estimtPercentOccurrance" name="estPercentOcc_{{i}}"> exstimtPercentOccurance\r\n            <option value="">--Select--</option>\r\n            <option value="{{ occurance.id }}" *ngFor="\r\n                let occurance of exclusionEstimatedOccurances;\r\n                let i = index\r\n              ">{{ occurance.name  }}</option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n       <div class="form-group memo-popup-cstm mat_emo"\r\n            style="width: 120px;margin-bottom: 0;display: inline-flex;padding-top: 3px;">\r\n          <div [innerHTML]="exclusion.memo" class="text_editor_box"></div>\r\n            <i class="fa fa-pencil ci_cls " data-toggle="modal" data-target="#textarea-popupexclusion"\r\n              matTooltip="memo" matTooltipPosition="above" (click)="onAddTextAreaInfo(exclusion,i)"></i>\r\n          </div>\r\n        </td>\r\n        <td style="text-align: center;">\r\n          <button type="button" class="btn btn-danger nobg buton_back_bordernon" (click)="openDelete(content,exclusion,i)">\r\n            <i class="fa fa-trash"></i>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr *ngIf="workFlow.exclusions.length > 0">\r\n        <td>\r\n          <b>Total : </b>\r\n        </td>\r\n       <td *ngIf="isQuote">&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n  <td>&nbsp;</td>\r\n        <td class="text-right"><b>{{ workFlow.sumofExtendedCost }}</b></td>\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n      </tr>\r\n    </table>\r\n  </form>\r\n  <ng-template #content let-c="close" let-d="dismiss">\r\n    <div class="modal-header">\r\n        \r\n        <h4 class="modal-title">Are You Sure Want to Delete?</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">\r\n            <span aria-hidden="true">&times;</span>\r\n        </button>\r\n    </div>\r\n\r\n    <div class="modal-body">\r\n        <strong *ngIf="deleteRowRecord && deleteRowRecord.partNumber">\r\n            EPN:\r\n            <span class="new-label" >{{deleteRowRecord.partNumber}}</span>\r\n        </strong>\r\n    </div>\r\n\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" (click)="deleteRow()">Yes</button>\r\n        <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>\r\n    </div>\r\n\r\n</ng-template>\r\n  <div class="modal fade" id="textarea-popupexclusion" role="dialog" data-backdrop="static" data-keyboard="false">\r\n    <div class="modal-dialog modal-sm" >\r\n      <div class="modal-content">\r\n\r\n        <div class="modal-header">\r\n          <button type="button" class="close" (click)="onCloseTextAreaInfo()">\r\n              &times;\r\n          </button>\r\n          <h4 class="modal-title">Edit Memo</h4>\r\n      </div>\r\n        <div class="modal-body">\r\n\r\n        <table class="table table-bordered table-fixed workflow-table-material">\r\n          <thead>\r\n              <th style="color: #fff;">Memo</th>\r\n          </thead>\r\n          <tbody>\r\n              <tr>\r\n                  <td style="white-space: inherit">\r\n                          <p-editor [(ngModel)]="textAreaInfo" (ngModelChange)="enableSaveMemo()" [style]="{\'height\':\'320px\'}" name="textAreaInfo" required></p-editor>\r\n                  </td>\r\n              </tr>\r\n          </tbody>\r\n      </table>\r\n      \r\n      \r\n      </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-primary" [disabled]="disabledMemo" (click)="onSaveTextAreaInfo(textAreaInfo)">Save</button>\r\n          <button type="button" class="btn btn-danger" (click)="onCloseTextAreaInfo()">Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div *ngIf="(isWorkOrder && !isEdit) || (isQuote && !isEdit)" style="float:right">\r\n  <button class="btn btn-primary btn-primary" (click)="saveExclusionsWorkOrder()"\r\n    style="padding: 6px 12px !important;margin-top: 10px;" [disabled]="!exclusionsCreateForm.valid">\r\n    {{isQuote?\'Add\':\'Save\'}}\r\n  </button>\r\n  <button type="button" class="btn btn-danger" data-dismiss="modal"\r\n    style="padding: 6px 12px !important;margin-top: 10px;" (click)="close();">\r\n    Close\r\n  </button>\r\n</div>\r\n\r\n<div *ngIf="(isWorkOrder && isEdit) || (isQuote && isEdit)" style="float:right">\r\n  <button *ngIf="isWorkOrder || isQuote" class="btn btn-primary btn-primary" (click)="updateExclusionsWorkOrder()"\r\n    style="padding: 6px 12px !important;margin-top: 10px;" [disabled]="!exclusionsCreateForm.valid">\r\n    Update\r\n  </button>\r\n  <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="close();"\r\n    style="padding: 6px 12px !important;margin-top: 10px;">\r\n    Close\r\n  </button>\r\n</div>\r\n\r\n<div class="preloader" *ngIf="isSpinnerVisible">\r\n  <div class="loading">\r\n    <div class="lds-roller">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n</div>'},CH3K:function(t,e){t.exports=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}},Cwc5:function(t,e,r){var n=r("NKxu"),i=r("Npjl");t.exports=function(t,e){var r=i(t,e);return n(r)?r:void 0}},DSRE:function(t,e,r){(function(t){var n=r("Kz5y"),i=r("B8du"),a=e&&!e.nodeType&&e,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l}).call(this,r("YuTi")(t))},DvK1:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r("mrSG"),i=r("8Y7J"),a=r("IheW"),o=(r("AJX/"),r("tOyL")),s=r("JPLv"),l=r("AytR"),d=function(t){_inherits(r,t);var e=_createSuper(r);function r(t,n,i){var a;return _classCallCheck(this,r),(a=e.call(this,t,n,i))._actionsUrl="/api/Action/Get",a._actionsUrlNew="/api/Action/actions",a._actionsUrlAuditHistory="/api/Action/auditHistoryById",a.getActionURL="/api/Task/Get",a.getActionAttributesURL="/api/taskattribute/taskattributelist",a.getChargesTypeURL=l.a.baseUrl+"/api/mastertest/ChargesType",a.getChargesCurrencyURL=l.a.baseUrl+"/api/mastertest/ChargesCurrency",a.getEquipmentAssetTypesURL=l.a.baseUrl+"/api/mastertest/EquipmentAssetType",a.getExpertiseTypeURL=l.a.baseUrl+"/api/mastertest/ExpertiseType",a.getEmployeeExpertiseTypeURL=l.a.baseUrl+"/api/mastertest/EmployeeExpertiseType",a.getMaterialConditionURL=l.a.baseUrl+"/api/mastertest/MaterialCondition",a.getMaterialUOMURL=l.a.baseUrl+"/api/mastertest/MaterialUOM",a.getMaterialMandatoryURL=l.a.baseUrl+"/api/mastertest/MaterialMandatory",a.getPublcationTypeURL=l.a.baseUrl+"/api/mastertest/PublicationType",a.getPublicationAircraftManufacturerURL=l.a.baseUrl+"/api/mastertest/PublicationAircraftManufacturer",a.getPublicationModelURL=l.a.baseUrl+"/api/mastertest/PublicationModel",a.getDashNumberByModelIdURL=l.a.baseUrl+"/api/mastertest/getDashNumberByModelId",a.getLocationsUrl=l.a.baseUrl+"/api/Location/Get",a.getPublicationStatusURL=l.a.baseUrl+"/api/mastertest/PublicationStatus",a.getExclusionEstimatedOccuranceURL=l.a.baseUrl+"/api/mastertest/ExclusionEstimatedOccurance",a.getAddActionURL=l.a.baseUrl+"/api/Task/add",a.AddWorkFlowURL=l.a.baseUrl+"/api/workflow/addWorkFlow",a.AddWorkFlowHeaderURL=l.a.baseUrl+"/api/workflow/addWorkFlowHeader",a.AddChargesURL=l.a.baseUrl+"/api/workflow/addCharges",a.AddDirectionURL=l.a.baseUrl+"/api/workflow/addDirection",a.AddEquipmentURL=l.a.baseUrl+"/api/workflow/addEquipment",a.AddExclusionURL=l.a.baseUrl+"/api/workflow/addExclusion",a.AddExpertiseURL=l.a.baseUrl+"/api/workflow/addExpertise",a.AddMaterialListURL=l.a.baseUrl+"/api/workflow/addMaterial",a.AddMeasurementURL=l.a.baseUrl+"/api/workflow/addMeasurement",a.AddPublicationURL=l.a.baseUrl+"/api/workflow/addPublication",a.getWorkFlowURL=l.a.baseUrl+"/api/workflow/getworkflow",a.getWorkFlowWithMaterialURL=l.a.baseUrl+"/api/workflow/getWorkFlowWithMaterialList",a.toggleStateURL=l.a.baseUrl+"/api/workflow/toggleState",a.UpdateChargesURL=l.a.baseUrl+"/api/workflow/updateCharges",a.UpdateDirectionURL=l.a.baseUrl+"/api/workflow/updateDirection",a.UpdateEquipmentURL=l.a.baseUrl+"/api/workflow/updateEquipment",a.UpdateExclusionURL=l.a.baseUrl+"/api/workflow/updateExclusion",a.UpdateExpertiseURL=l.a.baseUrl+"/api/workflow/updateExpertise",a.UpdateMaterialListURL=l.a.baseUrl+"/api/workflow/updateMaterial",a.UpdateMeasurementURL=l.a.baseUrl+"/api/workflow/updateMeasurement",a.UpdatePublicationURL=l.a.baseUrl+"/api/workflow/updatePublication",a.RemoveWorkFlowURL=l.a.baseUrl+"/api/workflow/remove",a}return _createClass(r,[{key:"toggleState",value:function(t){var e=this,r="".concat(this.toggleStateURL,"/").concat(t);return this.http.delete(r,this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.toggleState(t)}))}))}},{key:"getWorkFlow",value:function(t){var e=this,r="".concat(this.getWorkFlowURL,"/").concat(t);return this.http.get(r,this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.getWorkFlow(t)}))}))}},{key:"getWorkFlowWithMaterialList",value:function(t){var e=this,r="".concat(this.getWorkFlowWithMaterialURL,"/").concat(t);return this.http.get(r,this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.getWorkFlowWithMaterialList(t)}))}))}},{key:"removeWorkFlow",value:function(t){var e=this,r="".concat(this.RemoveWorkFlowURL,"/").concat(t);return this.http.delete(r,this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.removeWorkFlow(t)}))}))}},{key:"addWorkFlowHeader",value:function(t){var e=this,r={workflowDescription:t.workflowDescription,version:t.version,flatRate:t.flatRate,itemMasterId:t.itemMasterId,partNumber:t.partNumber,partNumberDescription:t.partNumberDescription,changedPartNumberId:t.changedPartNumberId,currencyId:t.currencyId,customerId:t.customerId,workflowExpirationDate:t.workflowExpirationDate,isCalculatedBERThreshold:t.isCalculatedBERThreshold,isFixedAmount:t.isFixedAmount,fixedAmount:t.fixedAmount,isPercentageofNew:t.isPercentageofNew,costOfNew:t.costOfNew,percentageOfNew:t.percentageOfNew,isPercentageOfReplacement:t.isPercentageOfReplacement,costOfReplacement:t.costOfReplacement,percentageOfReplacement:t.percentageOfReplacement,berThresholdAmount:t.berThresholdAmount,memo:t.memo,customerName:t.customerName,masterCompanyId:t.masterCompanyId,createdBy:t.createdBy,updatedBy:t.updatedBy,percentageOfMaterial:t.percentageOfMaterial,percentageOfExpertise:t.percentageOfExpertise,percentageOfCharges:t.percentageOfCharges,percentageOfOthers:t.percentageOfOthers,percentageOfTotal:t.percentageOfTotal,workflowId:t.workflowId,workScopeId:t.workScopeId,customerCode:t.customerCode,isActive:t.isActive,workflowCreateDate:t.workflowCreateDate,otherCost:t.otherCost,isVersionIncrease:t.isVersionIncrease};return this.http.post(this.AddWorkFlowHeaderURL,JSON.parse(JSON.stringify(r)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.getNewWorkFlow(t)}))}))}},{key:"getNewWorkFlow",value:function(t){var e=this,r={charges:t.charges,directions:t.directions,equipments:t.equipments,exclusions:t.exclusions,expertise:t.expertise,materialList:t.materialList,measurements:t.measurements,publication:t.publication,masterCompanyId:t.masterCompanyId,createdBy:t.createdBy,updatedBy:t.updatedBy,workflowDescription:t.workflowDescription,itemMasterId:t.itemMasterId,partNumber:t.partNumber,partNumberDescription:t.partNumberDescription,changedPartNumberId:t.changedPartNumberId,version:t.version,flatRate:t.flatRate,currencyId:t.currencyId,customerId:t.customerId,workflowExpirationDate:t.workflowExpirationDate,isCalculatedBERThreshold:t.isCalculatedBERThreshold,isFixedAmount:t.isFixedAmount,fixedAmount:t.fixedAmount,isPercentageofNew:t.isPercentageofNew,costOfNew:t.costOfNew,percentageOfNew:t.percentageOfNew,isPercentageOfReplacement:t.isPercentageOfReplacement,costOfReplacement:t.costOfReplacement,percentageOfReplacement:t.percentageOfReplacement,berThresholdAmount:t.berThresholdAmount,memo:t.memo,customerName:t.customerName,workflowId:t.workflowId,workScopeId:t.workScopeId,customerCode:t.customerCode,isActive:t.isActive,workflowCreateDate:t.workflowCreateDate,otherCost:t.otherCost,isVersionIncrease:t.isVersionIncrease,percentageOfMaterial:t.percentageOfMaterial,percentageOfExpertise:t.percentageOfExpertise,percentageOfCharges:t.percentageOfCharges,percentageOfOthers:t.percentageOfOthers,percentageOfTotal:t.percentageOfTotal};return this.http.post(this.AddWorkFlowURL,JSON.parse(JSON.stringify(r)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.getNewWorkFlow(t)}))}))}},{key:"addCharges",value:function(t){var e=this;return t.taskId,t.workflowId,t.currencyId,t.description,t.extendedCost,t.vendorName,t.extendedPrice,t.forexRate,t.quantity,t.unitCost,t.unitPrice,t.vendorUnitPrice,t.workflowChargeTypeId,t.isDelete,this.http.post(this.AddChargesURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addCharges(t)}))}))}},{key:"addDirection",value:function(t){var e=this;return t.taskId,t.workflowId,t.action,t.description,t.sequence,t.memo,t.isDelete,this.http.post(this.AddDirectionURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addDirection(t)}))}))}},{key:"addEquipment",value:function(t){var e=this;return t.taskId,t.workflowId,t.assetDescription,t.assetId,t.assetTypeId,t.quantity,t.memo,t.isDelete,t.partNumber,this.http.post(this.AddEquipmentURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addEquipment(t)}))}))}},{key:"addExclusion",value:function(t){var e=this;return t.taskId,t.workflowId,t.partDescription,t.estimtPercentOccurrance,t.extendedCost,t.partNumber,t.partName,t.itemMasterId,t.quantity,t.unitCost,t.isDelete,t.memo,this.http.post(this.AddExclusionURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addExclusion(t)}))}))}},{key:"addExpertise",value:function(t){var e=this;return t.directLaborRate,t.workflowId,t.estimatedHours,t.expertiseTypeId,t.laborDirectRate,t.laborOverheadCost,t.overheadBurden,t.overheadCost,t.standardRate,t.taskId,t.isDelete,this.http.post(this.AddExpertiseURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addExpertise(t)}))}))}},{key:"addMaterial",value:function(t){var e=this,r={taskId:t.actionId,conditionCodeId:t.conditionCodeId,extendedCost:t.extendedCost,extraCost:t.extraCost,isDeferred:t.isDeferred,itemClassificationId:t.itemClassificationId,itemMasterId:t.itemMasterId,mandatoryOrSupplemental:t.mandatoryOrSupplemental,partDescription:t.partDescription,memo:t.memo,price:t.price,provisionId:t.provisionId,quantity:t.quantity,unitCost:t.unitCost,unitOfMeasureId:t.unitOfMeasureId,workflowId:t.workflowId,isDelete:t.isDelete,partNumber:t.partNumber};return this.http.post(this.AddMaterialListURL,JSON.parse(JSON.stringify(r)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addMaterial(t)}))}))}},{key:"addMeasurement",value:function(t){var e=this,r={taskId:t.actionId,itemMasterId:t.itemMasterId,sequence:t.sequence,stage:t.stage,min:t.min,max:t.max,expected:t.expected,diagramURL:t.diagramURL,memo:t.memo,isDelete:t.isDelete,partNumber:t.partNumber,partDescription:t.partDescription,workflowId:t.workflowId};return this.http.post(this.AddMeasurementURL,JSON.parse(JSON.stringify(r)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addMeasurement(t)}))}))}},{key:"addPublication",value:function(t){var e=this;return this.http.post(this.AddPublicationURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addPublication(t)}))}))}},{key:"updateCharges",value:function(t){var e=this;return this.http.post(this.UpdateChargesURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.updateCharges(t)}))}))}},{key:"updateEquipment",value:function(t){var e=this;return this.http.post(this.UpdateEquipmentURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.updateEquipment(t)}))}))}},{key:"updateDirection",value:function(t){var e=this;return this.http.post(this.UpdateDirectionURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.updateEquipment(t)}))}))}},{key:"updateExclusion",value:function(t){var e=this;return this.http.post(this.UpdateExclusionURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.updateExclusion(t)}))}))}},{key:"updateExpertise",value:function(t){var e=this;return this.http.post(this.UpdateExpertiseURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.updateExclusion(t)}))}))}},{key:"updateMeasurement",value:function(t){var e=this;return this.http.post(this.UpdateMeasurementURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.updateMeasurement(t)}))}))}},{key:"updateMaterial",value:function(t){var e=this;return this.http.post(this.UpdateMaterialListURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.updateMeasurement(t)}))}))}},{key:"updatePublication",value:function(t){var e=this;return this.http.post(this.UpdatePublicationURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.updatePublication(t)}))}))}},{key:"addAction",value:function(t){var e=this;return this.http.post(this.getAddActionURL,JSON.parse(JSON.stringify(t)),this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.addAction(t)}))}))}},{key:"getActions",value:function(){var t=this;return this.http.get(this.getActionURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.getActions()}))}))}},{key:"getActionAttributes",value:function(){var t=this;return this.http.get(this.getActionAttributesURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.getActionAttributes()}))}))}},{key:"getChargesCurrency",value:function(){var t=this;return this.http.get(this.getChargesCurrencyURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.getChargesCurrency()}))}))}},{key:"GetExpertiseType",value:function(){var t=this;return this.http.get(this.getExpertiseTypeURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.GetExpertiseType()}))}))}},{key:"getEmployeeExpertiseType",value:function(){var t=this;return this.http.get(this.getEmployeeExpertiseTypeURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.getEmployeeExpertiseType()}))}))}},{key:"getEquipmentAssetType",value:function(){var t=this;return this.http.get(this.getEquipmentAssetTypesURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.getEquipmentAssetType()}))}))}},{key:"GetMaterialMandatory",value:function(){var t=this;return this.http.get(this.getMaterialMandatoryURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.GetMaterialMandatory()}))}))}},{key:"GetMaterialUOM",value:function(){var t=this;return this.http.get(this.getMaterialUOMURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.GetMaterialUOM()}))}))}},{key:"GetExclusionEstimatedOccurance",value:function(){var t=this;return this.http.get(this.getExclusionEstimatedOccuranceURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.GetExclusionEstimatedOccurance()}))}))}},{key:"GetPublicationStatus",value:function(){var t=this;return this.http.get(this.getPublicationStatusURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.GetPublicationStatus()}))}))}},{key:"GetPublicationModel",value:function(t){var e=this,r="".concat(this.getPublicationModelURL,"/").concat(t);return this.http.get(r,this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.GetPublicationModel(t)}))}))}},{key:"GetDashNumberByModelIdURL",value:function(t){var e=this,r="".concat(this.getDashNumberByModelIdURL,"/").concat(t);return this.http.get(r,this.getRequestHeaders()).catch((function(r){return e.handleErrorCommon(r,(function(){return e.GetDashNumberByModelIdURL(t)}))}))}},{key:"getLocations",value:function(){var t=this;return this.http.get(this.getLocationsUrl,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.getLocations()}))}))}},{key:"GetPublicationAircraftManufacturer",value:function(){var t=this;return this.http.get(this.getPublicationAircraftManufacturerURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.GetPublicationAircraftManufacturer()}))}))}},{key:"GetPublicationType",value:function(){var t=this;return this.http.get(this.getPublcationTypeURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.GetPublicationType()}))}))}},{key:"getChargesType",value:function(){var t=this;return this.http.get(this.getChargesTypeURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.getChargesType()}))}))}},{key:"getCharges",value:function(){return this.http.get(this.configurations.baseUrl+"/api/Charge/GetAllActive",this.getRequestHeaders())}},{key:"GetMaterialCondition",value:function(){var t=this;return this.http.get(this.getMaterialConditionURL,this.getRequestHeaders()).catch((function(e){return t.handleErrorCommon(e,(function(){return t.GetMaterialCondition()}))}))}},{key:"actionsUrl",get:function(){return this.configurations.baseUrl+this._actionsUrl}}]),r}(o.a);d.ctorParameters=function(){return[{type:a.HttpClient},{type:s.a},{type:i.Injector}]},d=n.b([Object(i.Injectable)()],d)},"Dw+G":function(t,e,r){var n=r("juv8"),i=r("mTTR");t.exports=function(t,e){return t&&n(e,i(e),t)}},E2jh:function(t,e,r){var n,i=r("2gN3"),a=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!a&&a in t}},EEGq:function(t,e,r){var n=r("juv8"),i=r("oCl/");t.exports=function(t,e){return n(t,i(t),e)}},EpBk:function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},ExA7:function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},G6z8:function(t,e,r){var n=r("fR/l"),i=r("oCl/"),a=r("mTTR");t.exports=function(t){return n(t,a,i)}},Gi0A:function(t,e,r){var n=r("QqLw"),i=r("ExA7");t.exports=function(t){return i(t)&&"[object Map]"==n(t)}},Gnhu:function(t,e,r){"use strict";r.r(e),e.default='<div class="fixed-table-container-inner table-responsive cat4-table fixed-column-table column-r1-fixed">\r\n    <div>\r\n        <span class="cat-heading cat4">Add New Publication<i (click)="addRow()" class="fa fa-plus"></i></span>\r\n    </div>\r\n    <table class="table table-bordered table-fixed workflow-table-pub">\r\n        <thead class="thead-light">\r\n            <tr>\r\n                <th> Pub ID<span class="clr-red">*</span></th>\r\n                <th> Pub Desc </th>\r\n                <th> Pub Type </th>\r\n                <th> Revision Date </th>\r\n                <th> Sequence </th>\r\n                <th> Source </th>\r\n                <th> Aircraft </th>\r\n                <th> Model </th>\r\n                <th> Dash Number </th>\r\n                <th> Location </th>\r\n                <th> Verified By </th>\r\n                <th> Verified Date </th>\r\n                <th> Status </th>\r\n                <th> File Name </th>\r\n                <th> Action </th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr [hidden]="publ.isDeleted" *ngFor="let publ of workFlow.publication;let i = index">\r\n                <td>\r\n                    <div style="display: inline-flex;">\r\n                        <select class="form-control wf-pub-id full-width" \r\n                            [(ngModel)]="publ.publicationId"\r\n                            (change)="onPublicationChange($event, publ); getAircraftByPublicationId($event.target.value, i)"\r\n                            required>\r\n                            <option [value]="0">--Select--</option>\r\n                            <option *ngFor="let dropdown of publicationDropdown" [value]="dropdown.publicationRecordId">\r\n                                {{ dropdown.publicationId}}</option>\r\n                        </select>\r\n                        <a *ngIf="publ.publicationId !== \'0\' && publ.publicationId !== \'\' && publ.publicationId !== undefined"\r\n                            (click)="viewPublicationDetails(publ)" style="margin-top: 4px; margin-left: 4px;">\r\n                            <i class="fa fa-eye view_icon_adjust"></i>\r\n                        </a>\r\n                    </div>\r\n                </td>\r\n                <td>\r\n                    {{publ.publicationDescription}}\r\n                </td>\r\n                <td>\r\n                    <select class="form-control wf-pub-id full-width" id="ddlPublicationTypes"\r\n                        [(ngModel)]="publ.publicationType" >\r\n                        <option value="0">--select--</option>\r\n                        <option *ngFor="let type of publicationTypes" value={{type.publicationTypeId}}>\r\n                            {{type.name}}\r\n                        </option>\r\n                    </select>\r\n                </td>\r\n                <td>\r\n                    {{publ.revisionDate}}\r\n                </td>\r\n                <td class="text-right">\r\n                    {{publ.sequence}}\r\n                </td>\r\n                <td>\r\n                    {{publ.source}}\r\n                </td>\r\n                <td>\r\n                    <select class="form-control wf-pub-id full-width" id="ddlAircraftManufacturer"\r\n                        [(ngModel)]="publ.aircraftManufacturer"\r\n                        (change)="getModelByAircraftId(publ.publicationId, publ.aircraftManufacturer,i)">\r\n                        <option value="0">--select--</option>\r\n                        <option *ngFor="let manufact of getDynamicVariableData(\'aircraftListByPubId\',i) "\r\n                            value="{{manufact.aircraftTypeId}}">\r\n                            {{manufact.description}}\r\n                        </option>\r\n                    </select>\r\n                </td>\r\n\r\n                <td>\r\n                    <select class="form-control wf-pub-id full-width" id="ddlModel" [(ngModel)]="publ.model"\r\n                        (change)="getDashNumberByModelandAircraftIds(publ.publicationId, publ.aircraftManufacturer,publ.model, i)">\r\n                        <option value="0">--select--</option>\r\n                        <option *ngFor="let model of getDynamicVariableData(\'aircraftModelListByPubId\',i)"\r\n                            value="{{model.aircraftModelId}}">\r\n                            {{model.modelName}}\r\n                        </option>\r\n                    </select>\r\n                </td>\r\n                <td>\r\n                    <ng-multiselect-dropdown class="form-control" [placeholder]="\'--Select--\'"\r\n                        [data]="getDynamicVariableData(\'dashNumberListByModelId\',i)"\r\n                        [(ngModel)]="publ.workflowPublicationDashNumbers" [settings]="dropdownSettings"\r\n                        (onDeSelect)="onDeSelect(publ,$event)" (onSelect)="onItemSelect(publ,$event)"\r\n                        (onSelectAll)="onSelectAll(publ,$event)">\r\n                    </ng-multiselect-dropdown>\r\n                </td>\r\n                <td>\r\n                    {{publ.location}}\r\n                </td>\r\n\r\n                <td>\r\n                    {{publ.verifiedBy}}\r\n                </td>\r\n                <td>\r\n                    {{publ.verifiedDate}}\r\n                </td>\r\n                <td>\r\n                    <select class="form-control custom-select dropdown-select wf-pub-id" disabled="disabled"\r\n                        [(ngModel)]="publ.status">\r\n                        <option value="0">--Select--</option>\r\n                        <option value="true">Active</option>\r\n                        <option value="false">In Active</option>\r\n                    </select>\r\n                </td>\r\n                <td>\r\n                    <a (click)="downloadFileUpload(publ)" class="btn nobg btn-cstm">\r\n                        <span class="blue-href" *ngFor="let x of publ.attachmentDetails"\r\n                            (click)="downloadFileUpload(x)">{{x.fileName}},</span>\r\n                    </a>\r\n                </td>\r\n                <td>\r\n                    <button class="btn btn-danger nobg" (click)="deleteRow(i)">\r\n                        <i class="fa fa-trash"></i>\r\n                    </button>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n</div>\r\n\r\n\r\n<div id="view1" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">\r\n    <div class="modal-dialog modal-xl">\r\n        <div class="modal-content">\r\n            <div class="modal-header">\r\n                <button type="button" class="close" data-dismiss="modal">\xd7</button>\r\n                <h4 class="modal-title">Publication Details</h4>\r\n            </div>\r\n            <div class="modal-body">\r\n                <div id="adminsearchlocationajax" class="table-responsive default-bg clear">\r\n                    <div class="panel-group" id="accordion">\r\n                        <div class="panel panel-default">\r\n                            <div>\r\n                                <button type="button" class="btn btn-primary" data-toggle="collapse"\r\n                                    (click)="openAllCollapse()">Open\r\n                                    All</button>\r\n                                <button type="button" class="btn btn-primary collapsed" data-toggle="collapse"\r\n                                    (click)="closeAllCollapse()">Close All</button>\r\n                                <hr />\r\n                            </div>\r\n                            <div class="panel-heading">\r\n                                <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse"\r\n                                        href="#step1">General Info</a>\r\n                                </h4>\r\n                            </div>\r\n                            <div id="step1" class="panel-collapse  collapse in show" *ngIf="generalInfo">\r\n                                <div class="panel-body">\r\n                                    <div class="card">\r\n                                        <div class="card-body">\r\n                                            <div>\r\n                                                <div class="table-responsive default-bg clear">\r\n                                                    <div class="col-sm-4">\r\n                                                        <p><span class="label"><b>Entry Date: </b></span><span\r\n                                                                class="value">{{generalInfo.entryDate | date: \'dd/MM/yyyy\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Publication ID: </b></span><span\r\n                                                                class="value">{{generalInfo.publicationId ? generalInfo.publicationId : \'-\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Publication Description:\r\n                                                                </b></span><span\r\n                                                                class="value">{{generalInfo.description ? generalInfo.description : \'-\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Publication Type: </b></span><span\r\n                                                                class="value">{{generalInfo.publicationType ? generalInfo.publicationType : \'-\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Author / Source / Directive:\r\n                                                                </b></span><span\r\n                                                                class="value">{{generalInfo.asd ? generalInfo.asd : \'-\'}}</span>\r\n                                                        </p>\r\n                                                    </div>\r\n                                                    <div class="col-sm-4">\r\n                                                        <p><span class="label"><b>Sequence: </b></span><span\r\n                                                                class="value">{{generalInfo.sequence ? generalInfo.sequence : \'-\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Published By: </b></span><span\r\n                                                                class="value">{{generalInfo.publishby ? generalInfo.publishby : \'-\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Location: </b></span><span\r\n                                                                class="value">{{generalInfo.location ? generalInfo.location : \'-\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Revision Date: </b></span><span\r\n                                                                class="value">{{generalInfo.revisionDate | date: \'dd/MM/yyyy\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Revision Number: </b></span><span\r\n                                                                class="value">{{generalInfo.revisionNum ? generalInfo.revisionNum : \'-\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Expiration Date: </b></span><span\r\n                                                                class="value">{{generalInfo.expirationDate | date: \'dd/MM/yyyy\'}}</span>\r\n                                                        </p>\r\n                                                    </div>\r\n                                                    <div class="col-sm-4">\r\n                                                        <p><span class="label"><b>Next Review Date: </b></span><span\r\n                                                                class="value">{{generalInfo.nextReviewDate | date: \'dd/MM/yyyy\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Verified By: </b></span><span\r\n                                                                class="value">{{generalInfo.verifiedBy ? generalInfo.verifiedBy : \'-\'}}</span>\r\n                                                        </p>\r\n                                                        <p><span class="label"><b>Status: </b></span><span\r\n                                                                class="value">{{isActive}}</span></p>\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <h4 class="panel-title" style="padding-left: 10px;">Attachment\r\n                                                        Details:</h4>\r\n                                                    <div class="col-sm-6">\r\n                                                        <p-table #dt class="rpo-table-cstm rro-table-cstm ptable-th-bg"\r\n                                                            [columns]="headersforAttachment" [value]="attachmentList"\r\n                                                            [paginator]="true" [rows]="attachmentsPageSize"\r\n                                                            [first]="first" [rowsPerPageOptions]="[10, 20, 50, 100]">\r\n                                                            <ng-template pTemplate="header" let-columns>\r\n                                                                <tr>\r\n                                                                    <th *ngFor="let col of columns"\r\n                                                                        [pSortableColumn]="col.field">\r\n                                                                        {{ col.header }}\r\n                                                                        <p-sortIcon [field]="col.field"></p-sortIcon>\r\n                                                                    </th>\r\n                                                                    <th style="width: 200px;">File(s)</th>\r\n                                                                </tr>\r\n                                                                <tr>\r\n                                                                    <th *ngFor="let col of columns"\r\n                                                                        [ngSwitch]="col.field">\r\n                                                                        <input style="width:100%;" pInputText\r\n                                                                            type="text" (input)="\r\n                                                                        dt.filter($event.target.value, col.field, \'contains\')\r\n                                                                        " />\r\n                                                                    </th>\r\n                                                                    <th></th>\r\n                                                                </tr>\r\n                                                            </ng-template>\r\n                                                            <ng-template pTemplate="body" let-rowData\r\n                                                                let-columns="columns" let-rowIndex="rowIndex">\r\n                                                                <tr>\r\n                                                                    <td *ngFor="let col of columns"\r\n                                                                        style="text-align: center;">\r\n                                                                        {{ rowData[col.field] }}\r\n                                                                    </td>\r\n                                                                    <td>\r\n                                                                        <ng-container\r\n                                                                            *ngFor="let fileItem of rowData.attachmentDetails">\r\n                                                                            <a (click)="downloadFileUpload(fileItem)"\r\n                                                                                matTooltip="Download"\r\n                                                                                matTooltipPosition="above"\r\n                                                                                class="filelink"\r\n                                                                                style="padding-right: 5px;">{{fileItem.fileName}}</a>\r\n\r\n                                                                        </ng-container>\r\n                                                                    </td>\r\n                                                                </tr>\r\n\r\n                                                            </ng-template>\r\n                                                            <ng-template pTemplate="emptymessage" let-columns\r\n                                                                *ngIf="attachmentList.length == 0">\r\n                                                                <tr>\r\n                                                                    <td [attr.colspan]="2"\r\n                                                                        style="color: red; font-weight: bold; text-align: center">\r\n                                                                        No records found\r\n                                                                    </td>\r\n                                                                </tr>\r\n                                                            </ng-template>\r\n                                                            <ng-template pTemplate="summary" id="footer">\r\n                                                                <label id="footer" class="footer">Total:</label>\r\n                                                                <input style="width: 5%;" [(ngModel)]="dt._totalRecords"\r\n                                                                    [disabled]="true" pInputText type="text" />\r\n                                                                &nbsp;&nbsp;\r\n                                                                <label id="footer" class="footer1">Pages Count:</label>\r\n\r\n                                                                <input style="width: 5%;" [ngModel]="\r\n                              getPageCount(dt._totalRecords, attachmentsPageSize)\r\n                            " [disabled]="true" pInputText type="text" />\r\n                                                            </ng-template>\r\n                                                        </p-table>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n                            <div class="panel panel-default">\r\n                                <div class="panel-heading">\r\n                                    <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse"\r\n                                            href="#step2">PN Mapping</a>\r\n                                    </h4>\r\n                                </div>\r\n                                <div id="step2" class="panel-collapse  collapse">\r\n                                    <div class="panel-body">\r\n                                        <div class="col-sm-12">\r\n                                            <div class="shadow-Box">\r\n                                                <p-table #pnTable class="rpo-table-cstm ptable-th-bg"\r\n                                                    [columns]="headersforPNMapping" [value]="pnMappingList"\r\n                                                    [paginator]="true" [rows]="pnMappingPageSize" [first]="first"\r\n                                                    [rowsPerPageOptions]="[10, 20, 50, 100]">\r\n                                                    <ng-template pTemplate="header" let-columns>\r\n                                                        <tr>\r\n                                                            <th style="padding: 8px 5px !important;"\r\n                                                                *ngFor="let col of columns"\r\n                                                                [pSortableColumn]="col.field">\r\n                                                                {{ col.header }}\r\n                                                                <p-sortIcon [field]="col.field"></p-sortIcon>\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th *ngFor="let col of columns" [ngSwitch]="col.field">\r\n                                                                <input style="width:100%;" pInputText type="text"\r\n                                                                    (input)="\r\n                                                                  pnTable.filter($event.target.value, col.field, \'contains\')\r\n                                                                  " />\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="body" let-rowData let-columns="columns"\r\n                                                        let-rowIndex="rowIndex">\r\n                                                        <tr>\r\n                                                            <td *ngFor="let col of columns">\r\n                                                                {{ rowData[col.field] }}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="emptymessage" let-columns\r\n                                                        *ngIf="pnMappingList.length == 0">\r\n                                                        <tr>\r\n                                                            <td [attr.colspan]="4"\r\n                                                                style="color: red; font-weight: bold; text-align: center">\r\n                                                                No records found\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="summary" id="footer">\r\n                                                        <label id="footer" class="footer">Total:</label>\r\n                                                        <input style="width: 5%;" [(ngModel)]="pnTable._totalRecords"\r\n                                                            [disabled]="true" pInputText type="text" />\r\n                                                        &nbsp;&nbsp;\r\n                                                        <label id="footer" class="footer1">Pages Count:</label>\r\n\r\n                                                        <input style="width: 5%;" [ngModel]="\r\n                              getPageCount(pnTable._totalRecords, pnMappingPageSize)\r\n                            " [disabled]="true" pInputText type="text" />\r\n                                                    </ng-template>\r\n                                                </p-table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="panel panel-default">\r\n                                <div class="panel-heading">\r\n                                    <h4 class="panel-title"><a class="collapsed" data-toggle="collapse"\r\n                                            href="#step3">Aircraft Info</a>\r\n                                    </h4>\r\n                                </div>\r\n                                <div id="step3" class="panel-collapse  collapse">\r\n                                    <div class="panel-body">\r\n                                        <div class="col-sm-12">\r\n                                            <div class="shadow-Box">\r\n                                                <p-table #aircraftTable class="rpo-table-cstm ptable-th-bg"\r\n                                                    [columns]="aircraftInformationCols" [value]="aircraftList"\r\n                                                    [paginator]="true" [rows]="aircraftPageSize" [first]="first"\r\n                                                    [rowsPerPageOptions]="[10, 20, 50, 100]">\r\n                                                    <ng-template pTemplate="header" let-columns>\r\n                                                        <tr>\r\n                                                            <th style="padding: 8px 5px !important;"\r\n                                                                *ngFor="let col of columns"\r\n                                                                [pSortableColumn]="col.field">\r\n                                                                {{ col.header }}\r\n                                                                <p-sortIcon [field]="col.field"></p-sortIcon>\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th *ngFor="let col of columns" [ngSwitch]="col.field">\r\n                                                                <input style="width:100%;" pInputText type="text"\r\n                                                                    (input)="\r\n                                                                    aircraftTable.filter($event.target.value, col.field, \'contains\')\r\n                                                                    " />\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="body" let-rowData let-columns="columns"\r\n                                                        let-rowIndex="rowIndex">\r\n                                                        <tr>\r\n                                                            <td *ngFor="let col of columns">\r\n                                                                {{ rowData[col.field] }}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="emptymessage" let-columns\r\n                                                        *ngIf="aircraftList.length == 0">\r\n                                                        <tr>\r\n                                                            <td [attr.colspan]="3"\r\n                                                                style="color: red; font-weight: bold; text-align: center">\r\n                                                                No records found\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="summary" id="footer">\r\n                                                        <label id="footer" class="footer">Total:</label>\r\n                                                        <input style="width: 5%;"\r\n                                                            [(ngModel)]="aircraftTable._totalRecords" [disabled]="true"\r\n                                                            pInputText type="text" />\r\n                                                        &nbsp;&nbsp;\r\n                                                        <label id="footer" class="footer1">Pages Count:</label>\r\n\r\n                                                        <input style="width: 5%;" [ngModel]="\r\n                                                                getPageCount(aircraftTable._totalRecords, aircraftPageSize)\r\n                                                              " [disabled]="true" pInputText type="text" />\r\n                                                    </ng-template>\r\n                                                </p-table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="panel panel-default">\r\n                                <div class="panel-heading">\r\n                                    <h4 class="panel-title"><a class="collapsed" data-toggle="collapse"\r\n                                            href="#step4">ATA Chapter</a></h4>\r\n                                </div>\r\n                                <div id="step4" class="panel-collapse  collapse">\r\n                                    <div class="panel-body">\r\n                                        <div class="col-sm-12">\r\n                                            <div class="shadow-Box">\r\n                                                <p-table #ataTable class="rpo-table-cstm ptable-th-bg"\r\n                                                    [columns]="atacols" [value]="ataList" [paginator]="true"\r\n                                                    [rows]="ataPageSize" [first]="first"\r\n                                                    [rowsPerPageOptions]="[10, 20, 50, 100]">\r\n                                                    <ng-template pTemplate="header" let-columns>\r\n                                                        <tr>\r\n                                                            <th style="padding: 8px 5px !important;"\r\n                                                                *ngFor="let col of columns"\r\n                                                                [pSortableColumn]="col.field">\r\n                                                                {{ col.header }}\r\n                                                                <p-sortIcon [field]="col.field"></p-sortIcon>\r\n\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th *ngFor="let col of columns" [ngSwitch]="col.field">\r\n                                                                <input style="width:100%;" pInputText type="text"\r\n                                                                    (input)="\r\n                                                                    ataTable.filter($event.target.value, col.field, \'contains\')\r\n                                                                    " />\r\n                                                            </th>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="body" let-rowData let-columns="columns"\r\n                                                        let-rowIndex="rowIndex">\r\n                                                        <tr>\r\n                                                            <td *ngFor="let col of columns">\r\n                                                                {{ rowData[col.field] }}\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="emptymessage" let-columns\r\n                                                        *ngIf="ataList.length == 0">\r\n                                                        <tr>\r\n                                                            <td [attr.colspan]="2"\r\n                                                                style="color: red; font-weight: bold; text-align: center">\r\n                                                                No records found\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    </ng-template>\r\n                                                    <ng-template pTemplate="summary" id="footer">\r\n                                                        <label id="footer" class="footer">Total:</label>\r\n                                                        <input style="width: 5%;" [(ngModel)]="ataTable._totalRecords"\r\n                                                            [disabled]="true" pInputText type="text" />\r\n                                                        &nbsp;&nbsp;\r\n                                                        <label id="footer" class="footer1">Pages Count:</label>\r\n\r\n                                                        <input style="width: 5%;" [ngModel]="\r\n                                                                getPageCount(ataTable._totalRecords, ataPageSize)\r\n                                                              " [disabled]="true" pInputText type="text" />\r\n                                                    </ng-template>\r\n                                                </p-table>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="modal-footer">\r\n                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class="preloader" *ngIf="isSpinnerVisible">\r\n    <div class="loading">\r\n        <div class="lds-roller">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    </div>\r\n</div>'},GoyQ:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},H8j4:function(t,e,r){var n=r("QkVE");t.exports=function(t,e){var r=n(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}},HOxn:function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"Promise");t.exports=n},Hvzi:function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},Itiq:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,r,o):i(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(e,"__esModule",{value:!0});var o=r("8Y7J"),s=r("GS7A"),l=r("SVse"),d=r("7LN8"),c=0,u=function(){function t(t,e){this.changeDetector=e,this.cache=!0,this.selectedChange=new o.EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-accordiontab-"+c++,this.accordion=t}return Object.defineProperty(t.prototype,"animating",{get:function(){return this._animating},set:function(t){this._animating=t,this.changeDetector.destroyed||this.changeDetector.detectChanges()},enumerable:!0,configurable:!0}),t.prototype.ngAfterContentInit=function(){var t=this;this.templates.forEach((function(e){switch(e.getType()){case"content":default:t.contentTemplate=e.template}}))},t.prototype.toggle=function(t){if(this.disabled||this.animating)return!1;this.animating=!0;var e=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:e});else{if(!this.accordion.multiple)for(var r=0;r<this.accordion.tabs.length;r++)this.accordion.tabs[r].selected=!1,this.accordion.tabs[r].selectedChange.emit(!1);this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:t,index:e})}this.selectedChange.emit(this.selected),t.preventDefault()},t.prototype.findTabIndex=function(){for(var t=-1,e=0;e<this.accordion.tabs.length;e++)if(this.accordion.tabs[e]==this){t=e;break}return t},Object.defineProperty(t.prototype,"hasHeaderFacet",{get:function(){return this.headerFacet&&this.headerFacet.length>0},enumerable:!0,configurable:!0}),t.prototype.onToggleDone=function(t){this.animating=!1},t.prototype.onKeydown=function(t){32!==t.which&&13!==t.which||(this.toggle(t),t.preventDefault())},t.prototype.ngOnDestroy=function(){this.accordion.tabs.splice(this.findTabIndex(),1)},n([o.Input(),i("design:type",String)],t.prototype,"header",void 0),n([o.Input(),i("design:type",Boolean)],t.prototype,"selected",void 0),n([o.Input(),i("design:type",Boolean)],t.prototype,"disabled",void 0),n([o.Input(),i("design:type",Boolean)],t.prototype,"cache",void 0),n([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"selectedChange",void 0),n([o.Input(),i("design:type",String)],t.prototype,"transitionOptions",void 0),n([o.ContentChildren(d.Header),i("design:type",o.QueryList)],t.prototype,"headerFacet",void 0),n([o.ContentChildren(d.PrimeTemplate),i("design:type",o.QueryList)],t.prototype,"templates",void 0),n([o.Component({selector:"p-accordionTab",template:'\n        <div class="ui-accordion-header ui-state-default ui-corner-all" [ngClass]="{\'ui-state-active\': selected,\'ui-state-disabled\':disabled}">\n            <a [attr.tabindex]="disabled ? -1 : 0" [attr.id]="id" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="selected" (click)="toggle($event)" \n                (keydown)="onKeydown($event)">\n                <span class="ui-accordion-toggle-icon" [ngClass]="selected ? accordion.collapseIcon : accordion.expandIcon"></span>\n                <span class="ui-accordion-header-text" *ngIf="!hasHeaderFacet">\n                    {{header}}\n                </span>\n                <ng-content select="p-header" *ngIf="hasHeaderFacet"></ng-content>\n            </a>\n        </div>\n        <div [attr.id]="id + \'-content\'" class="ui-accordion-content-wrapper" [@tabContent]="selected ? {value: \'visible\', params: {transitionParams: animating ? transitionOptions : \'0ms\', height: \'*\'}} : {value: \'hidden\', params: {transitionParams: transitionOptions, height: \'0\'}}" (@tabContent.done)="onToggleDone($event)"\n            [ngClass]="{\'ui-accordion-content-wrapper-overflown\': !selected||animating}" \n            role="tabpanel" [attr.aria-hidden]="!selected" [attr.aria-labelledby]="id">\n            <div class="ui-accordion-content ui-widget-content">\n                <ng-content></ng-content>\n                <ng-container *ngIf="contentTemplate && (cache ? loaded : selected)">\n                    <ng-container *ngTemplateOutlet="contentTemplate"></ng-container>\n                </ng-container>\n            </div>\n        </div>\n    ',animations:[s.trigger("tabContent",[s.state("hidden",s.style({height:"0"})),s.state("void",s.style({height:"{{height}}"}),{params:{height:"0"}}),s.state("visible",s.style({height:"*"})),s.transition("visible <=> hidden",s.animate("{{transitionParams}}")),s.transition("void => hidden",s.animate("{{transitionParams}}")),s.transition("void => visible",s.animate("{{transitionParams}}"))])]}),a(0,o.Inject(o.forwardRef((function(){return p})))),i("design:paramtypes",[Object,o.ChangeDetectorRef])],t)}();e.AccordionTab=u;var p=function(){function t(t,e){this.el=t,this.changeDetector=e,this.onClose=new o.EventEmitter,this.onOpen=new o.EventEmitter,this.expandIcon="pi pi-fw pi-chevron-right",this.collapseIcon="pi pi-fw pi-chevron-down",this.tabs=[]}return t.prototype.ngAfterContentInit=function(){var t=this;this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe((function(e){t.initTabs(),t.changeDetector.markForCheck()}))},t.prototype.initTabs=function(){this.tabs=this.tabList.toArray(),this.updateSelectionState()},t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(t){this._activeIndex=t,this.updateSelectionState()},enumerable:!0,configurable:!0}),t.prototype.updateSelectionState=function(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(var t=0;t<this.tabs.length;t++){var e=this.multiple?this._activeIndex.includes(t):t===this._activeIndex;e!==this.tabs[t].selected&&(this.tabs[t].animating=!0,this.tabs[t].selected=e,this.tabs[t].selectedChange.emit(e))}},t.prototype.ngOnDestroy=function(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()},n([o.Input(),i("design:type",Boolean)],t.prototype,"multiple",void 0),n([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onClose",void 0),n([o.Output(),i("design:type",o.EventEmitter)],t.prototype,"onOpen",void 0),n([o.Input(),i("design:type",Object)],t.prototype,"style",void 0),n([o.Input(),i("design:type",String)],t.prototype,"styleClass",void 0),n([o.Input(),i("design:type",String)],t.prototype,"expandIcon",void 0),n([o.Input(),i("design:type",String)],t.prototype,"collapseIcon",void 0),n([o.ContentChildren(u),i("design:type",o.QueryList)],t.prototype,"tabList",void 0),n([o.Input(),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"activeIndex",null),n([o.Component({selector:"p-accordion",template:'\n        <div [ngClass]="\'ui-accordion ui-widget ui-helper-reset\'" [ngStyle]="style" [class]="styleClass" role="tablist">\n            <ng-content></ng-content>\n        </div>\n    '}),i("design:paramtypes",[o.ElementRef,o.ChangeDetectorRef])],t)}();e.Accordion=p;var h=function(){function t(){}return n([o.NgModule({imports:[l.CommonModule],exports:[p,u,d.SharedModule],declarations:[p,u]})],t)}();e.AccordionModule=h},JDd4:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r("2m6e"))},JHRd:function(t,e,r){var n=r("Kz5y").Uint8Array;t.exports=n},JHgL:function(t,e,r){var n=r("QkVE");t.exports=function(t){return n(this,t).get(t)}},JSQU:function(t,e,r){var n=r("YESw");t.exports=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},JTzB:function(t,e,r){var n=r("NykK"),i=r("ExA7");t.exports=function(t){return i(t)&&"[object Arguments]"==n(t)}},KMkd:function(t,e){t.exports=function(){this.__data__=[],this.size=0}},KfNM:function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},Kz5y:function(t,e,r){var n=r("WFqU"),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();t.exports=a},L8xA:function(t,e){t.exports=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}},LT4R:function(t,e,r){"use strict";r.r(e),e.default='<div class="fixed-table-container-inner table-responsive cat4-table" style="height:300px;">\r\n  <div style="width: 100%; z-index: 1;" *ngIf="!isEdit">\r\n    <span class="cat-heading cat4">Add {{ isWorkOrder ? moduleName : \' Tool\'\r\n      }}<i (click)="addRow()" class="fa fa-plus"></i></span>\r\n  </div>\r\n  <form #toolsCreateForm="ngForm">\r\n    <table class="table table-bordered table-fixed workflow-table-equip">\r\n      <tr>\r\n        <th><label>Tool Name</label></th>\r\n        <th> <label for="">{{moduleName}} ID</label></th>\r\n        <th><label>{{moduleName}} Description</label></th>\r\n        <th><label>Tool Class</label></th>\r\n        <th><label>Qty<span class="clr-red">*</span></label></th>\r\n        <th><label>Actions </label></th>\r\n      </tr>\r\n      <tr *ngFor="let eqp of workFlow.equipments; let i = index">\r\n        <td>\r\n          <p-autoComplete (onSelect)="onPartSelect($event, eqp)" [suggestions]="partCollection"\r\n            (completeMethod)="filterpartItems($event)" [size]="30" [(ngModel)]="eqp.partNumber" [minLength]="1"\r\n            [dropdown]="true" class="workflow-measurement-select" [forceSelection]="true"\r\n            [ngModelOptions]="{standalone: true}">\r\n            <ng-template let-assetId pTemplate="asset">\r\n              <div class="ui-helper-clearfix">{{ assetId  }}</div>\r\n            </ng-template>\r\n          </p-autoComplete>\r\n        </td>\r\n        <td>\r\n          {{ eqp.assetName }}\r\n        </td>\r\n        <td>\r\n          {{ eqp.assetDescription }}\r\n        </td>\r\n        <td>\r\n          {{ eqp.assetTypeName }}\r\n        </td>\r\n        <td class="text-center">\r\n          <input type="text" class="form-control text-right" maxlength="10" pInputText pKeyFilter="pnum"\r\n            value="{{ eqp.quantity }}" [(ngModel)]="eqp.quantity" [ngModelOptions]="{standalone: true}" required />\r\n        </td>\r\n        <td>\r\n          <button class="btn btn-danger nobg" (click)="deleteRow(i)">\r\n            <i class="fa fa-trash"></i>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </form>\r\n  <div *ngIf="isWorkOrder && !isEdit" style="float:right">\r\n    <button *ngIf="isWorkOrder" type="button" class="btn btn-primary btn-primary" data-dismiss="modal"\r\n      (click)="saveEquipmentWorkOrder()" style="padding: 6px 12px !important; margin-top: 10px;"\r\n      [disabled]="!toolsCreateForm.valid|| checkQuantityAvailability()">\r\n      Save\r\n    </button>\r\n    <button type="button" class="btn btn-danger" data-dismiss="modal"\r\n      style="padding: 6px 12px !important;margin-top: 10px;">\r\n      Close\r\n    </button>\r\n  </div>\r\n  <div *ngIf="isWorkOrder && isEdit" style="float:right">\r\n    <button *ngIf="isWorkOrder" class="btn btn-primary btn-primary" (click)="updateEquipmentWorkOrder()"\r\n      style="padding: 6px 12px !important; margin-top: 10px;"\r\n      [disabled]="!toolsCreateForm.valid || checkQuantityAvailability()">\r\n      Update\r\n    </button>\r\n    <button type="button" class="btn btn-danger" data-dismiss="modal"\r\n      style="padding: 6px 12px !important;margin-top: 10px;">\r\n      Close\r\n    </button>\r\n  </div>\r\n</div>\r\n\r\n<div class="preloader" *ngIf="isSpinnerVisible">\r\n  <div class="loading">\r\n    <div class="lds-roller">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n</div>'},LXxW:function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}},LcsW:function(t,e,r){var n=r("kekF")(Object.getPrototypeOf,Object);t.exports=n},MMmD:function(t,e,r){var n=r("lSCD"),i=r("shjB");t.exports=function(t){return null!=t&&i(t.length)&&!n(t)}},MrPd:function(t,e,r){var n=r("hypo"),i=r("ljhN"),a=Object.prototype.hasOwnProperty;t.exports=function(t,e,r){var o=t[e];a.call(t,e)&&i(o,r)&&(void 0!==r||e in t)||n(t,e,r)}},MvSz:function(t,e,r){var n=r("LXxW"),i=r("0ycA"),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(t){return null==t?[]:(t=Object(t),n(o(t),(function(e){return a.call(t,e)})))}:i;t.exports=s},NKxu:function(t,e,r){var n=r("lSCD"),i=r("E2jh"),a=r("GoyQ"),o=r("3Fdi"),s=/^\[object .+?Constructor\]$/,l=Function.prototype,d=Object.prototype,c=l.toString,u=d.hasOwnProperty,p=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||i(t))&&(n(t)?p:s).test(o(t))}},Npjl:function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},NykK:function(t,e,r){var n=r("nmnc"),i=r("AP2z"),a=r("KfNM"),o=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):a(t)}},O0oS:function(t,e,r){var n=r("Cwc5"),i=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=i},OBhP:function(t,e,r){var n=r("fmRc"),i=r("gFfm"),a=r("MrPd"),o=r("WwFo"),s=r("Dw+G"),l=r("5Tg0"),d=r("Q1l4"),c=r("VOtZ"),u=r("EEGq"),p=r("qZTm"),h=r("G6z8"),m=r("QqLw"),f=r("yHx3"),b=r("wrZu"),v=r("+iFO"),g=r("Z0cm"),w=r("DSRE"),k=r("zEVN"),y=r("GoyQ"),x=r("1+5i"),I=r("7GkX"),F=r("mTTR"),C={};C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1,t.exports=function t(e,r,M,S,D,O){var P,L=1&r,E=2&r,W=4&r;if(M&&(P=D?M(e,S,D,O):M(e)),void 0!==P)return P;if(!y(e))return e;var N=g(e);if(N){if(P=f(e),!L)return d(e,P)}else{var A=m(e),T="[object Function]"==A||"[object GeneratorFunction]"==A;if(w(e))return l(e,L);if("[object Object]"==A||"[object Arguments]"==A||T&&!D){if(P=E||T?{}:v(e),!L)return E?u(e,s(P,e)):c(e,o(P,e))}else{if(!C[A])return D?e:{};P=b(e,A,L)}}O||(O=new n);var R=O.get(e);if(R)return R;O.set(e,P),x(e)?e.forEach((function(n){P.add(t(n,r,M,n,e,O))})):k(e)&&e.forEach((function(n,i){P.set(i,t(n,r,M,i,e,O))}));var j=N?void 0:(W?E?h:p:E?F:I)(e);return i(j||e,(function(n,i){j&&(n=e[i=n]),a(P,i,t(n,r,M,i,e,O))})),P}},OY7t:function(t,e,r){"use strict";r.r(e),e.default=""},"Of+w":function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"WeakMap");t.exports=n},Q1l4:function(t,e){t.exports=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}},QcOe:function(t,e,r){var n=r("GoyQ"),i=r("6sVZ"),a=r("7Ix3"),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!n(t))return a(t);var e=i(t),r=[];for(var s in t)("constructor"!=s||!e&&o.call(t,s))&&r.push(s);return r}},QkVE:function(t,e,r){var n=r("EpBk");t.exports=function(t,e){var r=t.__data__;return n(e)?r["string"==typeof e?"string":"hash"]:r.map}},QqLw:function(t,e,r){var n=r("tadb"),i=r("ebwN"),a=r("HOxn"),o=r("yGk4"),s=r("Of+w"),l=r("NykK"),d=r("3Fdi"),c=d(n),u=d(i),p=d(a),h=d(o),m=d(s),f=l;(n&&"[object DataView]"!=f(new n(new ArrayBuffer(1)))||i&&"[object Map]"!=f(new i)||a&&"[object Promise]"!=f(a.resolve())||o&&"[object Set]"!=f(new o)||s&&"[object WeakMap]"!=f(new s))&&(f=function(t){var e=l(t),r="[object Object]"==e?t.constructor:void 0,n=r?d(r):"";if(n)switch(n){case c:return"[object DataView]";case u:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case m:return"[object WeakMap]"}return e}),t.exports=f},SfRM:function(t,e,r){var n=r("YESw");t.exports=function(){this.__data__=n?n(null):{},this.size=0}},Sn08:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,r,o):i(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=r("8Y7J"),o=r("SVse"),s=function(){function t(t){this.el=t}return t.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},n([a.Input(),i("design:type",Object)],t.prototype,"style",void 0),n([a.Input(),i("design:type",String)],t.prototype,"styleClass",void 0),n([a.Component({selector:"p-toolbar",template:'\n        <div [ngClass]="\'ui-toolbar ui-widget ui-widget-header ui-corner-all ui-helper-clearfix\'" [ngStyle]="style" [class]="styleClass">\n            <ng-content></ng-content>\n        </div>\n    '}),i("design:paramtypes",[a.ElementRef])],t)}();e.Toolbar=s;var l=function(){function t(){}return n([a.NgModule({imports:[o.CommonModule],exports:[s],declarations:[s]})],t)}();e.ToolbarModule=l},T83f:function(t,e,r){"use strict";r.r(e),e.default='<div class="crop"  (click)=\'onClick()\' [style.width.px]=\'starWidth\' [title]=\'rating\'>\r\n<div style="width:75px">\r\n<span class="fa fa-star"></span>\r\n<span class="fa fa-star"></span>\r\n<span class="fa fa-star"></span>\r\n<span class="fa fa-star"></span>\r\n<span class="fa fa-star"></span>\r\n</div>\r\n</div>'},"UNi/":function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},V6Ve:function(t,e,r){var n=r("kekF")(Object.keys,Object);t.exports=n},VOtZ:function(t,e,r){var n=r("juv8"),i=r("MvSz");t.exports=function(t,e){return n(t,i(t),e)}},VaNO:function(t,e){t.exports=function(t){return this.__data__.has(t)}},WFqU:function(t,e){var r="object"==typeof global&&global&&global.Object===Object&&global;t.exports=r},WwFo:function(t,e,r){var n=r("juv8"),i=r("7GkX");t.exports=function(t,e){return t&&n(e,i(e),t)}},XYm9:function(t,e,r){var n=r("+K+b");t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}},Xi7e:function(t,e,r){var n=r("KMkd"),i=r("adU4"),a=r("tMB7"),o=r("+6XX"),s=r("Z8oC");function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},YESw:function(t,e,r){var n=r("Cwc5")(Object,"create");t.exports=n},Z0cm:function(t,e){var r=Array.isArray;t.exports=r},Z8oC:function(t,e,r){var n=r("y1pI");t.exports=function(t,e){var r=this.__data__,i=n(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}},Zz99:function(t,e,r){"use strict";r.r(e),e.default='/* select {\r\n    background: url("../assets/images/ddrp-arrow.png") 98% center no-repeat;\r\n} */\r\n/*.workflow-table-charges .charge-tr td {\r\n    padding: 4px;\r\n}*/\r\n.workflow-table-charges tr th:first-child {\r\n    padding: 0 10px !important;\r\n}\r\n.grd-width{\r\n    width: 1150px;\r\n}\r\n.grd-width-quote{\r\n    width: 1150px;\r\n}\r\n@media only screen and (min-width: 1370px) {\r\n    .table-responsive {\r\n        overflow-x: hidden;\r\n    }\r\n}\r\n'},aGFQ:function(t,e,r){"use strict";r.r(e),e.default="/*.workflow-table-direc tr td {\r\n    padding: 4px;\r\n}*/\r\n.workflow-table-direc tr th:first-child {\r\n    padding: 0 10px !important;\r\n}"},adU4:function(t,e,r){var n=r("y1pI"),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,r=n(e,t);return!(r<0||(r==e.length-1?e.pop():i.call(e,r,1),--this.size,0))}},b2z7:function(t,e){var r=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}},b80T:function(t,e,r){var n=r("UNi/"),i=r("03A+"),a=r("Z0cm"),o=r("DSRE"),s=r("wJg7"),l=r("c6wG"),d=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=a(t),c=!r&&i(t),u=!r&&!c&&o(t),p=!r&&!c&&!u&&l(t),h=r||c||u||p,m=h?n(t.length,String):[],f=m.length;for(var b in t)!e&&!d.call(t,b)||h&&("length"==b||u&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||s(b,f))||m.push(b);return m}},bELQ:function(t,e,r){"use strict";r.r(e),e.default='/* select {\r\n    background: url("../assets/images/ddrp-arrow.png") 98% center no-repeat;\r\n} */\r\n.workflow-table-exclusion tr th:first-child {\r\n    padding: 0 10px !important;\r\n}\r\n.cat-heading {\r\n    position: absolute;\r\n    width: 100%;\r\n}\r\n.workflow-table-exclusion {\r\n    margin-top: 30px !important;\r\n}\r\n.ci_cls{\r\n    margin-top: 6px;\r\n}'},c6wG:function(t,e,r){var n=r("dD9F"),i=r("sEf8"),a=r("mdPL"),o=a&&a.isTypedArray,s=o?i(o):n;t.exports=s},cLsG:function(t,e,r){"use strict";r.r(e),e.default='<p-breadcrumb [model]="breadcrumbs"></p-breadcrumb>\r\n<div class="x_content">\r\n    <div class="card" *ngIf="!isQuote">\r\n        <div class="card-header">\r\n            <div class="pull-left">\r\n                <h4 class="po-head m-0">{{typeOfForm}} Workflow</h4>\r\n            </div>\r\n            <button class="btn btn-primary" (click)="toggle_wf_header=!toggle_wf_header" style="margin-left: 20px;">\r\n                {{toggle_wf_header ? \'Collapse\' : \'Expand\'}}\r\n            </button>\r\n            <button type="button" style="width: 200px;" class="btn btn-primary addpn-btn pull-right"\r\n                [routerLink]="[\'/workflowmodule/workflowpages/app-workflow-list\']">\r\n                Workflow List\r\n            </button>\r\n        </div>\r\n        <div class="card-body">\r\n            <div *ngIf="toggle_wf_header">\r\n                <div class="form-row">\r\n                    <div class="col-md-6 wf-h-col">\r\n                        <div class="form-row">\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="workflowid">Workflow ID <span class="clr-red">*</span></label>\r\n                                    <input type="text" class="form-control" id="workflowid"\r\n                                        value="{{ sourceWorkFlow.workflowId != undefined ? sourceWorkFlow.workOrderNumber : \'Creating\' }}"\r\n                                        [disabled]="true">\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="Part Number">\r\n                                        PN <span class="clr-red">*</span>\r\n                                    </label>\r\n                                    <p class="c-workflow-select">\r\n                                        <p-autoComplete appendTo="body" [(ngModel)]="sourceWorkFlow.part"\r\n                                            [suggestions]="partCollection" (completeMethod)="filterpartItems($event)"\r\n                                            [size]="32" [minLength]="1" [dropdown]="true" class="wf-header-select"\r\n                                            #partNum="ngModel" errorMessage="Records not found" field="partName"\r\n                                            (onSelect)="onPartSelect($event)" [forceSelection]="true" title="PN"\r\n                                            required>\r\n                                        </p-autoComplete>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-row">\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="description">Workflow Description</label>\r\n                                    <input type="text" class="form-control" id="description"\r\n                                        [(ngModel)]="sourceWorkFlow.workflowDescription" (change)="checkEnableUpdate()">\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="PN Description">PN Description </label>\r\n                                    <input type="text" class="form-control" id="pnDescription"\r\n                                        [(ngModel)]="sourceWorkFlow.partNumberDescription" [disabled]="true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-row">\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="version">Version <span class="clr-red">*</span></label>\r\n                                    <input type="text" class="form-control" id="version" required\r\n                                        [(ngModel)]="sourceWorkFlow.version" [disabled]="true" value="{{\'V-1\'}}">\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="changepn">Changed PN</label>\r\n                                    <p class="c-workflow-select">\r\n                                        <p-autoComplete appendTo="body" [(ngModel)]="sourceWorkFlow.changedPart"\r\n                                            [suggestions]="changedPartCollection"\r\n                                            (completeMethod)="filterChangedPartItems($event)" [size]="32"\r\n                                            [minLength]="1" [dropdown]="true" class="wf-header-select"\r\n                                            #changedPart="ngModel" errorMessage="Records not found" field="partName"\r\n                                            (onSelect)="onChangedPartSelect($event)" [forceSelection]="true" title="PN"\r\n                                            required>\r\n                                        </p-autoComplete>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-row">\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="createdate">Create Date <span class="clr-red">*</span></label>\r\n                                    <p-calendar class="workflow-clder" [showIcon]="true" [yearNavigator]="true"\r\n                                        [monthNavigator]="true" yearRange="1900:2100"\r\n                                        [ngModelOptions]="{standalone: true}"\r\n                                        [(ngModel)]="sourceWorkFlow.workflowCreateDate"\r\n                                        (ngModelChange)="checkEnableUpdate()" required #cDate="ngModel">\r\n                                    </p-calendar>\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="work scope">Work Scope <span class="clr-red">*</span></label>\r\n                                    <select [(ngModel)]="sourceWorkFlow.workScopeId" class="form-control"\r\n                                        (change)="checkEnableUpdate()" required>\r\n                                        <option value="0" selected>--Select--</option>\r\n                                        <option *ngFor="let workScope of worksScopeCollection"\r\n                                            [ngValue]="workScope.workScopeId"> {{workScope.description}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-row">\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="expdate">Expiration Date</label>\r\n                                    <p-calendar class="workflow-clder" [minDate]="sourceWorkFlow.workflowCreateDate"\r\n                                        [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"\r\n                                        [showIcon]="true" [ngModelOptions]="{standalone: true}"\r\n                                        [(ngModel)]="sourceWorkFlow.workflowExpirationDate"\r\n                                        (ngModelChange)="checkEnableUpdate()" [disabled]="!cDate.valid">\r\n                                    </p-calendar>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="ItemGroup">Item Group </label>\r\n                                    <input type="text" class="form-control" id="itemGroup"\r\n                                        [(ngModel)]="sourceWorkFlow.itemGroup" [disabled]="true">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-row">\r\n                        </div>\r\n                        <div class="form-row">\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="currency">Currency <span class="clr-red">*</span></label>\r\n                                    <select [(ngModel)]="sourceWorkFlow.currencyId" (change)="checkEnableUpdate()"\r\n                                        required>\r\n                                        <option value="0" selected>--Select--</option>\r\n                                        <option *ngFor="let currencyName of allCurrencyData"\r\n                                            [ngValue]="currencyName.currencyId"> {{currencyName.code}}</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-6">\r\n                                <div class="form-group">\r\n                                    <label for="Customer Name">Customer Name\r\n                                    </label>\r\n                                    <p class="c-workflow-select">\r\n                                        <p-autoComplete appendTo="body" [(ngModel)]="sourceWorkFlow.customerName"\r\n                                            [suggestions]="customerNames" (completeMethod)="filterNames($event)"\r\n                                            [size]="32" [minLength]="1" [dropdown]="true" class="wf-header-select"\r\n                                            #partNum="ngModel" errorMessage="Records not found" field="customerName"\r\n                                            (onSelect)="onCustomerNameselected($event)" [forceSelection]="true"\r\n                                            title="customerName" required>\r\n                                        </p-autoComplete>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-6">\r\n                        <div class="card">\r\n                            <div class="card-header">\r\n                                <div class="form-row">\r\n                                    <div class="col-md-4">\r\n                                        <h5>BER Determination</h5>\r\n                                    </div>\r\n                                    <div class="col-md-8" style="padding-right: 20px;">\r\n                                        <h5 class="float-right"> BER Thresold :\r\n                                            <span\r\n                                                style="color: red  ;">{{sourceWorkFlow.berThresholdAmount ? sourceWorkFlow.berThresholdAmount : \'0.00\'}}</span>\r\n                                        </h5>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="card-body" style="padding: 10px 3px;">\r\n                                <div class="row">\r\n                                    <div class="col-md-12">\r\n                                        <div class="col">\r\n                                            <div class="checkbox-cstm">\r\n                                                <label>\r\n                                                    <input type="checkbox" [checked]="sourceWorkFlow.isFixedAmount"\r\n                                                        name="ber-type" class="trigger2" data-rel="ber-fixed"\r\n                                                        (click)="isFixedcheck(\'fixed\');isFixedUnchecked($event);berDetermination();"\r\n                                                        value="1">\r\n                                                    <span class="cr"><i class="cr-icon pi pi-check"></i></span>\r\n                                                    Fixed Amount\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-12">\r\n                                        <div [hidden]="!isFixed" style="padding-left: 36px;margin-top: 8px;">\r\n                                            <div class="col-sm-4">\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <label class="w80">Amount: </label>\r\n                                                <input class="w70 amount form-control text-right" type="text" name="fixedAmount" \r\n                                                    [(ngModel)]="sourceWorkFlow.fixedAmount" pInputText pKeyFilter="money" [ngModelOptions]="{updateOn:\'blur\'}"\r\n                                                    matTooltip="Fixed Amount" matTooltipPosition="above" (change)="berDetermination()">\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="row" style="margin-top: 10px;">\r\n                                    <div class="col-md-12">\r\n                                        <div class="col">\r\n                                            <div class="checkbox-cstm">\r\n                                                <label style="margin-top:5px;">\r\n                                                    <input type="checkbox" [checked]="sourceWorkFlow.isPercentageOfNew"\r\n                                                        name="ber-type" class="trigger2" data-rel="ber-new"\r\n                                                        (click)="isFixedcheck(\'percentage\');isPercentageUnchecked($event); berDetermination();"\r\n                                                        value="2">\r\n                                                    <span class="cr"><i class="cr-icon pi pi-check"></i></span>\r\n                                                    % of Cost of New\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-12">\r\n                                        <div [hidden]="!ispercent" style="padding-left: 36px;margin-top: 8px;">\r\n                                            <div class="col-sm-4">\r\n                                                <label class="w80">Cost of New:</label>\r\n                                                <input type="text" [(ngModel)]="sourceWorkFlow.costOfNew"\r\n                                                    class="form-control w70 text-right" id="" name="" pInputText pKeyFilter="money" \r\n                                                    (change)="onPercentOfNew(sourceWorkFlow.costOfNew,sourceWorkFlow.percentageOfNew)">\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <label class="w70">Percent:</label>\r\n                                                <select [(ngModel)]="sourceWorkFlow.percentageOfNew"\r\n                                                    class="form-control w70"\r\n                                                    (change)="onPercentOfNew(sourceWorkFlow.costOfNew,sourceWorkFlow.percentageOfNew);">\r\n                                                    <option value="-1">--Select--</option>\r\n                                                    <option *ngFor="let percent of totalPercent"\r\n                                                        [ngValue]="percent.value">\r\n                                                        {{percent.label}}%</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <label class="w80">Amount: </label>\r\n                                                <input type="text" class="form-control w70 text-right" pInputText pKeyFilter="money" \r\n                                                    value="{{sourceWorkFlow.percentOfNew}}" disabled />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="row" style="margin-top: 10px;">\r\n                                    <div class="col-md-4">\r\n                                        <div class="col">\r\n                                            <div class="checkbox-cstm">\r\n                                                <label style="margin-top:5px;">\r\n                                                    <input type="checkbox" \r\n                                                        [checked]="sourceWorkFlow.isPercentageOfReplacement"\r\n                                                        name="ber-type" class="trigger2" data-rel="ber-replace"\r\n                                                        (click)="isFixedcheck(\'percentreplace\');isPercentreplcaeUnchecked($event); berDetermination();"\r\n                                                        value="3">\r\n                                                    <span class="cr"><i class="cr-icon pi pi-check"></i></span>\r\n                                                    % of Replacement Cost\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="col-md-12">\r\n                                        <div [hidden]="!percentreplcae" style="padding-left: 36px;margin-top: 8px;">\r\n                                            <div class="col-sm-4">\r\n                                                <div>\r\n                                                    <label class="w80">Cost of Replace:</label>\r\n                                                    <input [(ngModel)]="sourceWorkFlow.costOfReplacement" pInputText pKeyFilter="money" \r\n                                                        class="form-control w70 amount text-right" type="text"\r\n                                                        (change)="onPercentOfReplcaement(sourceWorkFlow.costOfReplacement,sourceWorkFlow.percentageOfReplacement)">\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <div style="float:left;">\r\n                                                    <label class="w70">Percent:</label>\r\n                                                </div>\r\n                                                <div style="float:left;">\r\n                                                    <select [(ngModel)]="sourceWorkFlow.percentageOfReplacement"\r\n                                                        class="form-control w70"\r\n                                                        (change)="onPercentOfReplcaement(sourceWorkFlow.costOfReplacement,sourceWorkFlow.percentageOfReplacement); ">\r\n                                                        <option value="-1">--Select--</option>\r\n                                                        <option *ngFor="let percent of totalPercent"\r\n                                                            [ngValue]="percent.value">{{percent.label}}%\r\n                                                        </option>\r\n                                                    </select>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="col-sm-4">\r\n                                                <div style="float:left;">\r\n                                                    <label class="w80">Amount:</label>\r\n                                                    <input type="text" class="form-control w70 text-right"\r\n                                                        value="{{sourceWorkFlow.percentOfReplacement}}" disabled />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div style="margin-top:8px;">\r\n                            <div class="col-md-6">\r\n                                <div class="form-group memo-popup-cstm">\r\n                                    <label>\r\n                                        Notes<i class="fa fa-pencil" data-toggle="modal" data-target="#add-description"\r\n                                            matTooltipPosition="above" matTooltip="Notes"\r\n                                            (click)="onAddDescription(\'notes\')"></i>\r\n                                    </label>\r\n                                    <span>\r\n                                        <div class="form-group memo-popup-cstm mat_emo">\r\n                                            <div [innerHTML]="sourceWorkFlow.memo"\r\n                                                [matTooltip]="parsedText(sourceWorkFlow.memo)" class="form-control"\r\n                                                style="height: 100px !important; width:200% !important"\r\n                                                class="text_editor_box">\r\n                                            </div>\r\n                                        </div>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div *ngIf="toggle_wf_header " style="margin-top: 15px;"></div>\r\n            <h4 class="total-wf-cost">Total Workflow Cost</h4>\r\n            <div class="form-row mar-top-10 total-wf-cost-form">\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <label>Material Cost</label>\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="MaterialCost" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <label>Expertise Cost</label>\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="TotalExpertiseCost" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <label>Charges</label>\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="TotalCharges" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <label>Other</label>\r\n                        <input type="text" class="form-control text-right" (change)="onChangeOtherCost()" pInputText pKeyFilter="money" [(ngModel)]="sourceWorkFlow.otherCost" />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <label>Total</label>\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="Total" value="" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <label>% of BER Threshold</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="form-row mar-top-10 total-wf-cost-form">\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <select [(ngModel)]="sourceWorkFlow.percentageOfMaterial" class="form-control" \r\n                            (change)="onMaterialCostChange(sourceWorkFlow.percentageOfMaterial);">\r\n                            <option value="-1">--Select--</option>\r\n                            <option *ngFor="let percent of totalPercent" [ngValue]="percent.value">\r\n                                {{percent.label}}%</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <select [(ngModel)]="sourceWorkFlow.percentageOfExpertise" class="form-control"\r\n                        (change)="onExpertiseCostChange(sourceWorkFlow.percentageOfExpertise);">\r\n                            <option value="-1">--Select--</option>\r\n                            <option *ngFor="let percent of totalPercent" [ngValue]="percent.value">\r\n                                {{percent.label}}%</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <select [(ngModel)]="sourceWorkFlow.percentageOfCharges" class="form-control"\r\n                        (change)="onChargesChange(sourceWorkFlow.percentageOfCharges);">\r\n                            <option value="-1">--Select--</option>\r\n                            <option *ngFor="let percent of totalPercent" [ngValue]="percent.value">\r\n                                {{percent.label}}%</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <select [(ngModel)]="sourceWorkFlow.percentageOfOthers" class="form-control"\r\n                        (change)="onOtherChange(sourceWorkFlow.percentageOfOthers);">\r\n                            <option value="-1">--Select--</option>\r\n                            <option *ngFor="let percent of totalPercent" [ngValue]="percent.value">\r\n                                {{percent.label}}%</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <select [(ngModel)]="sourceWorkFlow.percentageOfTotal" class="form-control"\r\n                        (change)="onTotalChange(sourceWorkFlow.percentageOfTotal);">\r\n                            <option value="-1">--Select--</option>\r\n                            <option *ngFor="let percent of totalPercent" [ngValue]="percent.value">\r\n                                {{percent.label}}%</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="form-row mar-top-10 total-wf-cost-form">\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="EstMaterialCost" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="EstTotalExpertiseCost"\r\n                            disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="EstTotalCharges" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="EstTotalOthers" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <input type="text" class="form-control text-right" [(ngModel)]="TotalEst" value="" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <input type="number" class="form-control" [(ngModel)]="PercentBERThreshold" value="" disabled />\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-2">\r\n                    <div class="form-group">\r\n                        <button class="btn btn-primary" (click)="calculateTotalWorkFlowCost(true)">Calculate Total\r\n                            Workflow Cost</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="pull-right">\r\n                <div class="form-row pull-right" *ngIf="!isWorkOrder">\r\n                    <div class="form-group col-md-4" style="margin-top: 15px;">\r\n                        <button class="btn btn-primary" style="padding: 6px 12px;" *ngIf="!UpdateMode"\r\n                            (click)="addWorkFlow(true)">Save</button>\r\n                        <button class="btn btn-primary" style="padding: 6px 12px;" *ngIf="UpdateMode"\r\n                            [disabled]="disableUpdateButton"\r\n                            (click)="isHeaderUpdate = true;showVersionUpdate()">Update</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<div>\r\n    <div class="x_content workflow-page">\r\n        <div class="card-layout">\r\n            <div>\r\n                <div class="pheading">\r\n                </div>\r\n\r\n                <div class="cdetails-top" style="display: none;">\r\n                    <span class="cdetails-top-close"><i class="fa fa-times"></i></span>\r\n                    <div class="col-sm-12">\r\n                        <label>Company</label>\r\n                        <span>Silverxis</span>\r\n                    </div>\r\n                    <div class="col-sm-12">\r\n                        <label>BU</label>\r\n                        <span>Adso</span>\r\n                    </div>\r\n                    <div class="col-sm-12">\r\n                        <label>Division</label>\r\n                        <span>Development</span>\r\n                    </div>\r\n                    <div class="col-sm-12">\r\n                        <label>Dept</label>\r\n                        <span>Java</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="clear"></div>\r\n                <br />\r\n                <hr>\r\n                <div class="card">\r\n                    <div class="card-body">\r\n                        <div class="form-group col-sm-6">\r\n                            <div class="col-sm-1" style="margin-right: 85px;">\r\n                                <strong> <label> Tasks </label></strong>\r\n                            </div>\r\n                            <div class="form-row">\r\n                                <div class="col-sm-5">\r\n                                    <div class="inner-addon inline-block display-flex">\r\n                                        <select class="form-control custom-select" [(ngModel)]="currenttaskId"\r\n                                            (change)="onActionChange()">\r\n                                            <option value="0">--Select--</option>\r\n                                            <option *ngFor="let action of actions" value={{action.Id}}>\r\n                                                {{action.Name}}\r\n                                            </option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="form-group col-sm-6" [hidden]="!showActionAttribute">\r\n                            <div class="col-sm-1" style="margin-right: 70px;">\r\n                                <strong><label>Task Attribute</label></strong>\r\n                            </div>\r\n                            <div class="col-sm-5">\r\n                                <div class="inner-addon inline-block display-flex">\r\n                                    <ng-multiselect-dropdown *ngIf="actionAttributes" class="form-control"\r\n                                        [placeholder]="\'--Select--\'" [data]="actionAttributes"\r\n                                        [(ngModel)]="selectedItems" [settings]="dropdownSettings"\r\n                                        (onDeSelect)="onDeSelect($event)" (onSelect)="onItemSelect($event)"\r\n                                        (onDeSelectAll)="onDeSelectAll($event)" (onSelectAll)="onSelectAll($event)">\r\n                                    </ng-multiselect-dropdown>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf="!workFlowList">\r\n                    <p style="min-height: 200px;"></p>\r\n                </div>\r\n                <div class="bhoechie-tab-container clearfix"\r\n                    *ngIf="workFlowList != undefined && workFlowList.length > 0">\r\n                    <div class="bhoechie-tab-menu">\r\n                        <div class="list-group">\r\n                            <a href="javascript:void(0)" class="list-group-item " id=\'tab_{{workFlow.taskId}}\'\r\n                                (click)="SetCurrectTab(workFlow.taskId , i)"\r\n                                *ngFor="let workFlow of workFlowList; let i = index"\r\n                                [class.active]="workFlow.taskId == currenttaskId">\r\n                                {{workFlow.ActionName}}\r\n\r\n                                <i class="fa fa-trash delete-icon" (click)="removeTask(workFlow)"></i>\r\n                            </a>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="bhoechie-tab">\r\n                        \x3c!-- flight section --\x3e\r\n                        <div class="bhoechie-tab-content active">\r\n                            <div class="custom-pill">\r\n                                <ul class="nav nav-pills">\r\n                                    <li *ngFor="let item of workFlow.selectedItems" (click)="setCurrentPanel(item.Name, 0)"\r\n                                        [class.active]="item.Id == currentPanelId">\r\n                                        <a data-toggle="pill" href="#tab{{item.Name}}">{{item.Name}}</a>\r\n                                    </li>\r\n                                </ul>\r\n                                <div class="tab-content" style="position: relative;">\r\n                                    <div id="tab_Publications"\r\n                                        *ngIf="workFlow != undefined && workFlow.publication != undefined"\r\n                                        class="tab-pane fade pan">\r\n                                        <grd-publication [UpdateMode]="UpdateMode" [workFlow]=\'workFlow\'\r\n                                            [itemMasterId]="itemMasterId">\r\n                                        </grd-publication>\r\n                                    </div>\r\n                                    <div id="tab_Charges" *ngIf="workFlow != undefined && workFlow.charges != undefined"\r\n                                        class="tab-pane fade in active pan">\r\n                                        <grd-charges [UpdateMode]="UpdateMode" [workFlow]=\'workFlow\' isWorkFlow="true">\r\n                                        </grd-charges>\r\n                                    </div>\r\n                                    <div id="tab_Directions"\r\n                                        *ngIf="workFlow != undefined && workFlow.directions != undefined"\r\n                                        class="tab-pane pan">\r\n                                        <grd-directions [UpdateMode]="UpdateMode" [workFlow]=\'workFlow\'>\r\n                                        </grd-directions>\r\n                                    </div>\r\n\r\n                                    <div id="tab_Tools"\r\n                                        *ngIf="workFlow != undefined && workFlow.equipments != undefined"\r\n                                        class="tab-pane fade pan">\r\n                                        <grd-equipment [UpdateMode]="UpdateMode" [workFlow]=\'workFlow\'>\r\n                                        </grd-equipment>\r\n                                    </div>\r\n                                    <div id="tab_Exclusions"\r\n                                        *ngIf="workFlow != undefined && workFlow.exclusions != undefined"\r\n                                        class="tab-pane fade pan">\r\n                                        <grd-exclusions [UpdateMode]="UpdateMode" [workFlow]=\'workFlow\'\r\n                                            isWorkFlow="true"></grd-exclusions>\r\n                                    </div>\r\n                                    <div id="tab_Expertise"\r\n                                        *ngIf="workFlow != undefined && workFlow.expertise != undefined "\r\n                                        class="tab-pane fade pan">\r\n                                        <grd-expertise [UpdateMode]="UpdateMode" [workFlow]=\'workFlow\'>\r\n                                        </grd-expertise>\r\n                                    </div>\r\n                                    <div id="tab_Material_List"\r\n                                        *ngIf="workFlow != undefined && workFlow.materialList != undefined"\r\n                                        class="tab-pane fade pan">\r\n                                        <grd-material [UpdateMode]="UpdateMode" [workFlow]=\'workFlow\' isWorkFlow="true">\r\n                                        </grd-material>\r\n                                    </div>\r\n                                    <div id="tab_Measurements"\r\n                                        *ngIf="workFlow != undefined && workFlow.measurements != undefined"\r\n                                        class="tab-pane fade pan">\r\n                                        <grd-measurement [UpdateMode]="UpdateMode" [workFlow]=\'workFlow\'>\r\n                                        </grd-measurement>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngIf="isWorkOrder" class="wowf-save-btn">\r\n                        <div class="text-right">\r\n                            <button class="btn btn-primary" data-target="#saveToWorkFlow" data-toggle="modal"\r\n                                style="padding: 6px 12px !important;">Save To Work Flow</button>\r\n                            <button class="btn btn-primary" data-target="#saveToWorkOrder" data-toggle="modal"\r\n                                style="padding: 6px 12px !important;">Save To Work Order\r\n                                Only</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf="!isWorkOrder">\r\n                    <div class="text-right save-work-btn" *ngIf="isQuote">\r\n                        <button class="btn btn-primary btn-primary" (click)="saveBuildFromScratchData()"\r\n                            style="padding: 6px 12px !important;">Save</button>\r\n                    </div>\r\n                    <div class="text-right save-work-btn"\r\n                        *ngIf="(showMainPage) && (!UpdateMode) && workFlowList.length > 0 && !isQuote">\r\n                        <button class="btn btn-primary btn-primary" (click)="addWorkFlow(false)"\r\n                            style="padding: 6px 12px !important;">Save Work Flow</button>\r\n                    </div>\r\n                    <div class="text-right save-work-btn" *ngIf="(showMainPage) && (UpdateMode) ">\r\n                        <button class="btn btn-primary btn-primary" (click)="isHeaderUpdate = false;showVersionUpdate()"\r\n                            style="padding: 6px 12px !important;">Update Work Flow Details</button> \x3c!-- add-btn --\x3e\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="clear"></div>\r\n            <div id="myModal" class="modal fade custom-popup" role="dialog" data-backdrop="static">\r\n                <div class="modal-dialog">\r\n                    <div class="modal-content">\r\n                        <div class="modal-header">\r\n                            <button type="button" class="close" data-dismiss="modal">\r\n                                <i class="fa fa-close"></i>\r\n                            </button>\r\n                            <h4 class="modal-title">Add Task</h4>\r\n                        </div>\r\n                        <div class="modal-body">\r\n                            <div class=" selection-box ">\r\n                                <div class="row">\r\n                                    <div class="col-lg-6 col-md-2 col-sm-2 col-xs-10">\r\n                                        <label>Action Task Name</label>\r\n                                        <input type="text" class="custom-form-control"\r\n                                            [(ngModel)]="newAction.Description" />\r\n                                    </div>\r\n                                </div>\r\n                                <div class="row">\r\n                                    <div class="col-lg-6 col-md-2 col-sm-2 col-xs-10">\r\n                                        <label>Memo</label>\r\n                                        <input type="text" class="custom-form-control" [(ngModel)]="newAction.Memo" />\r\n                                    </div>\r\n                                </div>\r\n                                <br />\r\n                                <div class="row">\r\n                                    <div class="col-lg-2 col-md-2 col-sm-2 col-xs-10">\r\n                                        <button class="btn btn-success" data-dismiss="modal" (click)="addAction()">\r\n                                            SAVE\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="clear"></div>\r\n        </div>\r\n        <div class="clear"></div>\r\n    </div>\r\n\r\n    <ng-template #deleteConfirm let-c="close" let-d="dismiss" data-backdrop="static">\r\n        <div class="modal-title">\r\n            <h4>Confirm workflow delete</h4>\r\n        </div>\r\n        <div>\r\n            <p> Are you sure you want to delete Worklflow Task?</p>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-success" (click)="removeTask(null)">Yes</button>\r\n            <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>\r\n        </div>\r\n    </ng-template>\r\n\r\n    <div #saveToWorkFlow id="saveToWorkFlow" class="modal fade" role="dialog" data-backdrop="static"\r\n        data-keyboard="false">\r\n        <div class="modal-dialog">\r\n            <div class="modal-content">\r\n                <div class="modal-header">\r\n                    <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n                    <h4 class="modal-title">Are You Sure Want to Save to Workflow</h4>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button type="button" class="btn btn-primary" data-dismiss="modal"\r\n                        (click)="saveWorkFlowWorkOrder(true)">Yes</button>\r\n                    <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div #saveToWorkOrder id="saveToWorkOrder" class="modal fade" role="dialog" data-backdrop="static"\r\n        data-keyboard="false">\r\n        <div class="modal-dialog">\r\n            <div class="modal-content">\r\n                <div class="modal-header">\r\n                    <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n                    <h4 class="modal-title">Are You Sure Want to Save to WorkOrder Only</h4>\r\n                </div>\r\n                <div class="modal-footer">\r\n                    <button type="button" class="btn btn-primary" data-dismiss="modal"\r\n                        (click)="saveWorkFlowWorkOrder(false)">Yes</button>\r\n                    <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div id="quoteVer" class="modal fade" role="dialog" data-backdrop="static">\r\n        <div class="modal-dialog modal-sm" style="text-align: center;">\r\n            \x3c!-- Modal content--\x3e\r\n            <div class="modal-content">\r\n                <div class="modal-header">\r\n                    <h4 class="modal-title">Do you want to increase the Workflow Version?</h4>\r\n                    <button type="button" class="close" data-dismiss="modal">\r\n                        &times;\r\n                    </button>\r\n                </div>\r\n                <div class="modal-body table-responsive">\r\n                    <button class="btn btn-primary btn-primary" data-dismiss="modal"\r\n                        (click)="increaseVerConfirmation(true)" style="padding: 6px 12px !important;">\r\n                        YES\r\n                    </button>\r\n                    <button class="btn btn-primary btn-primary" data-dismiss="modal"\r\n                        style="padding: 6px 12px !important;" (click)="increaseVerConfirmation(false)">\r\n                        NO\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="modal fade" id="add-description" role="dialog" data-backdrop="static" data-keyboard="false">\r\n        <div class="modal-dialog modal-lg" style="max-width: 500px !important;">\r\n            <div class="modal-content">\r\n                <div class="modal-header">\r\n                    <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n                    <h4 class="modal-title">Edit Memo</h4>\r\n                </div>\r\n                <div class="modal-body">\r\n                    <table class="table table-bordered table-fixed workflow-table-material">\r\n                        <thead>\r\n                            <th style="color: #fff;">Memo</th>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>\r\n                                    <p-editor [(ngModel)]="tempMemo" [style]="{\'height\':\'320px\'}" name="tempMemo"\r\n                                        required>\r\n                                    </p-editor>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div style="float:right">\r\n                        <button type="button" class="btn btn-primary" data-dismiss="modal" style="margin-top: 10px;"\r\n                            (click)="onSaveDescription()">\r\n                            Save\r\n                        </button>\r\n                        <button type="button" class="btn btn-danger" style="margin-top: 10px;" data-dismiss="modal">\r\n                            Close\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="preloader" *ngIf="isSpinnerVisible">\r\n        <div class="loading">\r\n            <div class="lds-roller">\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        </div>\r\n    </div>'},ctuS:function(t,e,r){"use strict";r.r(e),e.default='.ui-chkbox-box {\n  margin-right: 10px;\n  background-color: red !important;\n}\n\n.c-wf-bcrumb {\n  background-color: transparent;\n}\n\n.c-wf-bcrumb li {\n  font-family: "Roboto";\n  font-size: medium;\n  font-weight: 900;\n  color: #295d92;\n}\n\n.c-wf-bcrumb .breadcrumb-item.active {\n  color: #6c757d !important;\n}\n\n.wf-popup-form label {\n  width: 100px;\n  text-align: left;\n  margin-top: 1px;\n  font-weight: bold;\n}\n\n.wfl-table-popup-cstm {\n  margin-top: 4px;\n}\n\n.wfl-table-popup-cstm tr th {\n  padding: 8px 4px !important;\n}\n\n.wfl-table-popup-cstm tr td {\n  padding: 5px;\n}\n\n.po-head-wfl {\n  font-weight: bold;\n  font-size: 13px !important;\n  color: #295d92 !important;\n  margin-bottom: 0;\n}\n\n.form-horizontal .form-group {\n  font-size: 10.5px !important;\n}\n\n.p-acc-thright table th {\n  text-align: center;\n}'},dD9F:function(t,e,r){var n=r("NykK"),i=r("shjB"),a=r("ExA7"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(t){return a(t)&&i(t.length)&&!!o[n(t)]}},dTAl:function(t,e,r){var n=r("GoyQ"),i=Object.create,a=function(){function t(){}return function(e){if(!n(e))return{};if(i)return i(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();t.exports=a},e4Nc:function(t,e,r){var n=r("fGT3"),i=r("k+1r"),a=r("JHgL"),o=r("pSRY"),s=r("H8j4");function l(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},eA51:function(t,e,r){"use strict";r.r(e),e.default='.add-icon {\r\n\tbackground: #337ab7;\r\n\theight: 24px;\r\n\tdisplay: inline-block;\r\n\twidth: 25px;\r\n\tposition: absolute;\r\n\tcolor: white;\r\n}\r\n\r\n\r\n\r\n/*--Default CSS--*/\r\n\r\n\r\n\r\n* {\r\n\tbox-sizing: border-box;\r\n}\r\n\r\n\r\n\r\nhtml, body {\r\n\theight: 100%;\r\n}\r\n\r\n\r\n\r\n.expandable{\r\n\tposition: relative;\r\n    top: 2px;\r\n    left: 12px;\r\n}\r\n\r\n\r\n\r\n.clearfix:after {\r\n\tcontent: " ";\r\n\tvisibility: hidden;\r\n\tdisplay: block;\r\n\theight: 0;\r\n\tclear: both;\r\n}\r\n\r\n\r\n\r\n.clearfix:after {\r\n\tcontent: "";\r\n\tdisplay: table;\r\n\tclear: both;\r\n}\r\n\r\n\r\n\r\n.mar-top-10 {\r\n\tmargin-top: 10px;\r\n}\r\n\r\n\r\n\r\na {\r\n\tcolor: #363636\r\n}\r\n\r\n\r\n\r\na:hover, a:focus {\r\n\t\tcolor: #363636\r\n\t}\r\n\r\n\r\n\r\na:focus, button:focus {\r\n\t\toutline: 0 !important;\r\n\t}\r\n\r\n\r\n\r\na:hover, a:focus {\r\n\t\ttext-decoration: none;\r\n\t}\r\n\r\n\r\n\r\np {\r\n\tmargin: 0;\r\n}\r\n\r\n\r\n\r\nul {\r\n\tpadding: 0;\r\n\tmargin: 0;\r\n\tlist-style: none;\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n\r\n\r\n.left {\r\n\tfloat: left;\r\n}\r\n\r\n\r\n\r\n.right {\r\n\tfloat: right;\r\n}\r\n\r\n\r\n\r\n.img-center {\r\n\tdisplay: block;\r\n\tmargin: 0 auto;\r\n}\r\n\r\n\r\n\r\n.green-text {\r\n\tcolor: #3ba800 !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n\r\n\r\n.red-text {\r\n\tcolor: #ff0000 !important;\r\n\tfont-weight: bold;\r\n}\r\n\r\n\r\n\r\n.blue-text {\r\n\tcolor: #244170;\r\n\tfont-weight: bold;\r\n}\r\n\r\n\r\n\r\n.padd-to-10 {\r\n\tpadding-top: 10px !important;\r\n}\r\n\r\n\r\n\r\n.mar-0 {\r\n\tmargin: 0 !important;\r\n}\r\n\r\n\r\n\r\n.padd-0 {\r\n\tpadding: 0 !important;\r\n}\r\n\r\n\r\n\r\n.mar-bot-15 {\r\n\tmargin-bottom: 15px !important;\r\n}\r\n\r\n\r\n\r\nh1, h2, h3, h4, h5, h6 {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\n\r\n\r\n\r\nlabel {\r\n\tfont-family: \'Roboto\';\r\n\tmargin: 0;\r\n\tfont-weight: normal;\r\n\ttext-align: left;\r\n}\r\n\r\n\r\n\r\n.btn.active, .btn:active {\r\n\tbox-shadow: none;\r\n}\r\n\r\n\r\n\r\n.btn.focus, .btn:focus {\r\n\toutline: 0;\r\n\tbox-shadow: none;\r\n}\r\n\r\n\r\n\r\n/*--Default CSS--*/\r\n\r\n\r\n\r\nbody, html {\r\n\tfont-family: \'Roboto\';\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n\tcolor: #7f7f7f\r\n}\r\n\r\n\r\n\r\nbody {\r\n\tposition: relative;\r\n\tbackground-position: center;\r\n\tbackground-repeat: no-repeat;\r\n\theight: 100%;\r\n\tbackground: #e9e9e9;\r\n}\r\n\r\n\r\n\r\n/*--Middle card--*/\r\n\r\n\r\n\r\n.card-layout .inner-item {\r\n\tbackground: #fff;\r\n\theight: 200px;\r\n\theight: 600px;\r\n\tposition: absolute;\r\n\ttop: 10px;\r\n\tleft: 0;\r\n\tright: 0;\r\n\toverflow: auto;\r\n\tmargin: auto;\r\n\twidth: 95%;\r\n\tpadding: 15px;\r\n\t/* background: rgba(255, 255, 255, 0.6); */\r\n\tbox-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n\r\n\r\n/*--Middle card--*/\r\n\r\n\r\n\r\n.selection-box {\r\n\tmargin-bottom: 20px;\r\n\tbackground: #e6e6e6;\r\n\tpadding: 10px;\r\n\tmargin-bottom: 15px;\r\n\tborder: 1px solid #c8c8c8;\r\n}\r\n\r\n\r\n\r\n.selection-box label {\r\n\t\tcolor: #7f7f7f;\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\n\r\n\r\n/*.selection-box .add-btn {\r\n\t\tmargin-top: 25px;\r\n\t}*/\r\n\r\n\r\n\r\n.vertical-tab li {\r\n\tdisplay: block;\r\n\tfloat: none;\r\n}\r\n\r\n\r\n\r\n.vertical-tab .nav-tabs {\r\n\tbackground: #e6e6e6;\r\n\tborder: 0;\r\n}\r\n\r\n\r\n\r\n.vertical-tab .nav-tabs > li > a {\r\n\t\tborder-radius: 0;\r\n\t\tmargin-right: 0px;\r\n\t}\r\n\r\n\r\n\r\n.vertical-tab .nav-tabs > li.active > a,\r\n\t.vertical-tab .nav-tabs > li.active > a:focus,\r\n\t.vertical-tab .nav-tabs > li.active > a:hover {\r\n\t\tbackground-color: #fff;\r\n\t\tborder: 0;\r\n\t}\r\n\r\n\r\n\r\n/*-- bhoechie tab --*/\r\n\r\n\r\n\r\n.bhoechie-tab-container {\r\n\tbackground-color: transparent;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab-menu {\r\n\tpadding-right: 0;\r\n\tpadding-left: 0;\r\n\tpadding-bottom: 0;\r\n\tfloat: left;\r\n\tbackground: #e6e6e6;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab {\r\n\twidth: 85%;\r\n\tfloat: left;\r\n\tbox-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group {\r\n\tmargin-bottom: 0;\r\n\tbackground: #e6e6e6;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group > a {\r\n\t\tmargin-bottom: 0;\r\n\t\tfont-size: 14px;\r\n\t\tbackground: none;\r\n\t\tcolor: #7f7f7f;\r\n\t\tpadding: 15px;\r\n\t}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group > a h4 {\r\n\t\t\tcolor: #7f7f7f;\r\n\t\t\tfont-size: 20px;\r\n\t\t}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group > a.active {\r\n\t\t\tbackground-color: #c5c5c5;\r\n\t\t\tcolor: #363636;\r\n\t\t\tborder-left: 2px solid #363636;\r\n\t\t}\r\n\r\n\r\n\r\n.bhoechie-tab-content {\r\n\tbackground-color: #fcfcfc;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab .bhoechie-tab-content:not(.active) {\r\n\tdisplay: none;\r\n}\r\n\r\n\r\n\r\n.list-group-item {\r\n\tborder: 0;\r\n\tbackground: transparent;\r\n}\r\n\r\n\r\n\r\n.list-group-item:first-child {\r\n\t\tborder-radius: 0;\r\n\t\tpadding: 15px;\r\n\t}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group > a h4 {\r\n\tmargin-bottom: 10px;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group > a.active {\r\n\tposition: relative;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group > a.active:after {\r\n\t\tright: 0;\r\n\t\ttop: 50%;\r\n\t\tborder: solid transparent;\r\n\t\tcontent: " ";\r\n\t\theight: 0;\r\n\t\twidth: 0;\r\n\t\tposition: absolute;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group > a.active:after {\r\n\t\tborder-right-color: #fcfcfc;\r\n\t\tborder-width: 7px;\r\n\t\tmargin-top: -7px;\r\n\t}\r\n\r\n\r\n\r\n/*-- bhoechie tab --*/\r\n\r\n\r\n\r\n.heading {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tfont-size: 22px;\r\n\tfont-family: \'Roboto\';\r\n\tmargin-bottom: 10px;\r\n\tcolor: #363636\r\n}\r\n\r\n\r\n\r\n/*--CUSTOM-PILL--*/\r\n\r\n\r\n\r\n.custom-pill .nav {\r\n\tmargin-bottom: 20px;\r\n}\r\n\r\n\r\n\r\n.custom-pill .nav-pills > li.active > a,\r\n.custom-pill .nav-pills > li.active > a:focus,\r\n.custom-pill .nav-pills > li.active > a:hover {\r\n\tcolor: white;\r\n\tbackground-color: transparent;\r\n\tborder-bottom: 2px solid #c5c5c5 !important;\r\n}\r\n\r\n\r\n\r\n.custom-pill .nav-pills > li > a {\r\n\tcolor: #7f7f7f;\r\n\tpadding: 15px 20px;\r\n\tborder-radius: 0;\r\n}\r\n\r\n\r\n\r\n.custom-pill .nav > li > a:focus,\r\n.custom-pill .nav > li > a:hover {\r\n\ttext-decoration: none;\r\n\tbackground-color: transparent;\r\n}\r\n\r\n\r\n\r\n.custom-pill .nav-pills > li {\r\n\tposition: relative;\r\n}\r\n\r\n\r\n\r\n.custom-pill .nav-pills > li:not(:last-child):before {\r\n\t\tcontent: "";\r\n\t\twidth: 1px;\r\n\t\theight: 20px;\r\n\t\tbackground-color: #7f7f7f;\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tright: 0;\r\n\t\tmargin-top: -10px;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\r\n\r\n/*--CUSTOM-PILL--*/\r\n\r\n\r\n\r\n/*--Table--*/\r\n\r\n\r\n\r\n.custom-table {\r\n\theight: 300px;\r\n\toverflow: auto\r\n}\r\n\r\n\r\n\r\n.custom-table th {\r\n\t\tbackground: #989898;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tvertical-align: middle !important;\r\n\t\tfont-size: 11px;\r\n\t}\r\n\r\n\r\n\r\n.custom-table td {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\r\n\r\n.custom-table td input {\r\n\t\t\tmargin: 0 auto;\r\n\t\t\twidth: 100px;\r\n\t\t\tborder: 1px solid #d8d8d8;\r\n\t\t\tpadding: 4px 12px;\r\n\t\t\theight: auto;\r\n\t\t\tbox-shadow: none;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tfont-size: 11px;\r\n\t\t}\r\n\r\n\r\n\r\n.custom-table td input[type="file"] {\r\n\t\t\t\twidth: 200px;\r\n\t\t\t}\r\n\r\n\r\n\r\n.custom-table td textarea {\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tborder-radius: 0;\r\n\t\t\theight: auto;\r\n\t\t\tfont-size: 11px;\r\n\t\t\tpadding: 4px 12px;\r\n\t\t\twidth: 100px;\r\n\t\t}\r\n\r\n\r\n\r\n.custom-table .custom-select {\r\n\t\tmargin: 0 auto;\r\n\t\twidth: 160px;\r\n\t\tpadding: 3px 17px 3px 3px;\r\n\t\tborder: 1px solid #d8d8d8;\r\n\t\tbackground: #fff url(\'ddrp-arrow.045cce6de7d58c5e07fe.png\') 95% center no-repeat;\r\n\t\tbackground-size: auto;\r\n\t\tfont-size: 11px;\r\n\t\tbackground-size: 8px 5px;\r\n\t\tborder-radius: 0 !important;\r\n\t}\r\n\r\n\r\n\r\n.delete-btn {\r\n\tcolor: red;\r\n\tcursor: pointer;\r\n\tfont-size: 22px;\r\n}\r\n\r\n\r\n\r\n.custom-table td.add-charges {\r\n\ttext-align: left;\r\n\tbackground: #d5d5d5;\r\n\tfont-size: 11px;\r\n\tcolor: #337ab7\r\n}\r\n\r\n\r\n\r\n.custom-table td.add-charges i {\r\n\t\tfont-size: 17px;\r\n\t\tpadding-left: 5px;\r\n\t}\r\n\r\n\r\n\r\n.add-charges * {\r\n\tdisplay: inline-block;\r\n\tvertical-align: middle;\r\n}\r\n\r\n\r\n\r\n.custom-table td.total-cost {\r\n\ttext-align: left;\r\n\tbackground: #d5d5d5;\r\n\tfont-size: 11px;\r\n}\r\n\r\n\r\n\r\n/*--Table--*/\r\n\r\n\r\n\r\n/*--custom-popup--*/\r\n\r\n\r\n\r\n.custom-popup .modal-title {\r\n\tcolor: #337ab7;\r\n\tfont-weight: bold;\r\n}\r\n\r\n\r\n\r\n.custom-popup .add-btn {\r\n\tmargin-top: 33px;\r\n}\r\n\r\n\r\n\r\n.custom-popup .custom-form-control {\r\n\tmargin-top: 10px;\r\n\tbackground: transparent;\r\n\tbox-shadow: none;\r\n\tborder: 0;\r\n\tborder: 1px solid #d8d8d8;\r\n\tpadding: 0 0 6px 0;\r\n\theight: auto;\r\n\tfont-size: 14px;\r\n\twidth: 100%;\r\n}\r\n\r\n\r\n\r\n.custom-popup .close {\r\n\tfont-size: 20px;\r\n\tcolor: #7f7f7f;\r\n\topacity: 1\r\n}\r\n\r\n\r\n\r\n.custom-popup .selection-box {\r\n\tbackground: none;\r\n\tborder: 0;\r\n}\r\n\r\n\r\n\r\n.addpn-btn {\r\n    padding: 5px 10px !important;\r\n    font-size: 13px;\r\n}\r\n\r\n\r\n\r\n/*--custom-popup--*/\r\n\r\n\r\n\r\n/*--Save Workflow Button--*/\r\n\r\n\r\n\r\n.save-work-btn {\r\n\tmargin-top: 15px;\r\n}\r\n\r\n\r\n\r\n/*--Save Workflow Button--*/\r\n\r\n\r\n\r\n/*--check box--*/\r\n\r\n\r\n\r\n/*\r\n[type="checkbox"]:not(:checked),\r\n[type="checkbox"]:checked {\r\n\tposition: absolute;\r\n\tleft: -9999px;\r\n\topacity: 0; \r\n}\r\n\r\ninput[type="checkbox"],\r\ninput[type="radio"] {\r\n\tbox-sizing: border-box;\r\n\tpadding: 0;\r\n}\r\n\r\n[type="checkbox"] + label {\r\n\tposition: relative;\r\n\tcursor: pointer;\r\n\tdisplay: block;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-khtml-user-select: none;\r\n\t-ms-user-select: none;\r\n\tmargin-bottom: 0;\r\n\tpadding: 4px 10px;\r\n\tfont-weight: normal;\r\n\tfont-size: 14px;\r\n}\r\n\r\n.filled-in[type="checkbox"]:not(:checked) + label::before {\r\n\twidth: 0;\r\n\theight: 0;\r\n\tborder: 3px solid transparent;\r\n\tright: 11px;\r\n\ttop: 10px;\r\n\t-webkit-transform: rotateZ(37deg);\r\n\ttransform: rotateZ(37deg);\r\n\t-webkit-transform-origin: 20% 40%;\r\n\ttransform-origin: 100% 100%;\r\n}\r\n\r\n.filled-in[type="checkbox"]:checked + label::before {\r\n\ttop: 6px;\r\n\tright: 9px;\r\n\twidth: 8px;\r\n\theight: 13px;\r\n\tborder-top: 2px solid transparent;\r\n\tborder-left: 2px solid transparent;\r\n\tborder-right: 2px solid #337ab7;\r\n\tborder-bottom: 2px solid #337ab7;\r\n\t-webkit-transform: rotateZ(37deg);\r\n\ttransform: rotateZ(37deg);\r\n\t-webkit-transform-origin: 100% 100%;\r\n\ttransform-origin: 100% 100%;\r\n}\r\n\r\n.filled-in[type="checkbox"] + label::before,\r\n.filled-in[type="checkbox"] + label::after {\r\n\tcontent: \'\';\r\n\tright: 0px;\r\n\tleft: 0;\r\n\tmargin: auto;\r\n\tposition: absolute;\r\n\ttransition: border .25s, background-color .25s, width .20s .1s, height .20s .1s, top .20s .1s, left .20s .1s;\r\n\tz-index: 1;\r\n}\r\n\r\n.filled-in[type="checkbox"]:not(:checked) + label::after {\r\n\theight: 20px;\r\n\twidth: 20px;\r\n\tbackground-color: transparent;\r\n\tborder: 1px solid #5a5a5a; \r\n\tz-index: 0;\r\n}\r\n\r\n.filled-in[type="checkbox"]:checked + label::after { \r\n\twidth: 20px;\r\n\theight: 20px;\r\n\tborder: 2px solid #337ab7;\r\n\tbackground-color: transparent;\r\n\tz-index: 0;\r\n}\r\n\r\n.filled-in[type="checkbox"] + label::after {\r\n\tborder-radius: 2px;\r\n}\r\n\r\n[type="checkbox"] + label::before,\r\n[type="checkbox"]:not(.filled-in) + label::after {\r\n\tcontent: \'\';\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\twidth: 18px;\r\n\theight: 18px;\r\n\tz-index: 0;\r\n\tborder: 2px solid #5a5a5a;\r\n\tborder-radius: 1px;\r\n\tmargin-top: 2px;\r\n\ttransition: .2s;\r\n}*/\r\n\r\n\r\n\r\n/*--check box--*/\r\n\r\n\r\n\r\n/*--CUSTOM-CHECKBOX--*/\r\n\r\n\r\n\r\n/*--CUSTOM-BTN--*/\r\n\r\n\r\n\r\n.add-btn {\r\n\tbackground: #337ab7;\r\n\tfont-size: 14px;\r\n\tpadding: 3px 12px;\r\n\ttext-align: center;\r\n\ttransition: 0.5s;\r\n\tbackground-size: 200% auto;\r\n\tcolor: #FFF;\r\n\tbox-shadow: 0 0 20px #eee;\r\n\tborder-radius: 10px;\r\n\ttransition: all 0.3s cubic-bezier(.25,.8,.25,1);\r\n\tcursor: pointer;\r\n\tdisplay: inline-block;\r\n\tborder-radius: 0;\r\n\tcursor: pointer\r\n}\r\n\r\n\r\n\r\n.add-btn:hover, .add-btn:focus {\r\n\t\tcolor: #FFF;\r\n\t\tbackground-position: right center;\r\n\t\t-webkit-transition: color 0.5s ease;\r\n\t}\r\n\r\n\r\n\r\n/*--CUSTOM-BTN--*/\r\n\r\n\r\n\r\n/*--CUSTOM-SELECT--*/\r\n\r\n\r\n\r\n.custom-select {\r\n\theight: auto;\r\n\t-webkit-appearance: none;\r\n\t-moz-appearance: none;\r\n\t-ms-appearance: none;\r\n\t-o-appearance: none;\r\n\tappearance: none;\r\n\tbox-shadow: none;\r\n\tbackground: url(\'ddrp-arrow.045cce6de7d58c5e07fe.png\') 98% center no-repeat;\r\n\tposition: relative;\r\n\tpadding: 6px 40px 6px 12px;\r\n\tdisplay: block;\r\n\tborder: 1px solid #adadad;\r\n\tfont-size: 14px;\r\n\twidth: 100%;\r\n\tborder-radius: 4px;\r\n}\r\n\r\n\r\n\r\n/*--CUSTOM-SELECT--*/\r\n\r\n\r\n\r\n/*--FOOTER--*/\r\n\r\n\r\n\r\nfooter {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\tleft: 0;\r\n\tbackground-color: #211f20;\r\n\ttext-align: center;\r\n\tpadding: 5px 10px;\r\n\ttext-align: center;\r\n\tcolor: #7f7f7f;\r\n\tfont-size: 8 px;\r\n}\r\n\r\n\r\n\r\n/*--FOOTER--*/\r\n\r\n\r\n\r\n.multiple-custom-select {\r\n\tbackground: url(\'ddrp-arrow.045cce6de7d58c5e07fe.png\') 98% center no-repeat;\r\n\tborder: 0;\r\n\tbox-shadow: none;\r\n\tpadding: 0;\r\n}\r\n\r\n\r\n\r\n.dropdown-down {\r\n\tdisplay: none !important;\r\n}\r\n\r\n\r\n\r\n.custom-disable {\r\n\tbackground: lightgray\r\n}\r\n\r\n\r\n\r\n@media only screen and (min-width:992px) and (max-width:1350px) {\r\n\t.card-layout .inner-item {\r\n\t\theight: 580px;\r\n\t}\r\n}\r\n\r\n\r\n\r\n/* Shabbir */\r\n\r\n\r\n\r\n.bhoechie-tab ul.nav li {\r\n\tdisplay: inline-block;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab ul.nav li:before {\r\n\t\theight: 29px !important;\r\n\t\ttop: 10px !important;\r\n\t}\r\n\r\n\r\n\r\n.bhoechie-tab ul.nav li a {\r\n\t\tpadding: 5px 8px;\r\n\t\tcolor: #111; /*background-color: #fff;*/\r\n\t}\r\n\r\n\r\n\r\n.bhoechie-tab ul.nav li a.active {\r\n\t\t\tcolor: #fff;\r\n\t\t\tbackground-color: #337ab7;\r\n\t\t}\r\n\r\n\r\n\r\n.bhoechie-tab-content {\r\n\tpadding: 3px;\r\n\tmin-height: 250px;\r\n}\r\n\r\n\r\n\r\n/* select {\r\n\tborder-radius: 0 !important;\r\n} */\r\n\r\n\r\n\r\na.fa.fa-plus-circle {\r\n    color: green !important;\r\n}\r\n\r\n\r\n\r\n.btn.add-btn {\r\n\tline-height: 20px;\r\n\theight: 24px;\r\n\twidth: 24px;\r\n\tpadding: 0;\r\n}\r\n\r\n\r\n\r\n.selection-box {\r\n\tmargin-bottom: 0;\r\n}\r\n\r\n\r\n\r\n.selection-box .form-group {\r\n\t\tmargin: 0 !important;\r\n\t}\r\n\r\n\r\n\r\n.bhoechie-tab-container {\r\n\tbackground: #e6e6e6;\r\n\tborder: solid 1px;\r\n\tbackground: #e6e6e6;\r\n\tmargin-top: 14px;\r\n\tpadding: 5px;\r\n\tborder-radius: 5px;\r\n}\r\n\r\n;\r\n\r\n\r\n\r\n.selection-box label {\r\n\ttext-align: left;\r\n}\r\n\r\n\r\n\r\n.btn.add-btn.w50 {\r\n\twidth: 50px;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group-item {\r\n\tpadding: 5px !important;\r\n\tbackground-color: #fff;\r\n\tmargin: 2px 0;\r\n\tcolor: #111 !important;\r\n}\r\n\r\n\r\n\r\n.bhoechie-tab-menu .list-group-item.active {\r\n\t\tbackground-color: #337ab7 !important;\r\n\t\tcolor: #fff !important;\r\n\t}\r\n\r\n\r\n\r\n.multiselect-dropdown .dropdown-btn {\r\n\tpadding: 2px !important;\r\n}\r\n\r\n\r\n\r\n.ui-button {\r\n\tbackground-color: #295d92 !important;\r\n}\r\n\r\n\r\n\r\n.workflowcost {\r\n\twidth: 155%;\r\n}\r\n\r\n\r\n\r\n.ui-calendar.ui-calendar-w-btn .ui-inputtext {\r\n\twidth: 80% !important;\r\n}\r\n\r\n\r\n\r\n.sidenav {\r\n}\r\n\r\n\r\n\r\n.main-content {\r\n}\r\n\r\n\r\n\r\ninput[type=number]::-webkit-inner-spin-button,\r\ninput[type=number]::-webkit-outer-spin-button {\r\n\t-webkit-appearance: none;\r\n\t-moz-appearance: none;\r\n\tappearance: none;\r\n\tmargin: 0;\r\n}\r\n\r\n\r\n\r\ninput[type="number"] {\r\n\tborder-radius: 5px !important;\r\n}\r\n\r\n\r\n\r\n.padding {\r\n\tpadding: 5px\r\n}\r\n\r\n\r\n\r\n.breadcrumb {\r\n\tFONT-SIZE: medium;\r\n\tfont-weight: 900;\r\n\tcolor: #295d92;\r\n}\r\n\r\n\r\n\r\ninput[type="text"], input[type="number"], select {\r\n    height: 24px !important;\r\n    border-radius: 5px !important;\r\n}\r\n\r\n\r\n\r\n/* input.form-control {\r\n\tborder-radius: 5px !important;\r\n} */\r\n\r\n\r\n\r\n.btn-add-success {\r\n\tmargin-left: -11px;\r\n}\r\n\r\n\r\n\r\n.btn-add-success-pro {\r\n\twidth: 24px;\r\n\tpadding: 0px;\r\n}\r\n\r\n\r\n\r\n.add-btn-text {\r\n\theight: 27px;\r\n}\r\n\r\n\r\n\r\n/*.card {\r\n\tborder: solid 1px;\r\n}*/\r\n\r\n\r\n\r\ni.fa.fa-plus-circle.fa-lg {\r\n\tcolor: green !important;\r\n}\r\n\r\n\r\n\r\n/* css for alignment */\r\n\r\n\r\n\r\n.c-workflow label, label {\r\n    width: 150px;\r\n}\r\n\r\n\r\n\r\n.c-workflow-select {\r\n    margin-top: -11px;\r\n    margin-left: -6px;\r\n    margin-right: -6px;\r\n}\r\n\r\n\r\n\r\n/* ./css for alignment */\r\n\r\n\r\n\r\nli.active.ng-star-inserted {\r\n    background-color: #295d92;\r\n}\r\n\r\n\r\n\r\n.delete-icon{\r\n\t\r\n\t\tpadding-right: 9px;\r\n\t\tfloat: right;\r\n\t\tcolor: #dddd;\r\n\t\tpadding-top: 2px;\r\n\t\r\n}\r\n\r\n\r\n\r\n.total-wf-cost {\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    color: #295d92;\r\n}\r\n\r\n\r\n\r\n.c-wf-bcrumb {\r\n    background-color: transparent;\r\n}\r\n\r\n\r\n\r\n.c-wf-bcrumb li {\r\n    font-family: \'Roboto\';\r\n}\r\n\r\n\r\n\r\n.wf-h-col .col-md-6 {\r\n    max-width: 44%;\r\n    margin-right: 15px;\r\n}\r\n\r\n\r\n\r\n.wowf-save-btn {\r\n\tmargin-bottom: 10px;\r\n    clear: both;\r\n    padding-top: 15px;\r\n}\r\n\r\n\r\n\r\n@media (min-width: 1240px) {\r\n    .total-wf-cost-form .col-md-2 {\r\n        max-width: 13.16%;\r\n    }\r\n    .total-wf-cost-btn {\r\n        margin-top: 17px;\r\n    }\r\n}\r\n\r\n\r\n\r\n.text-area-cstm{\r\n\theight: 132px !important;\r\n    width: 529px !important;\r\n}'},ebwN:function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"Map");t.exports=n},ekgI:function(t,e,r){var n=r("YESw"),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:i.call(e,t)}},fGT3:function(t,e,r){var n=r("4kuk"),i=r("Xi7e"),a=r("ebwN");t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||i),string:new n}}},"fR/l":function(t,e,r){var n=r("CH3K"),i=r("Z0cm");t.exports=function(t,e,r){var a=e(t);return i(t)?a:n(a,r(t))}},fmRc:function(t,e,r){var n=r("Xi7e"),i=r("77Zs"),a=r("L8xA"),o=r("gCq4"),s=r("VaNO"),l=r("0Cz8");function d(t){var e=this.__data__=new n(t);this.size=e.size}d.prototype.clear=i,d.prototype.delete=a,d.prototype.get=o,d.prototype.has=s,d.prototype.set=l,t.exports=d},gCq4:function(t,e){t.exports=function(t){return this.__data__.get(t)}},gFfm:function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}},hypo:function(t,e,r){var n=r("O0oS");t.exports=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}},juv8:function(t,e,r){var n=r("MrPd"),i=r("hypo");t.exports=function(t,e,r,a){var o=!r;r||(r={});for(var s=-1,l=e.length;++s<l;){var d=e[s],c=a?a(r[d],t[d],d,r,t):void 0;void 0===c&&(c=t[d]),o?i(r,d,c):n(r,d,c)}return r}},"k+1r":function(t,e,r){var n=r("QkVE");t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},kekF:function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},lSCD:function(t,e,r){var n=r("NykK"),i=r("GoyQ");t.exports=function(t){if(!i(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},ljhN:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},mTTR:function(t,e,r){var n=r("b80T"),i=r("QcOe"),a=r("MMmD");t.exports=function(t){return a(t)?n(t,!0):i(t)}},mdPL:function(t,e,r){(function(t){var n=r("WFqU"),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i&&n.process,s=function(){try{return a&&a.require&&a.require("util").types||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s}).call(this,r("YuTi")(t))},nagN:function(t,e,r){"use strict";r.r(e),e.default='<div class="fixed-table-container-inner table-responsive cat4-table" style="height:380px;">\r\n  <div style="position: absolute; width: 100%; z-index: 1;">\r\n    <span class="cat-heading cat4">Add Directions<i (click)="addRow()" class="fa fa-plus"></i></span>\r\n  </div>\r\n  <table class="table table-bordered table-fixed workflow-table-direc" style="margin-top:31px;">\r\n    <tr>\r\n      <th><label>Action<span class="clr-red">*</span></label></th>\r\n      <th><label>Description </label></th>\r\n      <th><label>Sequence</label></th>\r\n      <th><label>Memo</label></th>\r\n      <th><label>Action</label></th>\r\n    </tr>\r\n    <tr [hidden]="direction.isDelete" *ngFor="let direction of workFlow.directions; let i = index">\r\n      <td>\r\n        <input type="text" value="{{ direction.action }}" [(ngModel)]="direction.action" class="form-control"\r\n          required />\r\n      </td>\r\n      <td>\r\n        <input type="text" pInputText value="{{ direction.description }}" [(ngModel)]="direction.description"\r\n          class="form-control" />\r\n      </td>\r\n      <td class="text-center" style="width: 100px;">\r\n        <input type="text" maxlength="10" pInputText pKeyFilter="pnum"\r\n          (focusout)="checkDuplicateSequence($event, direction)" value="{{ direction.sequence }}" maxlength="5"\r\n          [(ngModel)]="direction.sequence" class="form-control text-right" style="width: 100px;" />\r\n      </td>\r\n      <td style="width: 280px;">\r\n        <div class="form-group notes-popup-cstm mat_emo"\r\n          style="width: 280px;  display: inline-flex;   margin-bottom: 0;">\r\n          <div [innerHTML]="direction.memo" class="text_editor_box" style="width: 280px;"></div>\r\n          <i class=" fa fa-pencil" data-toggle="modal" style="position: relative;top: 6px; color: royalblue !important; margin-left: 5px;"\r\n            data-target="#textarea-popupMemo" matTooltip="Memo" matTooltipPosition="above"\r\n            (click)="onAddTextAreaInfo(direction,i)"></i>\r\n        </div>\r\n      </td>\r\n      <td style="text-align: center;">\r\n        <button class="btn btn-danger nobg" (click)="deleteRow(i)">\r\n          <i class="fa fa-trash"></i>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n</div>\r\n\r\n<div class="modal fade" id="textarea-popupMemo" role="dialog" data-backdrop="static" data-keyboard="false">\r\n  <div class="modal-dialog modal-lg" style="max-width: 400px !important;">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n        <h4 class="modal-title">Edit {{"Memo"}}</h4>\r\n      </div>\r\n      <div class="modal-body">\r\n        <table class="table table-bordered table-fixed workflow-table-material">\r\n          <thead>\r\n            <th style="color: #fff;">{{"Memo"}}</th>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <p-editor [(ngModel)]="textAreaInfo" [style]="{\'height\':\'320px\'}" name="textAreaInfo" required>\r\n                </p-editor>\r\n\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <div style="float:right">\r\n          <button type="button" class="btn btn-primary" data-dismiss="modal"\r\n            style="padding: 6px 12px !important;margin-top: 10px;" (click)="onSaveTextAreaInfo(textAreaInfo)">\r\n            Save\r\n          </button>\r\n          <button type="button" class="btn btn-danger" style="padding: 6px 12px !important;margin-top: 10px;"\r\n            data-dismiss="modal">\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\x3c!-- <div class="preloader" *ngIf="isSpinnerVisible">\r\n  <div class="loading">\r\n    <div class="lds-roller">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n</div> --\x3e'},nmnc:function(t,e,r){var n=r("Kz5y").Symbol;t.exports=n},"oCl/":function(t,e,r){var n=r("CH3K"),i=r("LcsW"),a=r("MvSz"),o=r("0ycA"),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)n(e,a(t)),t=i(t);return e}:o;t.exports=s},oU8O:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r("Sn08"))},"otv/":function(t,e,r){var n=r("nmnc"),i=n?n.prototype:void 0,a=i?i.valueOf:void 0;t.exports=function(t){return a?Object(a.call(t)):{}}},p8IY:function(t,e,r){"use strict";r.r(e),e.default='<div class="fixed-table-container-inner table-responsive cat4-table" style="height:380px;">\r\n    <div style="position: absolute; width: 100%; z-index: 1;">\r\n        <span class="cat-heading cat4">Add Expertise <i (click)="addRow()" class="fa fa-plus"></i></span>\r\n    </div>\r\n    <table class="table table-bordered table-fixed workflow-table-expertise" style="margin-top:31px;">\r\n        <tr>\r\n            <th><label>Expertise Type<span class="clr-red">*</span></label></th>\r\n            <th><label>Estimated Hours </label></th>\r\n            <th><label>Direct Labor Rate</label></th>\r\n            <th><label>Direct Labor Cost</label></th>\r\n            <th><label>OHead Burden(%)</label></th>\r\n            <th><label>OH Cost</label></th>\r\n            <th><label>Direct Labor and OH Cost</label></th>\r\n            <th><label>Action </label></th>\r\n        </tr>\r\n        <tr class="expertise-tr" [hidden]="expert.isDelete" *ngFor="let expert of workFlow.expertise;let i = index">\r\n            <td>\r\n                <select id="ddlExpertiesType" class="form-control wf-pub-id full-width"\r\n                    [(ngModel)]="expert.expertiseTypeId" required>\r\n                    <option value="">--Select--</option>\r\n                    <option *ngFor="let type of expertiseTypes" value="{{type.employeeExpertiseId}}">\r\n                        {{type.description}}\r\n                    </option>\r\n                </select>\r\n            </td>\r\n            <td>\r\n                <input type="text" pInputText pKeyFilter="money" class="form-control text-right"\r\n                    value="{{expert.estimatedHours}}" (change)="calculateLabourCost(expert);calculateOHCost(expert);"\r\n                    [(ngModel)]="expert.estimatedHours">\r\n            </td>\r\n            <td>\r\n                <input type="text" pInputText pKeyFilter="money" class="form-control text-right"\r\n                    value="{{expert.laborDirectRate}}" (change)="calculateLabourCost(expert);calculateOHCost(expert);"\r\n                    [(ngModel)]="expert.laborDirectRate">\r\n            </td>\r\n            <td class="text-right">\r\n                {{expert.directLaborRate}}\r\n            </td>\r\n            <td>\r\n                <input type="text" pInputText pKeyFilter="money" class="form-control text-right"\r\n                    (change)="calculateOHCost(expert)" value="{{expert.overheadBurden}}"\r\n                    [(ngModel)]="expert.overheadBurden" maxlength="3" min="0" max="100"\r\n                    [disabled]="expert.estimatedHours == \'\' && expert.laborDirectRate == \'\' ">\r\n            </td>\r\n            <td>\r\n                <input type="text" pInputText pKeyFilter="money" class="form-control text-right"\r\n                    value="{{expert.overheadCost}}" [(ngModel)]="expert.overheadCost"\r\n                    (change)="calculateOHCostSummation();calculateLabourOHCost(expert)">\r\n            </td>\r\n            <td class="text-right">\r\n                {{expert.laborOverheadCost}}\r\n            </td>\r\n            <td style="text-align: center;">\r\n                <button class="btn btn-danger nobg" (click)="deleteRow(i)">\r\n                    <i class="fa fa-trash"></i>\r\n                </button>\r\n            </td>\r\n        </tr>\r\n        <tr *ngIf="workFlow.expertise.length > 0">\r\n            <td>\r\n                <b>Total </b>\r\n            </td>\r\n            <td class="text-right"><b>{{ workFlow.sumofestimatedhrs }}</b></td>\r\n            <td>&nbsp;</td>\r\n            <td class="text-right"><b>{{ workFlow.sumofLabourDirectCost }}</b></td>\r\n            <td>&nbsp;</td>\r\n            <td class="text-right"><b>{{ workFlow.sumOfOHCost }}</b></td>\r\n            <td class="text-right"><b>{{ workFlow.totalExpertiseCost }}</b></td>\r\n            <td>&nbsp;</td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n\r\n<div class="preloader" *ngIf="isSpinnerVisible">\r\n    <div class="loading">\r\n        <div class="lds-roller">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    </div>\r\n</div>'},pOwL:function(t,e,r){"use strict";r.r(e),e.default='<div class="fixed-table-container-inner table-responsive cat4-table" style="height:380px;">\r\n    <div style="position: absolute; width: 100%; z-index: 1;">\r\n        <span class="cat-heading cat4">Add Measurement<i (click)="addRow()" class="fa fa-plus"></i></span>\r\n    </div>\r\n    <table class="table table-bordered table-fixed workflow-table-measment" style="margin-top: 31px;">\r\n        <tr>\r\n            <th><label>PN<span class="clr-red">*</span></label></th>\r\n            <th><label>PN Description</label></th>\r\n            <th><label>Sequence</label></th>\r\n            <th><label>Stage</label></th>\r\n            <th><label>Min </label></th>\r\n            <th><label>Max </label></th>\r\n            <th><label>Expected</label></th>\r\n            <th><label>Diagram</label></th>\r\n            <th><label>Memo </label></th>\r\n            <th><label>Action </label></th>\r\n        </tr>\r\n        <tr [hidden]="measurement.isDelete" *ngFor="let measurement of workFlow.measurements;let i= index">\r\n            <td>\r\n                <p-autoComplete appendTo="body" [(ngModel)]="measurement.partName" [suggestions]="partCollection"\r\n                    (completeMethod)="filterpartItems($event)" [size]="32" [minLength]="1" [dropdown]="true"\r\n                    class="workflow-measurement-select" #partNum="ngModel" errorMessage="Records not found"\r\n                    field="partNumber" (onSelect)="onPartSelect($event,measurement)" [forceSelection]="true"\r\n                    title="PN" required>\r\n                </p-autoComplete>\r\n            </td> \r\n            <td style="min-width: 140px;">{{measurement.partDescription}}</td>\r\n            <td><input class="form-control text-right" pInputText pKeyFilter="num" type="text" maxlength="5"\r\n                    (focusout)="checkDuplicateSequence($event, measurement);" [(ngModel)]="measurement.sequence"\r\n                    value="{{measurement.sequence}}"></td>\r\n            <td><input class="form-control" type="text" [(ngModel)]="measurement.stage" value="{{measurement.stage}}">\r\n            </td>\r\n            <td><input class="form-control text-right" type="text" pInputText pKeyFilter="num"\r\n                    [(ngModel)]="measurement.min" value="{{measurement.min}}"></td>\r\n            <td><input class="form-control text-right" type="text" pInputText pKeyFilter="num"\r\n                    [(ngModel)]="measurement.max" (input)="validateMaxMin($event,measurement)" value="{{measurement.max}}"></td>\r\n            <td><input class="form-control" type="text" [(ngModel)]="measurement.expected"\r\n                    value="{{measurement.expected}}"></td>\r\n            <td><input class="form-control" type="text" [(ngModel)]="measurement.diagramURL"\r\n                    value="{{measurement.diagramURL}}"></td>\r\n            <td>\r\n                <div class="form-group notes-popup-cstm mat_emo"\r\n                    style="width: 160px;  display: inline-flex;   margin-bottom: 0;">\r\n                    <div [innerHTML]="measurement.memo" class="text_editor_box" style="width: 160px;margin-right: 2px !important;"></div>\r\n                    <i class=" fa fa-pencil" \r\n                        style="position: relative;top: 6px; color: royalblue !important;"\r\n                         matTooltip="Memo" matTooltipPosition="above"\r\n                        (click)="onAddTextAreaInfo(measurement,i)"></i>\r\n                        <div class="modal fade" id="textareapopupMemo" role="dialog" data-backdrop="static" data-keyboard="false">\r\n                            <div class="modal-dialog modal-xs">\r\n                                <div class="modal-content">\r\n                                    <div class="modal-header">\r\n                                        <button type="button" class="close" data-dismiss="modal" style="font-size: 22px !important;">&times;</button>\r\n                                        <h4 class="modal-title">Edit {{"Memo"}}</h4>\r\n                                    </div>\r\n                                    <div class="modal-body">\r\n                                        <table class="table table-bordered table-fixed workflow-table-material">\r\n                                            <thead>\r\n                                                <th style="color: #fff;background: #4298ff !important;">{{"Memo"}}</th>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr>\r\n                                                    <td>\r\n                                                        <p-editor [(ngModel)]="textAreaInfo" [style]="{\'height\':\'320px\'}" name="textAreaInfo"\r\n                                                            required>\r\n                                                        </p-editor>                        \r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                        <div style="float:right">\r\n                                            <button type="button" class="btn btn-primary adj_cor" data-dismiss="modal"\r\n                                               \r\n                                                (click)="onSaveTextAreaInfo(textAreaInfo)">\r\n                                                Save\r\n                                            </button>\r\n                                            <button type="button" class="btn btn-danger adj_cor"\r\n                                                data-dismiss="modal">\r\n                                                Close\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                </div>\r\n            </td>\r\n            <td style="text-align: center;">\r\n                <button class="btn btn-danger nobg"  (click)="openDelete(content,measurement,i)">\r\n                    <i class="fa fa-trash"></i>\r\n                </button>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>\r\n<ng-template #content let-c="close" let-d="dismiss">\r\n    <div class="modal-header">        \r\n        <h4 class="modal-title">Are You Sure Want to Delete?</h4>\r\n        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">\r\n            <span aria-hidden="true">&times;</span>\r\n        </button>      \r\n    </div>\r\n    <div class="modal-body">\r\n        <strong *ngIf="deleteRowRecord && deleteRowRecord.partNumber">\r\n            EPN:\r\n            <span class="new-label" >{{deleteRowRecord.partNumber}}</span>\r\n        </strong>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" (click)="deleteRow()">Yes</button>\r\n        <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>\r\n    </div>\r\n</ng-template>\r\n\r\n<div class="preloader" *ngIf="isSpinnerVisible">\r\n    <div class="loading">\r\n        <div class="lds-roller">\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n            <div></div>\r\n        </div>\r\n    </div>\r\n</div>'},pSRY:function(t,e,r){var n=r("QkVE");t.exports=function(t){return n(this,t).has(t)}},prbL:function(t,e,r){"use strict";r.r(e),e.default="select {\r\n    background: none;\r\n   \r\n}\r\n    select:disabled {\r\n         background-color: none !important;\r\n    }\r\n    /*.workflow-table-equip tr td {\r\n    padding: 4px;\r\n}*/\r\n    .workflow-table-equip tr th:first-child {\r\n    padding: 0 10px !important;\r\n}\r\n    label {\r\n    width: auto;\r\n}\r\n    .workflow-table-equip th {\r\n    width: 120px !important;\r\n}"},pyKh:function(t,e,r){"use strict";r.r(e);var n=r("mrSG"),i=r("8Y7J"),a=r("u9T3"),o=r("s7LF"),s=r("TSSN"),l=r("SVse"),d=r("8YFm"),c=r("MCl+"),u=r("CYTX"),p=r("bv+N"),h=r("Jfay"),m=r("sa3O"),f=r("ByPc"),b=r("NGzr"),v=r("FfGd"),g=r("1zQ3"),w=r("a4ce"),k=r("AkAD"),y=r("I0ai"),x=r("DgWh"),I=r("1bHX"),F=r("8rEH"),C=r("G0yt"),M=r("sYxu"),S=r("lGQG"),D=r("3LUQ"),O=r("iInd"),P=r("kRKm"),L=r("BhKy"),E=r("0zL+"),W=r("OlR4"),N=r("6c3z"),A=r("Ph3x"),T=r("/LxO"),R=r("Skqz"),j=r("TeDh"),_=r("7+Ft"),q=r("de6x"),U=r("wNWc"),V=r("3fSc"),B=r("jasi"),H=r("wzbf"),z=r("Hocb"),G=r("wd/R"),Q=r("EVdn"),$=function(){function t(e,r,n,i,a,o,s,l,d,c,u,p,h,m,f,b,v,g,w,k,y){_classCallCheck(this,t),this.actionService=e,this.router=r,this.route=n,this.datePipe=i,this.authService=a,this.modalService=o,this.alertService=s,this.workFlowtService=l,this.commonService=d,this.customerService=c,this.currencyService=u,this.itemMasterService=p,this.assetService=h,this.vendorservice=m,this.conditionService=f,this.unitofmeasureService=b,this.itemClassificationService=v,this.aircraftManufacturerService=g,this.aircraftmodelService=w,this.dashNumberService=k,this.publicationService=y,this.title="Work Flow",this.toggle_wf_header=!1,this.displayAccord1=!1,this.isSpinnerVisible=!0,this.toggle_detailhistory=!1,this.totalRecords=0,this.totalPages=0,this.pageSize=10,this.pageIndex=0,this.allWorkFlows=[],this.filterText="",this.currentDeletedstatus=!1,this.status="active",this.restorerecord={},this.dateObject={},this.selectedOnly=!1,this.breadcrumbs=[{label:"Work Flow"},{label:"Work Flow List"}],this.gridColumns=[{field:"workOrderNumber",header:"Workflow ID"},{field:"version",header:"Version Number"},{field:"partNumber",header:"PN"},{field:"partDescription",header:"PN Description"},{field:"description",header:"Work Scope"},{field:"name",header:"Customer Name"},{field:"workflowCreateDate",header:"WF Created Date"},{field:"workflowExpirationDate",header:"Expiration Date"},{field:"createdDate",header:"Created Date"},{field:"createdBy",header:"CreatedBy"},{field:"updatedDate",header:"Updated Date"},{field:"updatedBy",header:"UpdatedBy"}],this.workFlowGridSource=new F.a,this.workFlowtService.listCollection=null}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.getWorkFlowActions(),this.LoadParts(),this.selectedGridColumns=this.gridColumns,this.isWorkOrder&&this.workFlowtService.getWorkFlowDataById(this.workFlowId).subscribe((function(e){t.onViewWFDetails(e),t.responseDataForWorkFlow=e}))}},{key:"ngOnChanges",value:function(t){var e=this;t.workFlowId&&this.workFlowtService.getWorkFlowDataById(this.workFlowId).subscribe((function(t){e.onViewWFDetails(t),e.responseDataForWorkFlow=t}))}},{key:"loadData",value:function(t){this.lazyLoadEventData=t;var e=parseInt(t.first)/t.rows;if(this.pageIndex=e,this.pageSize=t.rows,t.first=e,this.lazyLoadEventDataInput=t,""==this.filterText){this.lazyLoadEventDataInput.filters=Object.assign({},this.lazyLoadEventDataInput.filters,{status:this.status,isDeleted:this.currentDeletedstatus});var r=Object.assign({},this.lazyLoadEventDataInput,{filters:Object(z.j)(this.lazyLoadEventDataInput.filters)});this.getList(r)}else this.globalSearch(this.filterText)}},{key:"getList",value:function(t){var e=this;this.isSpinnerVisible=!0,this.workFlowtService.getAllWorkFlowList(t).subscribe((function(t){e.workflowList=t[0].results.map((function(t){return Object.assign({},t,{createdDate:t.createdDate?e.datePipe.transform(t.createdDate,"MM/dd/yyyy hh:mm a"):"",updatedDate:t.updatedDate?e.datePipe.transform(t.updatedDate,"MM/dd/yyyy hh:mm a"):"",workflowCreateDate:t.workflowCreateDate?e.datePipe.transform(t.workflowCreateDate,"MM/dd/yyyy"):"",workflowExpirationDate:t.workflowExpirationDate?e.datePipe.transform(t.workflowExpirationDate,"MM/dd/yyyy"):""})})),e.workFlowGridSource.data=e.workflowList,null!=e.workflowList?(e.workflowList.length>0?(e.totalRecords=t[0].totalRecordsCount,e.totalPages=Math.ceil(e.totalRecords/e.pageSize)):(e.totalRecords=0,e.totalPages=0),e.isSpinnerVisible=!1):(e.totalRecords=0,e.totalPages=0,e.isSpinnerVisible=!1)}),(function(t){return e.onDataLoadFailed(t)}))}},{key:"globalSearch",value:function(t){var e=parseInt(this.lazyLoadEventDataInput.first)/this.lazyLoadEventDataInput.rows;this.pageIndex=e,this.pageSize=this.lazyLoadEventDataInput.rows,this.lazyLoadEventDataInput.first=e,this.lazyLoadEventDataInput.globalFilter=t,this.lazyLoadEventDataInput.filters=Object.assign({},this.lazyLoadEventDataInput.filters,{status:this.status,isDeleted:this.currentDeletedstatus});var r=Object.assign({},this.lazyLoadEventDataInput,{filters:Object(z.j)(this.lazyLoadEventDataInput.filters)});this.getList(r)}},{key:"getListByStatus",value:function(t){this.lazyLoadEventDataInput.first=0,this.status=t,this.lazyLoadEventDataInput.filters=Object.assign({},this.lazyLoadEventDataInput.filters,{status:t,isDeleted:this.currentDeletedstatus});var e=Object.assign({},this.lazyLoadEventDataInput,{filters:Object(z.j)(this.lazyLoadEventDataInput.filters)});this.getList(e)}},{key:"dateFilterForWorkFlowList",value:function(t,e){if(this.dateObject={},t=G(t).format("MM/DD/YYYY"),G(t).format("MM/DD/YY"),""!=t&&G(t,"MM/DD/YYYY",!0).isValid()){"createdDate"==e?this.dateObject={createdDate:t}:"updatedDate"==e?this.dateObject={updatedDate:t}:"workflowCreateDate"==e?this.dateObject={workflowCreateDate:t}:"workflowExpirationDate"==e&&(this.dateObject={workflowExpirationDate:t}),this.lazyLoadEventDataInput.filters=Object.assign({},this.lazyLoadEventDataInput.filters,{status:this.status},this.dateObject);var r=Object.assign({},this.lazyLoadEventDataInput,{filters:Object(z.j)(this.lazyLoadEventDataInput.filters)});this.getList(r)}else{this.lazyLoadEventDataInput.filters=Object.assign({},this.lazyLoadEventDataInput.filters,{status:this.status},this.dateObject),this.lazyLoadEventDataInput.filters&&this.lazyLoadEventDataInput.filters.createdDate&&delete this.lazyLoadEventDataInput.filters.createdDate,this.lazyLoadEventDataInput.filters&&this.lazyLoadEventDataInput.filters.updatedDate&&delete this.lazyLoadEventDataInput.filters.updatedDate,this.lazyLoadEventDataInput.filters&&this.lazyLoadEventDataInput.filters.workflowCreateDate&&delete this.lazyLoadEventDataInput.filters.workflowCreateDate,this.lazyLoadEventDataInput.filters&&this.lazyLoadEventDataInput.filters.workflowExpirationDate&&delete this.lazyLoadEventDataInput.filters.workflowExpirationDate,this.lazyLoadEventDataInput.filters=Object.assign({},this.lazyLoadEventDataInput.filters,{status:this.status},this.dateObject);var n=Object.assign({},this.lazyLoadEventDataInput,{filters:Object(z.j)(this.lazyLoadEventDataInput.filters)});this.getList(n)}}},{key:"getDeleteListByStatus",value:function(t){if(this.lazyLoadEventDataInput.filters.isDeleted=t,this.currentDeletedstatus=t,1==t){var e=Object.assign({},this.lazyLoadEventDataInput,{filters:Object(z.j)(this.lazyLoadEventDataInput.filters)});this.getList(e)}else{var r=Object.assign({},this.lazyLoadEventDataInput,{filters:Object(z.j)(this.lazyLoadEventDataInput.filters)});this.getList(r)}}},{key:"resetGlobalFilter",value:function(){this.filterText=""}},{key:"applyFilter",value:function(t){this.workFlowGridSource.filter=t}},{key:"onDataLoadFailed",value:function(t){this.isSpinnerVisible=!1}},{key:"confirmDelete",value:function(t,e){this.currentWorkflow=e,this.modal=this.modalService.open(t,{size:"sm",backdrop:"static",keyboard:!1})}},{key:"removeWorkFlow",value:function(){var t=this;this.actionService.RemoveWorkFlow(this.currentWorkflow.workflowId).subscribe((function(e){t.alertService.showMessage(t.title,"ACC"+t.currentWorkflow.workflowId+" deleted successfully.",D.d.success),t.getDeleteListByStatus(t.currentDeletedstatus)}),(function(e){var r;r=e.error.constructor==Array?e.error[0].errorMessage:e.error.Message,t.alertService.showMessage(t.title,r,D.d.error)})),this.dismissModel()}},{key:"restore",value:function(t,e){this.restorerecord=e,this.modal=this.modalService.open(t,{size:"sm",backdrop:"static",keyboard:!1})}},{key:"restoreRecord",value:function(){var t=this;this.commonService.updatedeletedrecords("Workflow","WorkflowId",this.restorerecord.workflowId).subscribe((function(e){t.modal.close(),t.getDeleteListByStatus(t.currentDeletedstatus),t.alertService.showMessage("Success","Record was Restored successfully. ",D.d.success)}),(function(e){return t.onDataLoadFailed(e)}))}},{key:"toggleIsActive",value:function(t,e){var r=this;this.actionService.toggleState(t.workflowId).subscribe((function(t){r.getDeleteListByStatus(r.currentDeletedstatus),e.checked?r.alertService.showMessage(r.title,"Records was Activated successfully.",D.d.success):r.alertService.showMessage(r.title,"Records was In-Activated successfully.",D.d.success)}),(function(t){var e;e=t.error.constructor==Array?t.error[0].errorMessage:t.error.Message,r.alertService.showMessage(r.title,e,D.d.error)}))}},{key:"AddPage",value:function(){this.route.navigateByUrl("/workflowmodule/workflowpages/wf-create")}},{key:"pageIndexChange",value:function(t){this.pageSize=t.rows}},{key:"getPageCount",value:function(t,e){return Math.ceil(t/e)}},{key:"openEdit",value:function(t){this.workFlowtService.listCollection=t,this.workFlowtService.enableUpdateMode=!0,this.workFlowtService.currentWorkFlowId=t.workflowId,this.route.navigateByUrl("/workflowmodule/workflowpages/wf-edit/"+this.workFlowtService.currentWorkFlowId)}},{key:"dismissModel",value:function(){null!=this.modal&&this.modal.close()}},{key:"closeDeleteModal",value:function(){Q("#downloadConfirmation").modal("hide")}},{key:"onOpenAll",value:function(){var t,e=_createForOfIteratorHelper(this.addedTasks);try{for(e.s();!(t=e.n()).done;){t.value.selected=!0}}catch(r){e.e(r)}finally{e.f()}}},{key:"onCloseAll",value:function(){var t,e=_createForOfIteratorHelper(this.addedTasks);try{for(e.s();!(t=e.n()).done;){t.value.selected=!1}}catch(r){e.e(r)}finally{e.f()}}},{key:"loadPublicationTypes",value:function(){var t=this;this.actionService.GetPublicationType().subscribe((function(e){var r,n=_createForOfIteratorHelper((t.publicationTypes=e,t.addedTasks));try{for(n.s();!(r=n.n()).done;){var i,a=_createForOfIteratorHelper(r.value.publication);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=t.publicationTypes.filter((function(t){return t.publicationTypeId==o.publicationType}));s.length>0&&(o.publicationTypeName=s[0].name)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}}),(function(t){}))}},{key:"onAccordTabClick1",value:function(t){t.selected=!t.selected}},{key:"onViewWFDetails",value:function(t){var e=this;this.sourceWorkFlow=void 0,this.isSpinnerVisible=!0,this.actionService.getWorkFlow(t.workflowId).subscribe((function(r){var n=r[0];e.sourceWorkFlow=Object.assign({},n,{fixedAmount:n.fixedAmount?Object(z.b)(n.fixedAmount,2):null,costOfNew:n.costOfNew?Object(z.b)(n.costOfNew,2):null,percentageOfNew:n.percentageOfNew?Object(z.b)(n.percentageOfNew,2):null,percentOfNew:n.percentOfNew?Object(z.b)(n.percentOfNew,2):null,costOfReplacement:n.costOfReplacement?Object(z.b)(n.costOfReplacement,2):null,percentageOfReplacement:n.percentageOfReplacement?Object(z.b)(n.percentageOfReplacement,2):null,percentOfReplacement:n.percentOfReplacement?Object(z.b)(n.percentOfReplacement,2):null,otherCost:n.otherCost?Object(z.b)(n.otherCost,2):null,berThresholdAmount:n.berThresholdAmount?Object(z.b)(n.berThresholdAmount,2):null});var i=e.allParts.filter((function(e){return e.itemMasterId==t.changedPartNumberId}))[0];e.sourceWorkFlow.changedPartNumber=null!=i?i.partNumber:"",e.sourceWorkFlow.workflowCreateDate=new Date(e.sourceWorkFlow.workflowCreateDate).toLocaleDateString(),e.sourceWorkFlow.workflowExpirationDate=null!=e.sourceWorkFlow.workflowExpirationDate&&""!=e.sourceWorkFlow.workflowExpirationDate?new Date(e.sourceWorkFlow.workflowExpirationDate).toLocaleDateString():"",e.calculatePercentOfNew(r[0].costOfNew,r[0].percentageOfNew),e.calculatePercentOfReplacement(r[0].costOfReplacement,r[0].percentageOfReplacement),e.loadcustomerData(),e.loadCurrencyData(),e.calculateTotalWorkFlowCost(),e.getAllTasks(),e.isSpinnerVisible=!1}),(function(t){e.isSpinnerVisible=!1}))}},{key:"onViewMaterialList",value:function(t){var e=this;this.sourceWorkFlow=void 0,this.actionService.getWorkFlowWithMaterialList(t.workflowId).subscribe((function(t){e.sourceWorkFlow=t[0],e.calculateWorkFlowTotalMaterialCost(),e.getAllTasks()}),(function(t){}))}},{key:"getWorkFlowActions",value:function(){this.workFlowtService.getWorkFlowMaterial().subscribe((function(t){}),(function(t){}))}},{key:"setPublicationData",value:function(t,e){null!=t?(e.publicationName=t.publicationId,e.publicationDescription=null!=t.description?t.description:"",e.revisionDate=null!=t.revisionDate?new Date(t.revisionDate).toLocaleDateString():"",e.publicationType=null!=t.publicationTypeId?t.publicationTypeId:"",e.sequence=null!=t.sequence?t.sequence:"",e.itemMasterAircraftMapping=t.itemMasterAircraftMapping,e.source=null!=t.asd?t.asd:"",e.location=null!=t.location?t.location:"",e.verifiedBy=null!=t.verifiedBy?t.verifiedBy:"",e.status=null!=t.isActive?t.isActive:"",e.verifiedDate=null!=t.verifiedDate?new Date(t.verifiedDate).toLocaleDateString():"",e.attachmentURL=null!=t.attachmentDetails?t.attachmentDetails.link:""):(e.publicationDescription="",e.revisionDate="",e.publicationType=0,e.sequence="",e.source="",e.location="",e.verifiedBy="",e.status=0,e.verifiedDate="",e.attachmentURL="")}},{key:"loadcustomerData",value:function(){var t=this;this.customerService.getWorkFlows().subscribe((function(e){t.allCustomers=e[0];var r=t.allCustomers.filter((function(e){return e.customerId==t.sourceWorkFlow.customerId}));r.length>0&&(t.sourceWorkFlow.customerName=r[0].name)}))}},{key:"calculatePercentOfNew",value:function(t,e){this.sourceWorkFlow.percentOfNew="",t&&e&&(this.sourceWorkFlow.percentOfNew=Object(z.b)(t/100*e,2))}},{key:"calculatePercentOfReplacement",value:function(t,e){if(this.sourceWorkFlow.percentOfReplacement="",t&&e){var r=t/100;this.sourceWorkFlow.percentOfReplacement=Object(z.b)(r*e,2)}}},{key:"loadCurrencyData",value:function(){var t=this;this.currencyService.getCurrencyList().subscribe((function(e){if(t.allCurrencyData=e[0],t.sourceWorkFlow&&t.sourceWorkFlow.currencyId)var r=t.allCurrencyData.filter((function(e){return e.currencyId==t.sourceWorkFlow.currencyId}));r.length>0&&(t.sourceWorkFlow.currencySymbol=r[0].symbol,t.sourceWorkFlow.currencyText=r[0].displayName)}))}},{key:"calculateTotalWorkFlowCost",value:function(){this.MaterialCost=0,this.TotalCharges=0,this.TotalExpertiseCost=0;var t,e=_createForOfIteratorHelper(this.sourceWorkFlow.charges);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.TotalCharges+=null!=r.extendedCost?r.extendedCost:0}}catch(u){e.e(u)}finally{e.f()}var n,i=_createForOfIteratorHelper(this.sourceWorkFlow.materialList);try{for(i.s();!(n=i.n()).done;){var a=n.value;this.MaterialCost+=null!=a.extendedCost?a.extendedCost:0}}catch(u){i.e(u)}finally{i.f()}var o,s=_createForOfIteratorHelper(this.sourceWorkFlow.expertise);try{for(s.s();!(o=s.n()).done;){var l=o.value;this.TotalExpertiseCost+=null!=l.laborOverheadCost?l.laborOverheadCost:0}}catch(u){s.e(u)}finally{s.f()}var d=parseFloat(this.MaterialCost.toString().replace(/\,/g,""))+parseFloat(this.TotalCharges.toString().replace(/\,/g,""))+parseFloat(this.TotalExpertiseCost.toString().replace(/\,/g,""))+(this.sourceWorkFlow.otherCost?parseFloat(this.sourceWorkFlow.otherCost.toString().replace(/\,/g,"")):0);if(this.TotalCharges=this.TotalCharges?Object(z.b)(this.TotalCharges,2):0,this.MaterialCost=this.MaterialCost?Object(z.b)(this.MaterialCost,2):0,this.TotalExpertiseCost=this.TotalExpertiseCost?Object(z.b)(this.TotalExpertiseCost,2):0,this.sourceWorkFlow.otherCost=this.sourceWorkFlow.otherCost?Object(z.b)(this.sourceWorkFlow.otherCost,2):0,this.Total=d?Object(z.b)(d,2):0,0!=this.sourceWorkFlow.berThresholdAmount&&this.Total){var c=parseInt(this.Total)/parseInt(this.sourceWorkFlow.berThresholdAmount);this.PercentBERThreshold=c?Object(z.b)(c,2):0}}},{key:"calculateWorkFlowTotalMaterialCost",value:function(){this.MaterialCost=0;var t,e=_createForOfIteratorHelper(this.sourceWorkFlow.materialList);try{for(e.s();!(t=e.n()).done;){var r=t.value;this.MaterialCost+=null!=r.extendedCost?r.extendedCost:0}}catch(n){e.e(n)}finally{e.f()}this.MaterialCost=this.MaterialCost?Object(z.b)(this.MaterialCost,2):0}},{key:"getUniqueTask",value:function(){var t=[],e=[];if(this.sourceWorkFlow.charges&&this.sourceWorkFlow.charges.length>0){var r,n=_createForOfIteratorHelper(this.sourceWorkFlow.charges);try{for(n.s();!(r=n.n()).done;){var i=r.value;-1==e.indexOf(i.taskId)&&(w=this.tasks.filter((function(t){return t.Id==i.taskId}))).length>0&&(w[0].selected=!1,e.push(w[0].Id),t.push(w[0]))}}catch(k){n.e(k)}finally{n.f()}}if(this.sourceWorkFlow.directions.length>0){var a,o=_createForOfIteratorHelper(this.sourceWorkFlow.directions);try{for(o.s();!(a=o.n()).done;){i=a.value;-1==e.indexOf(i.taskId)&&(w=this.tasks.filter((function(t){return t.Id==i.taskId}))).length>0&&(w[0].selected=!1,e.push(w[0].Id),t.push(w[0]))}}catch(k){o.e(k)}finally{o.f()}}if(this.sourceWorkFlow.equipments.length>0){var s,l=_createForOfIteratorHelper(this.sourceWorkFlow.equipments);try{for(l.s();!(s=l.n()).done;){i=s.value;-1==e.indexOf(i.taskId)&&(w=this.tasks.filter((function(t){return t.Id==i.taskId}))).length>0&&(w[0].selected=!1,e.push(w[0].Id),t.push(w[0]))}}catch(k){l.e(k)}finally{l.f()}}if(this.sourceWorkFlow.exclusions.length>0){var d,c=_createForOfIteratorHelper(this.sourceWorkFlow.exclusions);try{for(c.s();!(d=c.n()).done;){i=d.value;-1==e.indexOf(i.taskId)&&(w=this.tasks.filter((function(t){return t.Id==i.taskId}))).length>0&&(w[0].selected=!1,e.push(w[0].Id),t.push(w[0]))}}catch(k){c.e(k)}finally{c.f()}}if(this.sourceWorkFlow.expertise.length>0){var u,p=_createForOfIteratorHelper(this.sourceWorkFlow.expertise);try{for(p.s();!(u=p.n()).done;){i=u.value;-1==e.indexOf(i.taskId)&&(w=this.tasks.filter((function(t){return t.Id==i.taskId}))).length>0&&(w[0].selected=!1,e.push(w[0].Id),t.push(w[0]))}}catch(k){p.e(k)}finally{p.f()}}if(this.sourceWorkFlow.materialList.length>0){var h,m=_createForOfIteratorHelper(this.sourceWorkFlow.materialList);try{for(m.s();!(h=m.n()).done;){i=h.value;-1==e.indexOf(i.taskId)&&(w=this.tasks.filter((function(t){return t.Id==i.taskId}))).length>0&&(w[0].selected=!1,e.push(w[0].Id),t.push(w[0]))}}catch(k){m.e(k)}finally{m.f()}}if(this.sourceWorkFlow.measurements.length>0){var f,b=_createForOfIteratorHelper(this.sourceWorkFlow.measurements);try{for(b.s();!(f=b.n()).done;){i=f.value;-1==e.indexOf(i.taskId)&&(w=this.tasks.filter((function(t){return t.Id==i.taskId}))).length>0&&(w[0].selected=!1,e.push(w[0].Id),t.push(w[0]))}}catch(k){b.e(k)}finally{b.f()}}if(this.sourceWorkFlow.publication.length>0){var v,g=_createForOfIteratorHelper(this.sourceWorkFlow.publication);try{for(g.s();!(v=g.n()).done;){var w;i=v.value;-1==e.indexOf(i.taskId)&&(w=this.tasks.filter((function(t){return t.Id==i.taskId}))).length>0&&(w[0].selected=!1,e.push(w[0].Id),t.push(w[0]))}}catch(k){g.e(k)}finally{g.f()}}return t}},{key:"getAllTasks",value:function(){var t=this;this.isSpinnerVisible=!0,this.actionService.getActions().subscribe((function(e){t.tasks=[];var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.tasks.push({Id:i.taskId,Name:i.description,Description:"",Memo:""})}}catch(a){n.e(a)}finally{n.f()}t.organiseTaskAndTaskAttributes(),t.loadPublicationTypes()}),(function(t){}))}},{key:"organiseTaskAndTaskAttributes",value:function(){var t=this;this.addedTasks=this.getUniqueTask(),this.addedTasks&&0!=this.addedTasks.length&&this.onAccordTabClick1(this.addedTasks[0]);var e,r=_createForOfIteratorHelper(this.addedTasks);try{var n=function(){var r=e.value;i=0,a=0,o=0,r.charges=t.sourceWorkFlow.charges.filter((function(e){return e.taskId==r.Id&&(t.LoadChargesDropDownValues(e),i+=null==e.quantity||""==e.quantity?0:e.quantity,a+=null==e.extendedCost||""==e.extendedCost?0:e.extendedCost,o+=null==e.extendedPrice||""==e.extendedPrice?0:e.extendedPrice),e.taskId==r.Id})),r.chargesTotalQty=i,r.chargesTotalExtendedCost=a?Object(z.b)(a,2):null,r.chargesTotalChargesCost=o?Object(z.b)(o,2):null,r.charges=t.sourceWorkFlow.charges.map((function(t){return Object.assign({},t,{unitCost:t.unitCost?Object(z.b)(t.unitCost,2):null,extendedCost:t.extendedCost?Object(z.b)(t.extendedCost,2):null,unitPrice:t.unitPrice?Object(z.b)(t.unitPrice,2):null,extendedPrice:t.extendedPrice?Object(z.b)(t.extendedPrice,2):null})})),r.directions=t.sourceWorkFlow.directions.filter((function(t){return t.taskId==r.Id})),r.equipments=t.sourceWorkFlow.equipments.filter((function(e){return e.taskId==r.Id&&t.LoadAllAsset(e),e.taskId==r.Id})),s=0,l=0,r.exclusions=t.sourceWorkFlow.exclusions.filter((function(t){return t.taskId==r.Id&&(s+=null==t.quantity||""==t.quantity?0:t.quantity,l+=null==t.extendedCost||""==t.extendedCost?0:t.extendedCost),t.taskId==r.Id})),r.exclusionQty=s,r.exclusionextendedQty=l?Object(z.b)(l,2):null,r.exclusions=t.sourceWorkFlow.exclusions.map((function(t){return Object.assign({},t,{unitCost:t.unitCost?Object(z.b)(t.unitCost,2):null,extendedCost:t.extendedCost?Object(z.b)(t.extendedCost,2):null,estimtPercentOccurrance:t.estimtPercentOccurrance?parseFloat(t.estimtPercentOccurrance).toFixed(2):null})})),d=0,c=0,u=0,p=0,r.expertise=t.sourceWorkFlow.expertise.filter((function(e){return e.taskId==r.Id&&(t.LoadExpertise(e),d+=null==e.estimatedHours&&""==e.estimatedHours?0:e.estimatedHours,c+=null==e.directLaborRate&&""==e.directLaborRate?0:e.directLaborRate,u+=null==e.overheadCost&&""==e.overheadCost?0:e.overheadCost,p+=null==e.laborOverheadCost&&""==e.laborOverheadCost?0:e.laborOverheadCost),e.taskId==r.Id})),r.expertiseTotalEstimatedHours=d,r.expertiseTotalDirectLaborCost=c?Object(z.b)(c,2):null,r.expertiseTotalOHCost=u?Object(z.b)(u,2):null,r.expertiseTotalDirectLabourAndOHCost=p?Object(z.b)(p,2):null,r.expertise=t.sourceWorkFlow.expertise.map((function(t){return Object.assign({},t,{laborDirectRate:t.laborDirectRate?Object(z.b)(t.laborDirectRate,2):null,directLaborRate:t.directLaborRate?Object(z.b)(t.directLaborRate,2):null,overheadBurden:t.overheadBurden?Object(z.b)(t.overheadBurden,2):null,overheadCost:t.overheadCost?Object(z.b)(t.overheadCost,2):null,laborOverheadCost:t.laborOverheadCost?Object(z.b)(t.laborOverheadCost,2):null})})),h=0,m=0,f=0,b=0;var n,w=_createForOfIteratorHelper((r.materialList=t.sourceWorkFlow.materialList.filter((function(e){return e.taskId==r.Id&&(t.loadConditionData(e),t.loadUOMData(e),t.loadMaterialMandatoryData(e),t.loadItemClassification(e),h+=null==e.quantity||""==e.quantity?0:e.quantity,m+=null==e.extendedCost||""==e.extendedCost?0:e.extendedCost,f+=null==e.price||""==e.price?0:e.price,b+=null==e.extendedPrice||""==e.extendedPrice?0:e.extendedPrice),e.taskId==r.Id})),r.materialTotalQty=h,r.materialTotalExtendedCost=m?Object(z.b)(m,2):null,r.materialTotalPrice=f?Object(z.b)(f,2):null,r.materialTotalExtendedPrice=b?Object(z.b)(b,2):null,r.materialList=t.sourceWorkFlow.materialList.map((function(t){return Object.assign({},t,{unitCost:t.unitCost?Object(z.b)(t.unitCost,2):null,extendedCost:t.extendedCost?Object(z.b)(t.extendedCost,2):null,price:t.price?Object(z.b)(t.price,2):null,extendedPrice:t.extendedPrice?Object(z.b)(t.extendedPrice,2):null})})),r.measurements=t.sourceWorkFlow.measurements.filter((function(e){return t.setMeasurementDropdownText(e),e.taskId==r.Id})),r.publication=t.sourceWorkFlow.publication.filter((function(t){return t.taskId==r.Id})),r.publication));try{for(w.s();!(n=w.n()).done;)null!=(v=n.value).aircraftManufacturer&&""!=v.aircraftManufacturer&&(t.aircraftManufacturerService.getById(v.aircraftManufacturer).subscribe((function(e){var r,n=_createForOfIteratorHelper(t.addedTasks);try{for(n.s();!(r=n.n()).done;){var i,a=_createForOfIteratorHelper(r.value.publication);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.aircraftManufacturer==e[0][0].aircraftTypeId&&(o.aircraftManufacturerName=e[0][0].description)}}catch(s){a.e(s)}finally{a.f()}}}catch(s){n.e(s)}finally{n.f()}}),(function(t){})),null!=v.model&&""!=v.model&&(t.aircraftmodelService.getById(v.model).subscribe((function(t){var e,n=_createForOfIteratorHelper(r.publication);try{for(n.s();!(e=n.n()).done;){var i=e.value;i.model==t[0][0].aircraftModelId&&(i.modelName=t[0][0].modelName)}}catch(a){n.e(a)}finally{n.f()}}),(function(t){})),t.dashNumberService.getDashNumberByModelTypeId(v.model.toString(),v.aircraftManufacturer.toString()).subscribe((function(t){var e,n=_createForOfIteratorHelper(r.publication);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(t.length>0&&t[0].aircraftModelId==i.model&&t[0].aircraftTypeId==i.aircraftManufacturer){var a,o=_createForOfIteratorHelper((i.allDashNumbers="",t));try{for(o.s();!(a=o.n()).done;){var s=a.value;i.workflowPublicationDashNumbers.filter((function(t){return t.aircraftDashNumberId==s.dashNumberId})).length>0&&(i.allDashNumbers+=s.dashNumber.toString()+", ")}}catch(l){o.e(l)}finally{o.f()}}}}catch(l){n.e(l)}finally{n.f()}})))),null!=t.publications?0==(g=t.publications.filter((function(t){return t.publicationRecordId==v.publicationId}))).length?t.loadPublicationById(v):t.setPublicationData(g[0],v):(t.publications=[],t.loadPublicationById(v))}catch(k){w.e(k)}finally{w.f()}};for(r.s();!(e=r.n()).done;){var i,a,o,s,l,d,c,u,p,h,m,f,b,v,g;n()}}catch(w){r.e(w)}finally{r.f()}}},{key:"loadPublicationById",value:function(t){var e=this;this.publicationService.getPublicationForWorkFlow(t.publicationId).subscribe((function(r){null!=r[0]&&null!=r[0]&&(e.publications.push(r[0]),e.setPublicationData(r[0],t))}))}},{key:"setChargesTypeDropdownText",value:function(t){var e=this.chargesTypes.filter((function(e){return e.id==t.workflowChargeTypeId}));e.length>0&&(t.chargesTypeName=e[0].name)}},{key:"setChargesVendorDropdownText",value:function(t){var e=this.vendors.filter((function(e){return e.vendorId==t.vendorId}))[0];null!=e&&(t.vendorName=null!=e?e.vendorName:"")}},{key:"setEquipmentAssetDropdownText",value:function(t){var e=this.assets.filter((function(e){return e.assetRecordId==t.assetId}));e.length>0&&(t.assetName=e[0].assetId)}},{key:"setEquipmentAssetTypeDropdownText",value:function(t){var e=this.assetTypes.filter((function(e){return e.id==t.assetTypeId}));e.length>0&&(t.assetTypeName=e[0].name)}},{key:"setMeasurementDropdownText",value:function(t){var e=this.allParts.filter((function(e){return e.itemMasterId==t.partNumber}));e.length>0&&(t.PartName=e[0].partNumber)}},{key:"setExpertiseDropdownText",value:function(t){var e=this.expertiseTypes.filter((function(e){return e.expertiseTypeId==t.expertiseTypeId}));e.length>0&&(t.expetiseTypeName=e[0].description)}},{key:"setMaterialConditionDropdown",value:function(t){var e=this.materialCondition.filter((function(e){return e.conditionId==t.conditionCodeId}));e.length>0&&(t.conditionName=e[0].description)}},{key:"setMaterialUOMDropdownText",value:function(t){var e=this.materialUOM.filter((function(e){return e.unitOfMeasureId==t.unitOfMeasureId}));e.length>0&&(t.uomName=e[0].description)}},{key:"setMaterialMandatoryText",value:function(t){var e=this.materialMandatory.filter((function(e){return e.name==t.mandatoryOrSupplemental}));e.length>0&&(t.mandatoryOrSupplementalName=e[0].name)}},{key:"setMaterialItemClassificationName",value:function(t){var e=this.itemClassification.filter((function(e){return e.itemClassificationId==t.itemClassificationId}));e.length>0&&(t.itemClassificationName=e[0].description)}},{key:"LoadParts",value:function(){var t=this;this.itemMasterService.getPartDetailsDropdown().subscribe((function(e){t.allParts=e}),(function(t){}))}},{key:"LoadAllAsset",value:function(t){var e=this;null==this.assets||0==this.assets.length?this.assetService.getAllAssetList().subscribe((function(r){e.assets=r[0],e.setEquipmentAssetDropdownText(t)})):this.setEquipmentAssetDropdownText(t),null==this.assetTypes||0==this.assetTypes.length?this.actionService.getEquipmentAssetType().subscribe((function(r){e.assetTypes=r,e.setEquipmentAssetTypeDropdownText(t)}),(function(t){})):this.setEquipmentAssetTypeDropdownText(t)}},{key:"LoadExpertise",value:function(t){var e=this;null==this.expertiseTypes||0==this.expertiseTypes.length?this.actionService.GetExpertiseType().subscribe((function(r){e.expertiseTypes=r,e.setExpertiseDropdownText(t)}),(function(t){})):this.setExpertiseDropdownText(t)}},{key:"LoadChargesDropDownValues",value:function(t){var e=this;null==this.chargesTypes||0==this.chargesTypes.length?this.actionService.getChargesType().subscribe((function(r){e.chargesTypes=r,e.setChargesTypeDropdownText(t)}),(function(t){})):this.setChargesTypeDropdownText(t),null==this.vendors||0==this.vendors.length?this.vendorservice.getWorkFlows().subscribe((function(r){e.vendors=r[0],e.setChargesVendorDropdownText(t)}),(function(t){})):this.setChargesVendorDropdownText(t)}},{key:"loadConditionData",value:function(t){var e=this;null==this.materialCondition||0==this.materialCondition.length?this.conditionService.getConditionList().subscribe((function(r){e.materialCondition=r[0],e.setMaterialConditionDropdown(t)})):this.setMaterialConditionDropdown(t)}},{key:"loadUOMData",value:function(t){var e=this;null==this.materialUOM||0==this.materialUOM.length?this.unitofmeasureService.getUnitOfMeasureList().subscribe((function(r){e.materialUOM=r[0],e.setMaterialUOMDropdownText(t)})):this.setMaterialUOMDropdownText(t)}},{key:"loadMaterialMandatoryData",value:function(t){var e=this;null==this.materialMandatory||0==this.materialMandatory.length?this.actionService.GetMaterialMandatory().subscribe((function(r){e.materialMandatory=r,e.setMaterialMandatoryText(t)}),(function(t){})):this.setMaterialMandatoryText(t)}},{key:"loadItemClassification",value:function(t){var e=this;null==this.itemClassification||0==this.itemClassification.length?this.itemClassificationService.getWorkFlows().subscribe((function(r){e.itemClassification=r[0],e.setMaterialItemClassificationName(t)})):this.setMaterialItemClassificationName(t)}},{key:"loadDashNumberByManfacturerandModel",value:function(t,e,r){}},{key:"exportCSV",value:function(t){var e=this;this.isSpinnerVisible=!0;var r=!!this.currentDeletedstatus,n={first:0,rows:t.totalRecords,sortOrder:1,filters:{status:this.status,isDeleted:r},globalFilter:""};Object.keys(t.filters).forEach((function(e){n.filters[e]=t.filters[e].value})),this.workFlowtService.getAllWorkFlowList(n).subscribe((function(r){t._value=r[0].results.map((function(t){return Object.assign({},t,{createdDate:t.createdDate?e.datePipe.transform(t.createdDate,"MMM-dd-yyyy hh:mm a"):"",updatedDate:t.updatedDate?e.datePipe.transform(t.updatedDate,"MMM-dd-yyyy hh:mm a"):"",workflowExpirationDate:t.workflowExpirationDate?e.datePipe.transform(t.workflowExpirationDate,"MMM-dd-yyyy hh:mm a"):"",workflowCreateDate:t.workflowCreateDate?e.datePipe.transform(t.workflowCreateDate,"MMM-dd-yyyy hh:mm a"):""})})),t.exportCSV(),t.value=e.workflowList,e.isSpinnerVisible=!1}),(function(t){return e.onDataLoadFailed(t)}))}},{key:"userName",get:function(){return this.authService.currentUser?this.authService.currentUser.userName:""}}]),t}();$.ctorParameters=function(){return[{type:L.a},{type:O.ActivatedRoute},{type:O.Router},{type:l.DatePipe},{type:S.a},{type:C.c},{type:D.b},{type:P.a},{type:W.a},{type:E.a},{type:N.a},{type:A.a},{type:T.a},{type:R.a},{type:j.a},{type:_.a},{type:q.a},{type:U.a},{type:V.a},{type:B.a},{type:H.a}]},n.b([Object(i.Input)()],$.prototype,"isWorkOrder",void 0),n.b([Object(i.Input)()],$.prototype,"workFlowId",void 0),n.b([Object(i.Input)()],$.prototype,"workFlowType",void 0),$=n.b([Object(i.Component)({selector:"app-workflow-list",template:n.c(r("64fc")).default,animations:[M.a],providers:[l.DatePipe],styles:[n.c(r("ctuS")).default]})],$);var K=r("MKys"),J=r("Sy1n"),Y=r("8gm/"),X=function(){function t(e,r,n,i,a){var o=this;_classCallCheck(this,t),this.router=e,this.route=r,this.workFlowService=n,this.appComponent=i,this.appTranslationService=a,this.workFlowService.bredcrumbObjChangeObject$.subscribe((function(t){o.otherurl=t,o.loadmethod(o.otherurl)}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.currentUrl=this.route.url,this.loadmethod(this.currentUrl)}},{key:"loadmethod",value:function(t){this.currentUrl=t,this.currentUrl&&("/workflowmodule/workflowpages/app-workflow-list"==this.currentUrl?this.items=[{label:"Work Flow"},{label:"Work Flow-List"}]:"/workflowmodule/workflowpages/wf-create"==this.currentUrl&&(this.items=[{label:"Work Flow"},{label:"Work Flow-Create "}])),this.otherurl&&("/workflowmodule/workflowpages/app-workflow-list"==this.currentUrl?this.items=[{label:"Work Flow"},{label:"Work Flow-List"}]:"/workflowmodule/workflowpages/wf-create"==this.otherurl&&(this.items=[{label:"Stock Line"},{label:window.location.href.includes("edit")?"Edit Work Flow":"Create Work Flow"}]))}}]),t}();X.ctorParameters=function(){return[{type:O.ActivatedRoute},{type:O.Router},{type:P.a},{type:J.a},{type:Y.a}]},X=n.b([Object(i.Component)({selector:"quickapp-pro-workflow",template:n.c(r("vQOQ")).default})],X);var Z=r("FxvM"),tt=r("E+Hz"),et=function(){function t(e,r,n,i,a,o,s,l,d,c){_classCallCheck(this,t),this.expertiseService=e,this.cusservice=r,this.workscopeService=n,this.currencyService=i,this.itemClassService=a,this.unitofmeasureService=o,this.conditionService=s,this._workflowService=l,this.itemser=d,this.vendorService=c,this.employeeExplist=[],this.materailTypeList=[],this.allCustomers=[],this.customerNamecoll=[],this.customerNames=[],this.allCurrencyData=[],this.worksScopeCollection=[],this.partCollection=[],this.itemclaColl=[],this.allUomdata=[],this.allconditioninfo=[],this.allPartDetails=[],this.allPartnumbersInfo=[],this.sourceWorkFlow={},this.workflowactionAttributes=[],this.actionAttributes=[],this.workflowActions=[],this.equipmentListObj=[],this.expertiseListObj=[],this.directionListObj=[],this.exclusionListObj=[],this.partListData=[],this.materialListObj=[],this.chargeListObj=[],this.selectedValues=[],this.isWorkFlowEdit=!1,this.workflowActionAttribues=[],this.loadedDDs={},this.selectedActionAttributes=[],this.addedActionIds=[],this.actionsDD=[],this.actionsAttributesDD=[],this.chargesDL=[],this.directionsDL=[],this.equipmentDL=[],this.exclusionsDL=[],this.expertiseDL=[],this.materialListDL=[],this.measurementsDL=[],this.publicationsDL=[],this.actionAttributeTabs=[{visible:!1,selected:!1,label:"Material List"},{visible:!1,selected:!1,label:"Charges"},{visible:!1,selected:!1,label:"Equipment"},{visible:!1,selected:!1,label:"Expertise"},{visible:!1,selected:!1,label:"Directions"},{visible:!1,selected:!1,label:"Exclusions"},{visible:!1,selected:!1,label:"Publications"},{visible:!1,selected:!1,label:"Measurements"}],this.breadcrumbs=[{label:"Work Flow"},{label:"Work Flow List"},{label:"Create Work Flow"}],this.getActionsDD(),this.getActionAttributesDD()}return _createClass(t,[{key:"ngOnInit",value:function(){this.loadCurrencyData(),this.loadCurrencyData(),this.loadWorkScopedata(),this.loadItemClassData(),this.loadPartData(),this.ptnumberlistdata(),this.sourceWorkFlow.workFlowId||(this.sourceWorkFlow.workFlowId="Creating"),this.getMaterialType(),this.loadcustomerData(),this.loadExpertiseData()}},{key:"getActionsDD",value:function(){var t=this;this._workflowService.getWorkFlowActions().subscribe((function(e){e&&e[0].length>0&&(t.actionsDD=[{actionId:"",description:""}].concat(e[0])),t.loadedDDs.actions=!0,t.loadedDDs.actionAttributes&&t.getSelectedWorkflowActions()}))}},{key:"getMaterialType",value:function(){var t=this;this._workflowService.getMaterialType().subscribe((function(e){t.materailTypeList=e}))}},{key:"loadExpertiseData",value:function(){var t=this;this.expertiseService.getWorkFlows().subscribe((function(e){t.employeeExplist=e}))}},{key:"getActionAttributesDD",value:function(){var t=this;this._workflowService.getActionAttributes().subscribe((function(e){if(e&&e[0].length>0){for(var r=[],n=0;n<e[0].length;n++)r.push({value:e[0][n].taskAttributeId,label:e[0][n].description});t.actionsAttributesDD=r,t.actionsAttributesDD.forEach((function(e){t.actionAttributeTabs.forEach((function(t){t.label==e.label&&(t.value=e.value)}))}))}t.loadedDDs.actionAttributes=!0,t.loadedDDs.actions&&t.getSelectedWorkflowActions()}))}},{key:"filterpartItems",value:function(t){if(this.partCollection=[],this.itemclaColl=[],this.allPartnumbersInfo&&this.allPartnumbersInfo.length>0)for(var e=0;e<this.allPartnumbersInfo.length;e++){var r=this.allPartnumbersInfo[e].partNumber;r&&0==r.toLowerCase().indexOf(t.query.toLowerCase())&&(this.itemclaColl.push([{partId:this.allPartnumbersInfo[e].itemMasterId,partName:r,description:this.allPartnumbersInfo[e].partDescription}]),this.partCollection.push(r))}}},{key:"isCalculatedBERThreshold",value:function(t){"calculate"==t&&(this.isCalculate=!0,this.isFlat=!1),"flat"==t&&(this.isCalculate=!1,this.isFlat=!0)}},{key:"isFixedcheck",value:function(t){"fixed"==t&&(this.isFixed=!0,this.ispercent=!1,this.percentreplcae=!1),"percentage"==t&&(this.isFixed=!1,this.ispercent=!0,this.percentreplcae=!1),"percentreplace"==t&&(this.isFixed=!1,this.ispercent=!1,this.percentreplcae=!0)}},{key:"loadWorkScopedata",value:function(){var t=this;this.workscopeService.getWorkScopeList().subscribe((function(e){t.worksScopeCollection=e[0]}))}},{key:"loadCurrencyData",value:function(){var t=this;this.currencyService.getCurrencyList().subscribe((function(e){t.allCurrencyData=e[0]}))}},{key:"onCustomerNameselected",value:function(t){for(var e=0;e<this.customerNamecoll.length;e++)t==this.customerNamecoll[e][0].name&&(this.sourceWorkFlow.customerId=this.customerNamecoll[e][0].customerId)}},{key:"filterNames",value:function(t){if(this.customerNames=[],this.allCustomers&&this.allCustomers.length>0)for(var e=0;e<this.allCustomers.length;e++){var r=this.allCustomers[e].name;t.query?0==r.toLowerCase().indexOf(t.query.toLowerCase())&&(this.customerNamecoll.push([{customerId:this.allCustomers[e].customerId,name:r}]),this.customerNames.push(r)):(this.customerNamecoll.push([{customerId:this.allCustomers[e].customerId,name:r}]),this.customerNames.push(r))}}},{key:"loadcustomerData",value:function(){var t=this;this.cusservice.getWorkFlows().subscribe((function(e){t.allCustomers=e[0]}))}},{key:"onPartSelect",value:function(t){if(this.itemclaColl)for(var e=0;e<this.itemclaColl.length;e++)t==this.itemclaColl[e][0].partName&&(this.sourceWorkFlow.itemMasterId=this.itemclaColl[e][0].partId,this.sourceWorkFlow.partNumberDescription=this.itemclaColl[e][0].description)}},{key:"partnmId",value:function(t,e){var r=this;if(this.itemclaColl)for(var n=0;n<this.itemclaColl.length;n++)e==this.itemclaColl[n][0].partName&&(this.sourceWorkFlow.itemMasterId=this.itemclaColl[n][0].partId,this.partWithId=[],this.vendorService.getPartDetailsWithidForSinglePart(this.sourceWorkFlow.itemMasterId).subscribe((function(e){e[0][0]&&(r.partWithId=e[0][0],t.partAlternatePartId=r.partWithId.partAlternatePartId,t.partId=r.partWithId.itemMasterId,t.partdescription=r.partWithId.partDescription,t.partNumber=r.partWithId.partNumber,t.itemTypeId=r.partWithId.itemTypeId,t.name=r.partWithId.name,t.itemMasterId=r.partWithId.itemMasterId,t.glAccountId=r.partWithId.glAccountId,t.shortName=r.partWithId.shortName)})))}},{key:"getSelectedWorkflowActions",value:function(){var t=this;this.isWorkFlowEdit&&this._workflowService.getWorkflowActionAttributes(this.selectedWorkflow.workflowId).subscribe((function(e){e&&e[0].length>0&&(t.workflowActions=e[0],t.addedActionIds=t.workflowActions.map((function(t){return t.actionId})))})),this.workflowActions=[{workflowId:"",actionId:2,workflowActionAttributeIds:"11,12,13"},{workflowId:"",actionId:3,workflowActionAttributeIds:"14,15,16"},{workflowId:"",actionId:4,workflowActionAttributeIds:"16,17,36"}],this.addedActionIds=[2,3,4],this.displaySelectedAction(this.workflowActions[0])}},{key:"onActionValueChange",value:function(t){if(Number(t.target.value)>0){this.selectedActionAttributes=[];var e=this.addedActionIds.indexOf(Number(t.target.value));e>=0&&(this.selectedActionAttributes=this.workflowActions[e].workflowActionAttributeIds.split(","))}else this.selectedActionAttributes=[]}},{key:"onActionSelect",value:function(t){var e=this.workflowActions.find((function(e){return e.actionId==t.actionId}));e&&this.displaySelectedAction(e)}},{key:"displaySelectedAction",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.actionsDD.find((function(e){return e.actionId==t.actionId}));this.selectedAction!=n&&(this.selectedAction=n),this.actionAttributeTabs.forEach((function(t){t.visible=!1,t.selected=!1})),t.workflowActionAttributeIds.split(",").forEach((function(t){e.actionAttributeTabs.forEach((function(e){e.value==t&&(e.visible=!0)}))}));var i=this.actionAttributeTabs.find((function(t){return t.visible}));i&&(i.selected=!0),r&&this.isWorkFlowEdit}},{key:"addActionAttributes",value:function(){var t=this;if(this.actionValue&&""!=this.actionValue&&this.selectedActionAttributes&&this.selectedActionAttributes.length>0){var e={workflowId:"",actionId:Number(this.actionValue),workflowActionAttributeIds:this.selectedActionAttributes.join(",")},r=this.workflowActions.find((function(e){return e.actionId==t.actionValue}));r?r.workflowActionAttributeIds=e.workflowActionAttributeIds:(this.workflowActions.push(e),this.addedActionIds.push(Number(this.actionValue)),r=e),this.displaySelectedAction(r)}}},{key:"onPercentOfNew",value:function(t,e){var r=e/100*t;this.sourceWorkFlow.percentOfNew=t-r}},{key:"onPercentOfReplcaement",value:function(t,e){var r=e/100*t;this.sourceWorkFlow.percentOfReplaceMent=t-r}},{key:"defualtChargesListobj",value:function(){return{type:"",qty:"",unitcost:"",extcost:"",actionId:""}}},{key:"defualtDrectObj",value:function(){return{action:"",directionName:"",sequence:"",memo:""}}},{key:"defualtEquipmentObj",value:function(){return{partNumber:"",partDescription:"",itemClassification:"",qty:""}}},{key:"defualtExclsuionObj",value:function(){return{epn:"",epndescription:"",cost:"",notes:""}}},{key:"defualtExpertiseObj",value:function(){return{expertiseType:"",estimatedHours:"",standardRate:"",estimatedRate:""}}},{key:"defualtMaterialListobj",value:function(){return{partNumber:"",partDescription:"",itemClassification:"",qty:"",uom:"",condition:"",unitcost:"",extcost:"",provision:"",deffered:"",figureId:"",actionId:""}}},{key:"getWorkFlowMaterial",value:function(){var t=this;this._workflowService.getWorkFlowMaterial().subscribe((function(e){t.workflowMaterails=e}))}},{key:"getWorkFlowChargeList",value:function(){var t=this;this._workflowService.getChargeList().subscribe((function(e){t.workflowCharges=e}))}},{key:"getWorkFlowEquipment",value:function(){var t=this;this._workflowService.getWorkFlowEquipmentList().subscribe((function(e){t.workflowEquipment=e}))}},{key:"getWorkFlowExpertise",value:function(){var t=this;this._workflowService.getWorkflowExpertise().subscribe((function(e){t.workflowExpertise=e}))}},{key:"ptnumberlistdata",value:function(){var t=this;this.itemser.getPrtnumberslistList().subscribe((function(e){return t.onptnmbersSuccessful(e[0])}),(function(e){return t.onDataLoadFailed(e)}))}},{key:"onptnmbersSuccessful",value:function(t){this.allPartnumbersInfo=t}},{key:"loadPartData",value:function(){var t=this;this.vendorService.getPartDetails().subscribe((function(e){if(t.allPartDetails=e[0],t.loadPartListData(),0==t.vendorService.isEditMode)for(var r=0;r<t.partListData.length;r++)t.partListData[r].partListObj=t.allPartDetails}))}},{key:"loadConditionData",value:function(){var t=this;this.conditionService.getConditionList().subscribe((function(e){t.allconditioninfo=e[0]}))}},{key:"loadUOMData",value:function(){var t=this;this.unitofmeasureService.getUnitOfMeasureList().subscribe((function(e){t.allUomdata=e[0]}))}},{key:"loadItemClassData",value:function(){var t=this;this.itemClassService.getWorkFlows().subscribe((function(e){t.itemClassInfo=e}))}},{key:"loadPartListData",value:function(){}},{key:"onDataLoadFailed",value:function(t){}}]),t}();et.ctorParameters=function(){return[{type:tt.a},{type:E.a},{type:Z.a},{type:N.a},{type:q.a},{type:_.a},{type:j.a},{type:P.a},{type:A.a},{type:R.a}]},et=n.b([Object(i.Component)({selector:"app-workflow-create",template:n.c(r("uSVQ")).default,styles:[n.c(r("OY7t")).default]})],et);var rt=function(){function t(e,r,n,a,o){_classCallCheck(this,t),this.vendorservice=e,this.actionService=r,this.currencyService=n,this.alertService=a,this.commonService=o,this.vendorCollection=[],this.ccRegex=/[0-9]{4}-[0-9]{4}-[0-9]{4}-[0-9]{4}$/,this.vendorCodes=[],this.allVendors=[],this.isEdit=!1,this.isQuote=!1,this.taskList=[],this.isWorkFlow=!1,this.saveChargesListForWO=new i.EventEmitter,this.updateChargesListForWO=new i.EventEmitter,this.notify=new i.EventEmitter,this.chargesTypes=[],this.chargesCurrency=[],this.isSpinnerVisible=!1,this.currentPage=1,this.itemsPerPage=10,this.roNumList=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;if(this.loadAllVendors(),this.isWorkOrder)if(this.row=this.workFlow.charges[0],this.isEdit){this.workFlow.charges=[];var e=Object.assign({},this.editData,{vendorId:this.editData.vendorId,vendorName:this.editData.vendorName,vendor:{vendorId:this.editData.vendorId,vendorName:this.editData.vendorName}});this.workFlow.charges.push(e),this.reCalculate()}else this.workFlow.charges=[],this.workFlow.qtySummation=0,this.workFlow.extendedCostSummation=0,this.workFlow.totalChargesCost=0,this.row=this.workFlow.charges[0],this.row.isShowDelete=!(!this.workFlow.charges||0==this.workFlow.charges.length),this.workFlow.charges=[],this.addRow();else this.row=this.workFlow.charges[0],null==this.row?this.row={}:this.row.isShowDelete=!(!this.workFlow.charges||0==this.workFlow.charges.length),this.row.taskId=this.workFlow.taskId,this.workFlow.charges.length>0&&this.workFlow.charges.forEach((function(e,r){t.workFlow.charges[r].vendor={vendorId:t.workFlow.charges[r].vendorId,vendorName:t.workFlow.charges[r].vendorName}}));this.isSpinnerVisible=!0;var r=[];this.UpdateMode&&(r=this.workFlow.charges.reduce((function(t,e){return r.push(t.chargeId)}),0)),this.commonService.autoSuggestionSmartDropDownList("Charge","ChargeId","ChargeType","",!0,20,r).subscribe((function(e){t.isSpinnerVisible=!1,t.chargesTypes=e.map((function(t){return Object.assign({},t,{chargeId:t.value,chargeType:t.label})}))}),(function(e){t.isSpinnerVisible=!1}))}},{key:"ngOnChanges",value:function(){this.workFlow&&this.workFlow.charges.length>0&&(this.workFlow.charges=this.workFlow.charges.map((function(t){return Object.assign({},t,{quantity:t.quantity?Object(z.b)(t.quantity,0):"0",unitCost:t.unitCost?Object(z.b)(t.unitCost,2):"0.00",extendedCost:t.extendedCost?Object(z.b)(t.extendedCost,2):"0.00",unitPrice:t.unitPrice?Object(z.b)(t.unitPrice,2):"0.00",extendedPrice:t.extendedPrice?Object(z.b)(t.extendedPrice,2):"0.00"})}))),this.UpdateMode&&this.reCalculate(),this.isWorkFlow||(this.workFlow.charges=[],this.addRow())}},{key:"reCalculate",value:function(){this.calculateQtySummation(),this.calculateExtendedCostSummation(),this.calculateExtendedPriceSummation()}},{key:"filterVendor",value:function(t){this.vendorCollection=this.allVendors.filter((function(e){if(0==e.vendorName.toLowerCase().indexOf(t.query.toLowerCase()))return e}))}},{key:"onTaskChange",value:function(t){this.taskList.forEach((function(e){e.taskId==t.taskId&&(t.taskName=e.description)}))}},{key:"onChargeTypeChange",value:function(t,e){var r=this;this.isSpinnerVisible=!0;var n=this.workFlow.charges.filter((function(t){return t.workflowChargeTypeId==e.workflowChargeTypeId&&t.taskId==r.workFlow.taskId}));this.chargesTypes.forEach((function(t){t.chargeId==e.workflowChargeTypeId?(e.chargeType=t.chargeType,r.commonService.getChargeData(e.workflowChargeTypeId).subscribe((function(t){r.isSpinnerVisible=!1,t&&(e.memo=t.memo,e.glAccountName=t.glAccountName)}),(function(t){r.isSpinnerVisible=!1}))):r.isSpinnerVisible=!1})),n.length>1&&(t.target.value="0",e.workflowChargeTypeId="0",this.alertService.showMessage("Work Flow","Type is already in use in Charges List.",D.d.error))}},{key:"loadAllVendors",value:function(){var t=this;this.isSpinnerVisible=!0;var e=[];this.UpdateMode&&(e=this.workFlow.charges.reduce((function(t,r){return e.push(t.vendorId)}),0)),this.vendorservice.getVendorNameCodeListwithFilter("",20,e).subscribe((function(e){t.allVendors=e.map((function(e){return t.isSpinnerVisible=!1,{vendorId:e.vendorId,vendorName:e.vendorName}})),t.vendorCollection=t.allVendors}),(function(e){t.isSpinnerVisible=!1}))}},{key:"onVendorSelected",value:function(t,e){null!=t.vendor?(t.vendorId=t.vendor.vendorId,t.vendorName=t.vendor.vendorName):(t.vendorId="",t.vendorName="")}},{key:"addRow",value:function(){var t=Object.assign({},this.row);t.workflowChargesListId="0",t.vendor={},this.taskList&&this.taskList.forEach((function(e){"Assemble"==e.description&&(t.taskId=e.taskId)})),t.currencyId="0",t.description="",t.extendedCost="0.00",t.extendedPrice="0.00",t.forexRate="",t.quantity="",t.roNum="",t.refNum="",t.invoiceNum="",t.unitCost="0.00",t.unitPrice="0.00",t.vendorUnitPrice="",t.vendorId="",t.vendorName="",t.workflowChargeTypeId="0",t.isDelete=!1,t.isShowDelete=!(!this.workFlow.charges||0==this.workFlow.charges.length),this.workFlow.charges.push(t),this.workFlow.charges&&this.workFlow.charges.length<1&&this.workFlow.charges.forEach((function(t){t.isShowDelete=!1}))}},{key:"calculateExtendedCost",value:function(t){t.unitCost=t.unitCost?Object(z.b)(t.unitCost,2):"";var e=parseFloat(t.quantity.toString().replace(/\,/g,""))*parseFloat(t.unitCost.toString().replace(/\,/g,""));t.extendedCost=e>0?Object(z.b)(e,2):"0.00",this.calculateExtendedCostSummation()}},{key:"calculateExtendedPrice",value:function(t){t.unitPrice=t.unitPrice?Object(z.b)(t.unitPrice,2):"";var e=parseFloat(t.quantity.toString().replace(/\,/g,""))*parseFloat(t.unitPrice.toString().replace(/\,/g,""));t.extendedPrice=e>0?Object(z.b)(e,2):"0.00",this.calculateExtendedPriceSummation()}},{key:"validateQuantity",value:function(t,e){""!=t.target.value&&(e.quantity=Object(z.b)(e.quantity,0))}},{key:"calculateQtySummation",value:function(){var t=this.workFlow.charges.filter((function(t){return 1!=t.isDelete}));this.workFlow.qtySummation=t.reduce((function(t,e){return t+parseFloat(null==e.quantity||""===e.quantity?0:e.quantity)}),0),this.workFlow.qtySummation=this.workFlow.qtySummation?Object(z.b)(this.workFlow.qtySummation,2):"0.00"}},{key:"calculateExtendedCostSummation",value:function(){var t=this.workFlow.charges.filter((function(t){return 1!=t.isDelete}));this.workFlow.extendedCostSummation=t.reduce((function(t,e){return t+parseFloat(null==e.extendedCost||""===e.extendedCost?0:e.extendedCost.toString().replace(/\,/g,""))}),0),this.workFlow.extendedCostSummation=this.workFlow.extendedCostSummation?Object(z.b)(this.workFlow.extendedCostSummation,2):"0.00"}},{key:"calculateExtendedPriceSummation",value:function(){var t=this.workFlow.charges.filter((function(t){return 1!=t.isDelete}));this.workFlow.totalChargesCost=t.reduce((function(t,e){return t+parseFloat(null==e.extendedCost||""===e.extendedCost?0:e.extendedCost.toString().replace(/\,/g,""))}),0),this.workFlow.totalChargesCost=Object(z.b)(this.workFlow.totalChargesCost,2)}},{key:"deleteRow",value:function(t){null==this.workFlow.charges[t].workflowChargesListId||"0"==this.workFlow.charges[t].workflowChargesListId||""==this.workFlow.charges[t].workflowChargesListId?this.workFlow.charges.splice(t,1):this.workFlow.charges[t].isDelete=!0,this.reCalculate()}},{key:"saveChargesWorkOrder",value:function(){this.saveChargesListForWO.emit(this.workFlow),this.workFlow.charges=[],this.addRow(),this.workFlow.qtySummation=0,this.workFlow.extendedCostSummation=0,this.workFlow.totalChargesCost=0}},{key:"updateChargesWorkOrder",value:function(){this.updateChargesListForWO.emit(this.workFlow),this.workFlow.charges=[],this.addRow(),this.workFlow.qtySummation=0,this.workFlow.extendedCostSummation=0,this.workFlow.totalChargesCost=0}},{key:"markupChanged",value:function(t){try{this.markupList.forEach((function(e){e.value==t.markupPercentageId&&(t.chargesCostPlus=t.extendedPrice+t.extendedPrice/100*Number(e.label))}))}catch(e){}}},{key:"getTotalCostPlusAmount",value:function(){var t=0;return this.workFlow.charges.forEach((function(e){e.chargesCostPlus&&(t+=e.chargesCostPlus)})),t}},{key:"close",value:function(){this.isEdit=!1,this.editData=void 0,this.workFlow.charges=[],this.workFlow.qtySummation=0,this.workFlow.totalChargesCost=0,this.workFlow.extendedCostSummation=0,Q("#addNewCharges").modal("hide")}},{key:"onDataLoadFailed",value:function(t){var e=t,r="";if(e.message){if(e.error&&e.error.errors.length>0)for(var n=0;n<e.error.errors.length;n++)r=r+e.error.errors[n].message+"<br/>";this.alertService.showMessage(e.error.message,r,D.d.error)}else this.alertService.showMessage("Error",t.error,D.d.error)}}]),t}();rt.ctorParameters=function(){return[{type:R.a},{type:L.a},{type:N.a},{type:D.b},{type:W.a}]},n.b([Object(i.Input)()],rt.prototype,"workFlow",void 0),n.b([Object(i.Input)()],rt.prototype,"UpdateMode",void 0),n.b([Object(i.Input)()],rt.prototype,"isWorkOrder",void 0),n.b([Object(i.Input)()],rt.prototype,"isEdit",void 0),n.b([Object(i.Input)()],rt.prototype,"markupList",void 0),n.b([Object(i.Input)()],rt.prototype,"isQuote",void 0),n.b([Object(i.Input)()],rt.prototype,"editData",void 0),n.b([Object(i.Input)()],rt.prototype,"taskList",void 0),n.b([Object(i.Input)()],rt.prototype,"isWorkFlow",void 0),n.b([Object(i.Output)()],rt.prototype,"saveChargesListForWO",void 0),n.b([Object(i.Output)()],rt.prototype,"updateChargesListForWO",void 0),n.b([Object(i.Output)()],rt.prototype,"notify",void 0),rt=n.b([Object(i.Component)({selector:"grd-charges",template:n.c(r("ttPU")).default,styles:[n.c(r("Zz99")).default]})],rt);var nt=r("hibz"),it=r("wKas"),at=function(){function t(e,r,n,a,o,s,l,d,c,u,p,h,m,f,b,v,g,w,k){_classCallCheck(this,t),this.actionService=e,this.workOrderService=r,this.authService=n,this.router=a,this.route=o,this.expertiseService=s,this.cusservice=l,this.workscopeService=d,this.currencyService=c,this.itemClassService=u,this.unitofmeasureService=p,this.conditionService=h,this._workflowService=m,this.itemser=f,this.vendorService=b,this.alertService=v,this.modalService=g,this.percentService=w,this.commonService=k,this.isQuote=!1,this.isEdit=!1,this.savedWorkFlowWorkOrderData=new i.EventEmitter,this.saveData=new i.EventEmitter,this.currenttaskId="0",this.showActionAttribute=!1,this.showMainPage=!1,this.actionAttributesList=[],this.selectedItems=[],this.dropdownSettings={},this.sourceWorkFlow={},this.employeeExplist=[],this.materailTypeList=[],this.allCustomers=[],this.customerNamecoll=[],this.customerNames=[],this.allCurrencyData=[],this.worksScopeCollection=[],this.partCollection=[],this.changedPartCollection=[],this.allUomdata=[],this.materialMandatory=[],this.allconditioninfo=[],this.allPartDetails=[],this.allParts=[],this.workflowactionAttributes=[],this.workflowActions=[],this.equipmentListObj=[],this.expertiseListObj=[],this.directionListObj=[],this.exclusionListObj=[],this.partListData=[],this.materialListObj=[],this.chargeListObj=[],this.selectedValues=[],this.isWorkFlowEdit=!1,this.workflowActionAttribues=[],this.loadedDDs={},this.selectedActionAttributes=[],this.addedtaskIds=[],this.actionsDD=[],this.actionsAttributesDD=[],this.chargesDL=[],this.directionsDL=[],this.equipmentDL=[],this.exclusionsDL=[],this.expertiseDL=[],this.materialListDL=[],this.measurementsDL=[],this.publicationsDL=[],this.EstMaterialCost=0,this.EstTotalExpertiseCost=0,this.EstTotalCharges=0,this.EstTotalOthers=0,this.TotalEst=0,this.actionAttributeTabs=[{visible:!1,selected:!1,label:"Material List"},{visible:!1,selected:!1,label:"Charges"},{visible:!1,selected:!1,label:"Tools"},{visible:!1,selected:!1,label:"Expertise"},{visible:!1,selected:!1,label:"Directions"},{visible:!1,selected:!1,label:"Exclusions"},{visible:!1,selected:!1,label:"Publications"},{visible:!1,selected:!1,label:"Measurements"}],this.todaydate=new Date,this.toggle_wf_header=!0,this.tasksData=[],this.typeOfForm="Create",this.itemMasterId=0,this.isHeaderUpdate=!1,this.isSpinnerVisible=!1,this.isUpdateAfterCreate=!1,this.disableUpdateButton=!1,this.arrayworkScopeIdlist=[],this.arraycurrencyIdlist=[],this.arrayCustomerIdlist=[],this.arrayItemMasterIdlist=[],this.breadcrumbs=[{label:"Work Flow"},{label:"Work Flow List"},{label:"Create Work Flow"}],this.title="Work Flow"}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._workflowService.listCollection=null,this.typeOfForm="Create",this.isUpdateAfterCreate||(this._workflowService.enableUpdateMode=!1,this._workflowService.currentWorkFlowId=null)}},{key:"setSelectedItems",value:function(t){if(this.selectedItems=[],null!=t.charges&&t.charges.length>0){var e=this.actionAttributes.filter((function(t){return"Charges"==t.Name}))[0];this.selectedItems.push(e)}if(null!=t.directions&&t.directions.length>0){var r=this.actionAttributes.filter((function(t){return"Directions"==t.Name}))[0];this.selectedItems.push(r)}if(null!=t.equipments&&t.equipments.length>0){var n=this.actionAttributes.filter((function(t){return"Tools"==t.Name}))[0];this.selectedItems.push(n)}if(null!=t.exclusions&&t.exclusions.length>0){var i=this.actionAttributes.filter((function(t){return"Exclusions"==t.Name}))[0];this.selectedItems.push(i)}if(null!=t.expertise&&t.expertise.length>0){var a=this.actionAttributes.filter((function(t){return"Expertise"==t.Name}))[0];this.selectedItems.push(a)}if(null!=t.materialList&&t.materialList.length>0){var o=this.actionAttributes.filter((function(t){return"Material List"==t.Name}))[0];this.selectedItems.push(o)}if(null!=t.measurements&&t.measurements.length>0){var s=this.actionAttributes.filter((function(t){return"Measurements"==t.Name}))[0];this.selectedItems.push(s)}if(null!=t.publication&&t.publication.length>0){var l=this.actionAttributes.filter((function(t){return"Publications"==t.Name}))[0];this.selectedItems.push(l)}this.selectedItems.length>0&&(this.showActionAttribute=!0),this.workFlow.selectedItems=this.selectedItems,null!=this.selectedItems&&this.selectedItems.length>0&&this.setCurrentPanel(this.selectedItems[0].Name,this.selectedItems[0].Id)}},{key:"ngOnInit",value:function(){var t=this;this._workflowService.enableUpdateMode&&(this.typeOfForm="Edit",this.breadcrumbs=[{label:"Work Flow"},{label:"Work Flow List"},{label:"Edit Work Flow"}]),this.sourceWorkFlow.workFlowId=+this.router.snapshot.paramMap.get("id"),this.isFixedcheck(""),this.loadItemClassData(),this.getMaterialMandatory(),this.loadUOMData(),this.loadConditionData(),this.sourceWorkFlow.workflowCreateDate=new Date,this.sourceWorkFlow.version="V-1",this.sourceWorkFlow.workFlowId?(this._workflowService.enableUpdateMode=!0,this._workflowService.currentWorkFlowId=this.sourceWorkFlow.workFlowId):this.sourceWorkFlow.workOrderNumber="Creating",this.getMaterialType(),this.loadExpertiseData(),this.newAction={Id:"0",Name:"",Description:"",Memo:"",Sequence:0},this.getAllActions(),this.isSpinnerVisible=!0,this.actionService.getActionAttributes().subscribe((function(e){t.isSpinnerVisible=!1,e=e.filter((function(t){return t.isActive&&t})),t.actionAttributes=[];var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;(!t.isQuote||"Material List"!=i.description&&"Charges"!=i.description&&"Exclusions"!=i.description&&"Expertise"!=i.description)&&t.isQuote||t.actionAttributes.push({Id:i.taskAttributeId,Name:i.description,Sequence:i.taskAttributeId})}}catch(a){n.e(a)}finally{n.f()}t.actionAttributes=t.actionAttributes.sort((function(t,e){var r=t.Sequence,n=e.Sequence;return r<n?-1:r>n?1:0}))}),(function(e){t.isSpinnerVisible=!1})),this.dropdownSettings={singleSelection:!1,idField:"Id",textField:"Name",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:1,allowSearchFilter:!1},this.loadWorkFlow(),this.getAllPercentages()}},{key:"getAllPercentages",value:function(){var t=this;this.isSpinnerVisible=!0,this.commonService.autoSuggestionSmartDropDownList("[Percent]","PercentId","PercentValue","",!0,0,this.currentUserMasterCompanyId).subscribe((function(e){t.isSpinnerVisible=!1,t.totalPercent=e}))}},{key:"berDetermination",value:function(){if(this.sourceWorkFlow.fixedAmount&&(this.sourceWorkFlow.berThresholdAmount=this.sourceWorkFlow.fixedAmount),this.sourceWorkFlow.percentOfNew1&&(this.sourceWorkFlow.berThresholdAmount=this.sourceWorkFlow.percentOfNew),this.sourceWorkFlow.percentOfReplacement&&(this.sourceWorkFlow.berThresholdAmount=this.sourceWorkFlow.percentOfReplacement),this.sourceWorkFlow.fixedAmount&&this.sourceWorkFlow.percentOfNew){var t=this.sourceWorkFlow.fixedAmount.toString().replace(/\,/g,""),e=this.sourceWorkFlow.percentOfNew.toString().replace(/\,/g,"");this.sourceWorkFlow.berThresholdAmount=Math.min(parseFloat(t),parseFloat(e))}if(this.sourceWorkFlow.percentOfNew&&this.sourceWorkFlow.percentOfReplacement){var r=this.sourceWorkFlow.percentOfReplacement.toString().replace(/\,/g,""),n=this.sourceWorkFlow.percentOfNew.toString().replace(/\,/g,"");this.sourceWorkFlow.berThresholdAmount=Math.min(parseFloat(n),parseFloat(r))}if(this.sourceWorkFlow.fixedAmount&&this.sourceWorkFlow.percentOfReplacement){var i=this.sourceWorkFlow.percentOfReplacement.toString().replace(/\,/g,""),a=this.sourceWorkFlow.fixedAmount.toString().replace(/\,/g,"");this.sourceWorkFlow.berThresholdAmount=Math.min(parseFloat(a),parseFloat(i))}if(this.sourceWorkFlow.fixedAmount&&this.sourceWorkFlow.percentOfNew&&this.sourceWorkFlow.percentOfReplacement){var o=this.sourceWorkFlow.fixedAmount.toString().replace(/\,/g,""),s=this.sourceWorkFlow.percentOfNew.toString().replace(/\,/g,""),l=this.sourceWorkFlow.percentOfReplacement.toString().replace(/\,/g,"");this.sourceWorkFlow.berThresholdAmount=Math.min(parseFloat(o),parseFloat(s),parseFloat(l))}this.sourceWorkFlow.fixedAmount||this.sourceWorkFlow.percentOfNew||this.sourceWorkFlow.percentOfReplacement||(this.sourceWorkFlow.berThresholdAmount=0),this.sourceWorkFlow.fixedAmount=this.sourceWorkFlow.fixedAmount?Object(z.b)(this.sourceWorkFlow.fixedAmount,2):null,this.sourceWorkFlow.berThresholdAmount>0&&(this.sourceWorkFlow.berThresholdAmount=Object(z.b)(this.sourceWorkFlow.berThresholdAmount,2))}},{key:"loadWorkFlow",value:function(){var t=this;if(1!=this._workflowService.enableUpdateMode||this.UpdateMode)this.sourceWorkFlow.workScopeId=0,this.sourceWorkFlow.currencyId=0,this.sourceWorkFlow.percentageOfMaterial=-1,this.sourceWorkFlow.percentageOfExpertise=-1,this.sourceWorkFlow.percentageOfCharges=-1,this.sourceWorkFlow.percentageOfOthers=-1,this.sourceWorkFlow.percentageOfTotal=-1,this.currenttaskId="0",this.loadCurrencyData(),this.loadWorkScopedata();else{var e=this._workflowService.currentWorkFlowId;this.isSpinnerVisible=!0,this.actionService.getWorkFlow(e).subscribe((function(e){t.sourceWorkFlow=e[0],t.sourceWorkFlow.percentageOfMaterial=t.sourceWorkFlow.percentageOfMaterial>0?t.sourceWorkFlow.percentageOfMaterial:-1,t.sourceWorkFlow.percentageOfExpertise=t.sourceWorkFlow.percentageOfExpertise>0?t.sourceWorkFlow.percentageOfExpertise:-1,t.sourceWorkFlow.percentageOfCharges=t.sourceWorkFlow.percentageOfCharges>0?t.sourceWorkFlow.percentageOfCharges:-1,t.sourceWorkFlow.percentageOfOthers=t.sourceWorkFlow.percentageOfOthers>0?t.sourceWorkFlow.percentageOfOthers:-1,t.sourceWorkFlow.percentageOfTotal=t.sourceWorkFlow.percentageOfTotal>0?t.sourceWorkFlow.percentageOfTotal:-1,t.isSpinnerVisible=!1,t.sourceWorkFlow.workflowCreateDate=new Date(t.sourceWorkFlow.workflowCreateDate),t.sourceWorkFlow.workflowExpirationDate=new Date(t.sourceWorkFlow.workflowExpirationDate),t.itemMasterId=t.sourceWorkFlow.itemMasterId,1==t.sourceWorkFlow.isFixedAmount&&t.isFixedcheck("fixed"),1==t.sourceWorkFlow.isPercentageOfNew&&t.isFixedcheck("percentage"),1==t.sourceWorkFlow.isPercentageOfReplacement&&t.isFixedcheck("percentreplace"),null!=t.sourceWorkFlow.customer||null!=t.sourceWorkFlow.customer?(t.sourceWorkFlow.customerName=t.sourceWorkFlow.customer.name,t.sourceWorkFlow.customerCode=t.sourceWorkFlow.customer.customerCode):(t.sourceWorkFlow.customerName="",t.sourceWorkFlow.customerCode=""),t.sourceWorkFlow.costOfNew&&t.sourceWorkFlow.percentageOfNew&&t.onPercentOfNew(t.sourceWorkFlow.costOfNew,t.sourceWorkFlow.percentageOfNew),t.sourceWorkFlow.costOfReplacement&&t.sourceWorkFlow.percentageOfReplacement&&t.onPercentOfReplcaement(t.sourceWorkFlow.costOfReplacement,t.sourceWorkFlow.percentageOfReplacement),t.updateWorkFlowId=t.sourceWorkFlow.workflowId,t.UpdateMode=!0,t.disableUpdateButton=!0,t.arrayItemMasterIdlist.push(t.sourceWorkFlow.itemMasterId),t.loadChangePartItems("",!0),t.loapartItems("",!0,t.sourceWorkFlow.itemMasterId),t.loadCurrencyData(),t.loadWorkScopedata(),t.loadcustomerData(),t.updateMode(e)}),(function(e){t.isSpinnerVisible=!1}))}}},{key:"updateMode",value:function(t){var e=this;this.isSpinnerVisible=!0,this.actionService.getActions().subscribe((function(r){e.isSpinnerVisible=!1;var n=r.sort((function(t,e){var r=t.sequence,n=e.sequence;return r<n?-1:r>n?1:0}),(function(t){e.isSpinnerVisible=!1}));e.isSpinnerVisible=!0,e.actionService.getActionAttributes().subscribe((function(r){e.isSpinnerVisible=!1,e.workFlowList=[];var i=[],a=[];null!=t[0].charges&&(a=t[0].charges.map((function(t){return t.taskId})).filter((function(t,e,r){return r.indexOf(t)===e}))),null!=t[0].directions&&(i=t[0].directions.map((function(t){return t.taskId})).filter((function(t,e,r){return r.indexOf(t)===e}))),null!=t[0].equipments&&(a=a.concat(i),i=t[0].equipments.map((function(t){return t.taskId})).filter((function(t,e,r){return r.indexOf(t)===e}))),null!=t[0].exclusions&&(a=a.concat(i),i=t[0].exclusions.map((function(t){return t.taskId})).filter((function(t,e,r){return r.indexOf(t)===e}))),null!=t[0].expertise&&(a=a.concat(i),i=t[0].expertise.map((function(t){return t.taskId})).filter((function(t,e,r){return r.indexOf(t)===e}))),null!=t[0].materialList&&(a=a.concat(i),i=t[0].materialList.map((function(t){return t.taskId})).filter((function(t,e,r){return r.indexOf(t)===e}))),null!=t[0].measurements&&(a=a.concat(i),i=t[0].measurements.map((function(t){return t.taskId})).filter((function(t,e,r){return r.indexOf(t)===e}))),null!=t[0].publication&&(a=a.concat(i),i=t[0].publication.map((function(t){return t.taskId})).filter((function(t,e,r){return r.indexOf(t)===e}))),a=(a=a.concat(i)).map((function(t){return t})).filter((function(t,e,r){return r.indexOf(t)===e})),e.currenttaskId=a[0],e.workFlowActions=[];var o,s=_createForOfIteratorHelper(a);try{var l=function(){var r=o.value;d=n.filter((function(t){return t.taskId==r}))[0],e.workFlowActions.push(d);var i=e.GetWorkFlow();if(i.taskId=d.taskId,i.ActionName=d.description,i.selectedItems=[],e.UpdateMode&&(i.workflowId=e.updateWorkFlowId),null!=t[0].charges&&t[0].charges.length>0&&(c=t[0].charges.filter((function(t){return t.taskId==d.taskId})),i.charges=c,i.qtySummation=i.charges.reduce((function(t,e){return t+parseFloat(null==e.quantity||""===e.quantity?0:e.quantity)}),0),i.extendedCostSummation=i.charges.reduce((function(t,e){return t+parseFloat(null==e.extendedCost||""===e.extendedCost?0:e.extendedCost)}),0),i.totalChargesCost=i.charges.reduce((function(t,e){return t+parseFloat(null==e.extendedPrice||""===e.extendedPrice?0:e.extendedPrice)}),0)),null!=t[0].directions&&t[0].directions.length>0&&(u=t[0].directions.filter((function(t){return t.taskId==d.taskId})),i.directions=u),null!=t[0].equipments&&t[0].equipments.length>0&&(p=t[0].equipments.filter((function(t){return t.taskId==d.taskId})),i.equipments=p),null!=t[0].exclusions&&t[0].exclusions.length>0&&(h=t[0].exclusions.filter((function(t){return t.taskId==d.taskId})),i.exclusions=h,i.sumofQty=i.exclusions.reduce((function(t,e){return t+parseFloat(null==e.quantity||""===e.quantity?0:e.quantity)}),0),i.sumofExtendedCost=i.exclusions.reduce((function(t,e){return t+parseFloat(null==e.extendedCost||""===e.extendedCost?0:e.extendedCost)}),0)),null!=t[0].expertise&&t[0].expertise.length>0&&(m=t[0].expertise.filter((function(t){return t.taskId==d.taskId})),i.expertise=m,i.sumofestimatedhrs=i.expertise.reduce((function(t,e){return t+parseFloat(void 0===e.estimatedHours||""===e.estimatedHours?0:e.estimatedHours)}),0),i.sumofLabourDirectCost=i.expertise.reduce((function(t,e){return t+parseFloat(void 0===e.directLaborRate||""===e.directLaborRate?0:e.directLaborRate)}),0),i.sumOfOHCost=i.expertise.reduce((function(t,e){return t+parseFloat(void 0===e.overheadCost||""===e.overheadCost?0:e.overheadCost)}),0),i.sumOfOHCost=parseFloat(i.sumOfOHCost.toFixed(2)),i.totalExpertiseCost=i.expertise.reduce((function(t,e){return t+parseFloat(void 0===e.laborOverheadCost||""===e.laborOverheadCost?0:e.laborOverheadCost)}),0),i.totalExpertiseCost=parseFloat(i.totalExpertiseCost.toFixed(2))),null!=t[0].materialList&&t[0].materialList.length>0&&(f=t[0].materialList.filter((function(t){return t.taskId==d.taskId})),i.materialList=f,i.materialQtySummation=i.materialList.reduce((function(t,e){return t+parseFloat(null==e.quantity||""===e.quantity?0:e.quantity)}),0),i.materialExtendedCostSummation=i.materialList.reduce((function(t,e){return t+parseFloat(null==e.extendedCost||""===e.extendedCost?0:e.extendedCost)}),0),i.totalMaterialCostValue=i.materialExtendedCostSummation,i.totalMaterialCost=i.materialList.reduce((function(t,e){return t+parseFloat(null==e.price||""===e.price?0:e.price)}),0),i.materialExtendedPriceSummation=i.materialList.reduce((function(t,e){return t+parseFloat(null==e.extendedPrice||""===e.extendedPrice?0:e.extendedPrice)}),0)),null!=t[0].measurements&&t[0].measurements.length>0&&(b=t[0].measurements.filter((function(t){return t.taskId==d.taskId})),i.measurements=b),null!=t[0].publication&&t[0].publication.length>0){v=t[0].publication.filter((function(t){return t.taskId==d.taskId})),i.publication=v;var a,s=_createForOfIteratorHelper(i.publication);try{var l=function(){var t=a.value;e.actionService.GetPublicationModel(t.aircraftManufacturer).subscribe((function(e){t.publicationModels=e}),(function(t){return e.errorMessage=t}));var r,n=_createForOfIteratorHelper(t.workflowPublicationDashNumbers);try{for(n.s();!(r=n.n()).done;){var i=r.value;i.dashNumberId=i.aircraftDashNumberId}}catch(o){n.e(o)}finally{n.f()}};for(s.s();!(a=s.n()).done;)l()}catch(g){s.e(g)}finally{s.f()}}e.workFlowList.push(i)};for(s.s();!(o=s.n()).done;){var d,c,u,p,h,m,f,b,v;l()}}catch(g){s.e(g)}finally{s.f()}e.workFlow=e.workFlowList[0],null!=e.workFlow&&(e.setSelectedItems(e.workFlow),e.showMainPage=!0),setTimeout((function(){e.selectedItems.length>0&&e.setCurrentPanel(e.selectedItems[0].Name,e.selectedItems[0].Id)}),1e3),e.calculateTotalWorkFlowCost(!1)}),(function(t){e.isSpinnerVisible=!1}))}),(function(t){e.isSpinnerVisible=!1}))}},{key:"getActionsDD",value:function(){var t=this;this.isSpinnerVisible=!0,this._workflowService.getWorkFlowActions().subscribe((function(e){t.isSpinnerVisible=!1,e&&e[0].length>0&&(t.actionsDD=[{taskId:"",description:""}].concat(e[0])),t.loadedDDs.actions=!0,t.loadedDDs.actionAttributes&&t.getSelectedWorkflowActions()}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getMaterialType",value:function(){var t=this;this.isSpinnerVisible=!0,this._workflowService.getMaterialType().subscribe((function(e){t.materailTypeList=e,t.isSpinnerVisible=!1}),(function(e){t.isSpinnerVisible=!1}))}},{key:"loadExpertiseData",value:function(){var t=this;this.isSpinnerVisible=!0,this.expertiseService.getWorkFlows().subscribe((function(e){t.isSpinnerVisible=!1,t.employeeExplist=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getActionAttributesDD",value:function(){var t=this;this.isSpinnerVisible=!0,this._workflowService.getActionAttributes().subscribe((function(e){if(t.isSpinnerVisible=!1,e&&e[0].length>0){for(var r=[],n=0;n<e[0].length;n++)r.push({value:e[0][n].taskAttributeId,label:e[0][n].description});t.actionsAttributesDD=r,t.actionsAttributesDD.forEach((function(e){t.actionAttributeTabs.forEach((function(t){t.label==e.label&&(t.value=e.value)}))}))}t.loadedDDs.actionAttributes=!0,t.loadedDDs.actions&&t.getSelectedWorkflowActions()}),(function(e){t.isSpinnerVisible=!1}))}},{key:"filterpartItems",value:function(t){void 0!==t.query&&null!==t.query&&this.loapartItems(t.query)}},{key:"loapartItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.UpdateMode&&(n=this.sourceWorkFlow.changedPartNumberId?this.sourceWorkFlow.changedPartNumberId:0),0==this.arrayItemMasterIdlist.length&&0==n?this.arrayItemMasterIdlist.push(0):this.arrayItemMasterIdlist.push(n),this.commonService.autoSuggestionSmartDropDownList("ItemMaster","ItemMasterId","PartNumber",e,!0,20,this.arrayItemMasterIdlist.join(),this.currentUserMasterCompanyId).subscribe((function(e){t.isSpinnerVisible=!1,t.partCollection=e.map((function(e){return r&&t.sourceWorkFlow.partNumber==e.label&&(t.sourceWorkFlow.part={partId:e.value,partName:e.label}),{partId:e.value,partName:e.label}}))}),(function(e){t.isSpinnerVisible=!1}))}},{key:"loadChangePartItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isSpinnerVisible=!0;var n=0;this.UpdateMode&&this.sourceWorkFlow&&(n=this.sourceWorkFlow.changedPartNumberId?this.sourceWorkFlow.changedPartNumberId:0),0==this.arrayItemMasterIdlist.length&&0==n?this.arrayItemMasterIdlist.push(0):this.arrayItemMasterIdlist.push(n),this.commonService.autoSuggestionSmartDropDownList("ItemMaster","ItemMasterId","PartNumber",e,!0,20,this.arrayItemMasterIdlist.join(),this.currentUserMasterCompanyId).subscribe((function(e){t.isSpinnerVisible=!1,t.changedPartCollection=e.map((function(e){return r&&t.sourceWorkFlow.changedPartNumberId==e.value&&(t.sourceWorkFlow.changedPart={partId:e.value,partName:e.label}),{partId:e.value,partName:e.label}})),t.sourceWorkFlow.part&&t.sourceWorkFlow.part.partId&&(t.changedPartCollection=t.partCollection.reduce((function(e,r){return e.filter((function(e){return e.partId!==t.sourceWorkFlow.part.partId}))}),t.partCollection))}),(function(e){t.isSpinnerVisible=!1}))}},{key:"filterChangedPartItems",value:function(t){void 0!==t.query&&null!==t.query&&this.loadChangePartItems(t.query)}},{key:"onPartSelect",value:function(t){var e=this;this.isSpinnerVisible=!0,this.itemser.getItemMasterDetailById(this.sourceWorkFlow.part.partId).subscribe((function(t){e.isSpinnerVisible=!1,e.sourceWorkFlow.itemMasterId=t[0].itemMasterId,e.sourceWorkFlow.partNumber=t[0].partNumber,e.sourceWorkFlow.partNumberDescription=t[0].partDescription,e.sourceWorkFlow.itemGroup=t[0].itemGroup,e.UpdateMode&&(e.disableUpdateButton=!1),null!=e.workFlow&&(e.workFlow.partNumber=e.sourceWorkFlow.part.partId),null!=e.sourceWorkFlow.changedPart&&e.sourceWorkFlow.part.partId==e.sourceWorkFlow.changedPart.partId&&(e.sourceWorkFlow.changedPart=void 0,e.sourceWorkFlow.changedPartNumberId="",e.sourceWorkFlow.changedPartNumber="",e.sourceWorkFlow.changedPartNumberDescription=""),e.itemMasterId=e.sourceWorkFlow.itemMasterId}),(function(t){e.isSpinnerVisible=!1}))}},{key:"checkEnableUpdate",value:function(){this.UpdateMode&&(this.disableUpdateButton=!1)}},{key:"onChangedPartSelect",value:function(t){var e=this;this.isSpinnerVisible=!0,this.itemser.getItemMasterDetailById(this.sourceWorkFlow.changedPart.partId).subscribe((function(t){e.isSpinnerVisible=!1,e.sourceWorkFlow.changedPartNumberId=t[0].itemMasterId,e.sourceWorkFlow.changedPartNumber=t[0].partNumber,e.sourceWorkFlow.changedPartNumberDescription=t[0].partDescription,e.UpdateMode&&(e.disableUpdateButton=!1),null!=e.workFlow&&(e.workFlow.changedPartNumber=e.sourceWorkFlow.changedPart.partId)}),(function(t){e.isSpinnerVisible=!1}))}},{key:"isCalculatedBERThreshold",value:function(t){"calculate"==t&&(this.isCalculate=!0,this.isFlat=!1),"flat"==t&&(this.isCalculate=!1,this.isFlat=!0)}},{key:"setCalculatedBERThreshold",value:function(t){this.sourceWorkFlow.isFixedAmount=t.isFixedAmount,this.sourceWorkFlow.isPercentageofNew=t.isPercentageofNew,this.sourceWorkFlow.isPercentageOfReplacement=t.isPercentageOfReplacement,this.sourceWorkFlow.fixedAmount=t.fixedAmount,this.sourceWorkFlow.costOfNew=t.costOfNew,this.sourceWorkFlow.percentageOfNew=t.percentageOfNew,this.sourceWorkFlow.costOfReplacement=t.costOfReplacement,this.sourceWorkFlow.percentageOfReplacement=t.percentageOfReplacement}},{key:"resetBERThreshold",value:function(){this.isFixed=!1,this.ispercent=!1,this.percentreplcae=!1,this.sourceWorkFlow.isFixedAmount=!1,this.sourceWorkFlow.isPercentageofNew=!1,this.sourceWorkFlow.isPercentageOfReplacement=!1}},{key:"isFixedcheck",value:function(t){this.UpdateMode&&(this.disableUpdateButton=!1),"fixed"==t&&(this.isFixed=!0,this.sourceWorkFlow.isFixedAmount=!0),"percentage"==t&&(this.ispercent=!0,this.sourceWorkFlow.isPercentageofNew=!0),"percentreplace"==t&&(this.percentreplcae=!0,this.sourceWorkFlow.isPercentageOfReplacement=!0)}},{key:"isFixedUnchecked",value:function(t){t.target.checked||(this.isFixed=!1,this.sourceWorkFlow.isFixedAmount=!1,this.sourceWorkFlow.fixedAmount=void 0)}},{key:"isPercentageUnchecked",value:function(t){t.target.checked||(this.ispercent=!1,this.sourceWorkFlow.isPercentageofNew=!1,this.sourceWorkFlow.percentOfNew=void 0,this.sourceWorkFlow.percentageOfNew="",this.sourceWorkFlow.costOfNew="")}},{key:"isPercentreplcaeUnchecked",value:function(t){t.target.checked||(this.percentreplcae=!1,this.sourceWorkFlow.percentreplcae=!1,this.sourceWorkFlow.percentOfReplacement="",this.sourceWorkFlow.costOfReplacement="",this.sourceWorkFlow.percentageOfReplacement="")}},{key:"loadWorkScopedata",value:function(){var t=this,e=this.sourceWorkFlow.workScopeId?this.sourceWorkFlow.workScopeId:"0";this.arrayworkScopeIdlist.push(e),this.commonService.autoSuggestionSmartDropDownList("WorkScope","WorkScopeId","Description","",!0,100,this.arrayworkScopeIdlist.join(),this.currentUserMasterCompanyId).subscribe((function(e){t.worksScopeCollection=e.map((function(t){return Object.assign({},t,{workScopeId:t.value,description:t.label})}))}),(function(e){t.isSpinnerVisible=!1}))}},{key:"loadCurrencyData",value:function(){var t=this,e=this.sourceWorkFlow.currencyId?this.sourceWorkFlow.currencyId:"0";0==this.arraycurrencyIdlist.length&&0==e?this.arraycurrencyIdlist.push(0):this.arraycurrencyIdlist.push(e),this.commonService.autoSuggestionSmartDropDownList("Currency","CurrencyId","Code","",!0,0,this.arraycurrencyIdlist.join(),this.currentUserMasterCompanyId).subscribe((function(e){t.allCurrencyData=e.map((function(t){return Object.assign({},t,{currencyId:t.value,code:t.label})}))}),(function(e){t.isSpinnerVisible=!1}))}},{key:"onCustomerNameselected",value:function(t){this.UpdateMode&&(this.disableUpdateButton=!1);for(var e=0;e<this.customerNamecoll.length;e++)t==this.customerNamecoll[e][0].name&&(this.sourceWorkFlow.customerId=this.customerNamecoll[e][0].customerId,this.sourceWorkFlow.customerCode=this.customerNamecoll[e][0].customerCode)}},{key:"filterNames",value:function(t){void 0!==t.query&&null!==t.query&&this.loadcustomerData(t.query)}},{key:"loadcustomerData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=0;this.updateMode&&(r=this.sourceWorkFlow.customerId?this.sourceWorkFlow.customerId:0),0==this.arrayCustomerIdlist.length&&0==r?this.arrayCustomerIdlist.push(0):this.arrayCustomerIdlist.push(r),this.commonService.autoSuggestionSmartDropDownList("Customer","CustomerId","Name",e,!0,20,this.arrayCustomerIdlist.join(),this.currentUserMasterCompanyId).subscribe((function(e){t.customerNames=e.map((function(e){return t.isSpinnerVisible=!1,t.sourceWorkFlow.customerId==e.value&&(t.sourceWorkFlow.customerName={customerId:e.value,customerName:e.label}),{customerId:e.value,customerName:e.label}}),(function(e){t.isSpinnerVisible=!1}))}))}},{key:"getSelectedWorkflowActions",value:function(){var t=this;this.isWorkFlowEdit&&(this.isSpinnerVisible=!0,this._workflowService.getWorkflowActionAttributes(this.selectedWorkflow.workflowId).subscribe((function(e){t.isSpinnerVisible=!1,e&&e[0].length>0&&(t.workflowActions=e[0],t.addedtaskIds=t.workflowActions.map((function(t){return t.taskId})))}),(function(e){t.isSpinnerVisible=!1}))),this.workflowActions=[{workflowId:"",taskId:2,workflowActionAttributeIds:"11,12,13"},{workflowId:"",taskId:3,workflowActionAttributeIds:"14,15,16"},{workflowId:"",taskId:4,workflowActionAttributeIds:"16,17,36"}],this.addedtaskIds=[2,3,4],this.displaySelectedAction(this.workflowActions[0])}},{key:"onActionValueChange",value:function(t){if(Number(t.target.value)>0){this.selectedActionAttributes=[];var e=this.addedtaskIds.indexOf(Number(t.target.value));e>=0&&(this.selectedActionAttributes=this.workflowActions[e].workflowActionAttributeIds.split(","))}else this.selectedActionAttributes=[]}},{key:"onActionSelect",value:function(t){var e=this.workflowActions.find((function(e){return e.taskId==t.taskId}));e&&this.displaySelectedAction(e)}},{key:"displaySelectedAction",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.actionsDD.find((function(e){return e.taskId==t.taskId}));this.selectedAction!=n&&(this.selectedAction=n),this.actionAttributeTabs.forEach((function(t){t.visible=!1,t.selected=!1})),t.workflowActionAttributeIds.split(",").forEach((function(t){e.actionAttributeTabs.forEach((function(e){e.value==t&&(e.visible=!0)}))}));var i=this.actionAttributeTabs.find((function(t){return t.visible}));i&&(i.selected=!0),r&&this.isWorkFlowEdit}},{key:"addActionAttributes",value:function(){var t=this;if(this.actionValue&&""!=this.actionValue&&this.selectedActionAttributes&&this.selectedActionAttributes.length>0){var e={workflowId:"",taskId:Number(this.actionValue),workflowActionAttributeIds:this.selectedActionAttributes.join(",")},r=this.workflowActions.find((function(e){return e.taskId==t.actionValue}));r?r.workflowActionAttributeIds=e.workflowActionAttributeIds:(this.workflowActions.push(e),this.addedtaskIds.push(Number(this.actionValue)),r=e),this.displaySelectedAction(r)}}},{key:"onMaterialCostChange",value:function(t){if(this.EstMaterialCost=0,this.MaterialCost){t=-1==t||"-1"==t?0:t;var e=parseFloat(this.MaterialCost.toString().replace(/\,/g,""))/100*t;this.EstMaterialCost=Object(z.b)(e,2)}else this.EstMaterialCost=0}},{key:"onExpertiseCostChange",value:function(t){if(this.EstTotalExpertiseCost=0,this.TotalExpertiseCost){t=-1==t||"-1"==t?0:t;var e=parseFloat(this.TotalExpertiseCost.toString().replace(/\,/g,""))/100*t;this.EstTotalExpertiseCost=Object(z.b)(e,2)}else this.EstTotalExpertiseCost=0}},{key:"onChargesChange",value:function(t){if(this.EstTotalCharges=0,this.TotalCharges){t=-1==t||"-1"==t?0:t;var e=parseFloat(this.TotalCharges.toString().replace(/\,/g,""))/100*t;this.EstTotalCharges=Object(z.b)(e,2)}else this.EstTotalCharges=0}},{key:"onOtherChange",value:function(t){if(this.EstTotalOthers=0,this.sourceWorkFlow.otherCost){t=-1==t||"-1"==t?0:t;var e=parseFloat(this.sourceWorkFlow.otherCost.toString().replace(/\,/g,""))/100*t;this.EstTotalOthers=Object(z.b)(e,2)}else this.EstTotalOthers=0}},{key:"onTotalChange",value:function(t){if(this.TotalEst=0,this.Total){t=-1==t||"-1"==t?0:t;var e=parseFloat(this.Total.toString().replace(/\,/g,""))/100*t;this.TotalEst=Object(z.b)(e,2)}else this.TotalEst=0}},{key:"onPercentOfNew",value:function(t,e){if(this.sourceWorkFlow.costOfNew=this.sourceWorkFlow.costOfNew?Object(z.b)(this.sourceWorkFlow.costOfNew,2):null,this.sourceWorkFlow.percentOfNew="",t){var r=(t=parseFloat(t.toString().replace(/\,/g,"")))/100*e;this.sourceWorkFlow.percentOfNew=Object(z.b)(r,2)}else this.sourceWorkFlow.percentOfNew=0;this.berDetermination()}},{key:"onPercentOfReplcaement",value:function(t,e){if(this.sourceWorkFlow.costOfReplacement=this.sourceWorkFlow.costOfReplacement?Object(z.b)(this.sourceWorkFlow.costOfReplacement,2):null,this.sourceWorkFlow.percentOfReplacement="",t){var r=(t=parseFloat(t.toString().replace(/\,/g,"")))/100*e;this.sourceWorkFlow.percentOfReplacement=Object(z.b)(r,2)}else this.sourceWorkFlow.percentOfReplacement=0;this.berDetermination()}},{key:"defualtChargesListobj",value:function(){return{type:"",qty:"",unitcost:"",extcost:"",taskId:""}}},{key:"defualtDrectObj",value:function(){return{action:"",directionName:"",sequence:"",memo:""}}},{key:"defualtEquipmentObj",value:function(){return{partNumber:"",partDescription:"",itemClassification:"",qty:""}}},{key:"defualtExclsuionObj",value:function(){return{epn:"",epndescription:"",cost:"",notes:""}}},{key:"defualtExpertiseObj",value:function(){return{expertiseType:"",estimatedHours:"",standardRate:"",estimatedRate:""}}},{key:"defualtMaterialListobj",value:function(){return{partNumber:"",partDescription:"",itemClassification:"",qty:"",uom:"",condition:"",unitcost:"",extcost:"",provision:"",deffered:"",figureId:"",taskId:""}}},{key:"getWorkFlowMaterial",value:function(){var t=this;this.isSpinnerVisible=!0,this._workflowService.getWorkFlowMaterial().subscribe((function(e){t.isSpinnerVisible=!1,t.workflowMaterails=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getWorkFlowChargeList",value:function(){var t=this;this.isSpinnerVisible=!0,this._workflowService.getChargeList().subscribe((function(e){t.isSpinnerVisible=!1,t.workflowCharges=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getWorkFlowEquipment",value:function(){var t=this;this.isSpinnerVisible=!0,this._workflowService.getWorkFlowEquipmentList().subscribe((function(e){t.isSpinnerVisible=!1,t.workflowEquipment=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getWorkFlowExpertise",value:function(){var t=this;this.isSpinnerVisible=!0,this._workflowService.getWorkflowExpertise().subscribe((function(e){t.isSpinnerVisible=!1,t.workflowExpertise=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"GetPartNumberList",value:function(){var t=this;this.isSpinnerVisible=!0,this.itemser.getPartDetailsDropdown().subscribe((function(e){if(t.isSpinnerVisible=!1,t.allParts=e,t.updateMode){var r=t.allParts.filter((function(e){return e.itemMasterId==t.sourceWorkFlow.itemMasterId}));if(r.length>0&&(t.sourceWorkFlow.part={partId:r[0].itemMasterId,partName:r[0].partNumber,description:r[0].partDescription}),null!=t.sourceWorkFlow.changedPartNumberId&&null!=t.sourceWorkFlow.changedPartNumberId&&""!=t.sourceWorkFlow.changedPartNumberId){var n=t.allParts.filter((function(e){return e.itemMasterId==t.sourceWorkFlow.changedPartNumberId}));n.length>0&&(t.sourceWorkFlow.changedPart={partId:n[0].itemMasterId,partName:n[0].partNumber,description:n[0].partDescription})}}}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getDefaultConditionId",value:function(t){var e=this;if(null!=this.allconditioninfo&&this.allconditioninfo.length>0){var r=this.allconditioninfo.find((function(e){return e.description.trim().toLowerCase()==t.toLowerCase()}));return null!=r?r.conditionId:0}this.isSpinnerVisible=!0,this.conditionService.getConditionList().subscribe((function(r){e.isSpinnerVisible=!1,e.allconditioninfo=r[0];var n=e.allconditioninfo.find((function(e){return e.description.trim().toLowerCase()==t.toLowerCase()}));return null!=n?n.conditionId:0}),(function(t){e.isSpinnerVisible=!1}))}},{key:"loadConditionData",value:function(){var t=this;this.isSpinnerVisible=!0,this.conditionService.getConditionList().subscribe((function(e){t.isSpinnerVisible=!1,t.allconditioninfo=e[0]}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getDefaultUOMId",value:function(t){var e=this.allUomdata.filter((function(e){return e.shortName==t}));return e.length>0?e[0].unitOfMeasureId:""}},{key:"loadUOMData",value:function(){var t=this;this.isSpinnerVisible=!0,this.unitofmeasureService.getUnitOfMeasureList().subscribe((function(e){t.isSpinnerVisible=!1,t.allUomdata=e[0]}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getDefaultMaterialMandatoryId",value:function(t){var e=this.materialMandatory.filter((function(e){return e.name==t}));return e.length>0?e.id:""}},{key:"getMaterialMandatory",value:function(){var t=this;this.isSpinnerVisible=!0,this.actionService.GetMaterialMandatory().subscribe((function(e){t.isSpinnerVisible=!1,t.materialMandatory=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"loadItemClassData",value:function(){var t=this;this.isSpinnerVisible=!0,this.itemClassService.getWorkFlows().subscribe((function(e){t.isSpinnerVisible=!1,t.itemClassInfo=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"onDataLoadFailed",value:function(t){var e=t,r="";if(e.message){if(e.error&&e.error.errors.length>0)for(var n=0;n<e.error.errors.length;n++)r=r+e.error.errors[n].message+"<br/>";this.alertService.showMessage(e.error.message,r,D.d.error)}else this.alertService.showMessage("Error",t.error,D.d.error)}},{key:"getAllActions",value:function(){var t=this;this.isSpinnerVisible=!0,this.actionService.getActions().subscribe((function(e){t.isSpinnerVisible=!1,t.actions=[];var r,n=_createForOfIteratorHelper(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;t.actions.push({Id:i.taskId,Name:i.description,Description:"",Memo:"",Sequence:i.sequence})}}catch(a){n.e(a)}finally{n.f()}t.actions=t.actions.sort((function(t,e){var r=t.Sequence,n=e.Sequence;return r<n?-1:r>n?1:0}))}),(function(e){t.isSpinnerVisible=!1}))}},{key:"setCurrentPanel",value:function(t,e){this.currentPanelId=e,this.workFlow.partNumber=this.sourceWorkFlow.itemMasterId,t=t.replace(" ","_");for(var r=document.getElementsByClassName("pan"),n=0;n<r.length;n++)r[n].classList.remove("active"),r[n].classList.remove("in");null!=document.getElementById("tab_"+t)&&(document.getElementById("tab_"+t).classList.remove("fade"),document.getElementById("tab_"+t).classList.add("in"),document.getElementById("tab_"+t).classList.add("active"))}},{key:"SetCurrectTab",value:function(t,e){var r=this;this.currenttaskId=t,void 0===e&&null===e||(this.selectedSideTabIndex=e),this.workFlow=this.workFlowList.filter((function(t){return t.taskId==r.currenttaskId}))[0];for(var n=document.getElementsByClassName("actrmv"),i=0;i<n.length;i++)n[i].classList.add("active");for(i=0;i<this.workFlowList.length;i++)document.getElementById("tab_"+this.workFlowList[i].taskId).classList.remove("active");document.getElementById("tab_"+t).classList.add("active"),(null!=this.workFlow.selectedItems||this.workFlow.selectedItems.length>0)&&this.setSelectedItems(this.workFlow),this.selectedItems=this.workFlow.selectedItems}},{key:"AddPage",value:function(){this.route.navigateByUrl("/itemmastersmodule/itemmasterpages/app-item-master-stock")}},{key:"AddPageCustomer",value:function(){this.route.navigateByUrl("/customersmodule/customerpages/app-customer-general-information")}},{key:"getDashNumbers",value:function(t){}},{key:"AddActionAttribute",value:function(){var t=this;if(this.selectedSideTabIndex=0,this.selectedItems.length>0)if(null!=this.workFlowList&&this.workFlowList.length>0){for(var e=this.GetWorkFlow(),r=!1,n=0;n<this.workFlowList.length;n++)if(this.workFlowList[n].taskId==e.taskId){r=!0;for(var i=0;i<this.selectedItems.length;i++)"Charges"==this.selectedItems[i].Name&&(null==this.workFlowList[n].charges||null!=this.workFlowList[n].charges&&0==this.workFlowList[n].charges.length)&&(a=this.GetCharges(),this.UpdateMode&&(a[0].taskId=this.currenttaskId,a[0].workflowId=this.updateWorkFlowId),this.workFlowList[n].qtySummation=0,this.workFlowList[n].extendedCostSummation=0,this.workFlowList[n].totalChargesCost=0,this.workFlowList[n].charges=a),"Directions"==this.selectedItems[i].Name&&(null==this.workFlowList[n].directions||null!=this.workFlowList[n].directions&&0==this.workFlowList[n].directions.length)&&(o=this.GetDirections(),this.UpdateMode&&(o[0].taskId=this.currenttaskId,o[0].workflowId=this.updateWorkFlowId),this.workFlowList[n].directions=o),"Tools"==this.selectedItems[i].Name&&(null==this.workFlowList[n].equipments||null!=this.workFlowList[n].equipments&&0==this.workFlowList[n].equipments.length)&&(s=this.GetEquipmentList(),this.UpdateMode&&(s[0].taskId=this.currenttaskId,s[0].workflowId=this.updateWorkFlowId,s[0].taskId=this.currenttaskId),this.workFlowList[n].equipments=s),"Expertise"==this.selectedItems[i].Name&&(null==this.workFlowList[n].expertise||null!=this.workFlowList[n].expertise&&0==this.workFlowList[n].expertise.length)&&(l=this.GetExpertise(),this.UpdateMode&&(l[0].taskId=this.currenttaskId,l[0].workflowId=this.updateWorkFlowId),this.workFlowList[n].sumofestimatedhrs=0,this.workFlowList[n].sumofLabourDirectCost=0,this.workFlowList[n].sumOfOHCost=0,this.workFlowList[n].totalExpertiseCost=0,this.workFlowList[n].expertise=l),"Material List"==this.selectedItems[i].Name&&(null==this.workFlowList[n].materialList||null!=this.workFlowList[n].materialList&&0==this.workFlowList[n].materialList.length)&&(d=this.GetMaterialList(),this.UpdateMode&&(d[0].taskId=this.currenttaskId,d[0].workflowId=this.updateWorkFlowId),this.workFlowList[n].materialQtySummation=0,this.workFlowList[n].materialExtendedCostSummation=0,this.workFlowList[n].totalMaterialCost=0,this.workFlowList[n].materialList=d),"Publications"==this.selectedItems[i].Name&&(null==this.workFlowList[n].publication||null!=this.workFlowList[n].publication&&0==this.workFlowList[n].publication.length)&&(c=this.GetPublication(),this.UpdateMode&&(c[0].taskId=this.currenttaskId,c[0].workflowId=this.updateWorkFlowId),this.workFlowList[n].publication=c),"Exclusions"==this.selectedItems[i].Name&&(null==this.workFlowList[n].exclusions||null!=this.workFlowList[n].exclusions&&0==this.workFlowList[n].exclusions.length)&&(u=this.GetExclusions(),this.UpdateMode&&(u[0].taskId=this.currenttaskId,u[0].workflowId=this.updateWorkFlowId),this.workFlowList[n].sumofQty=0,this.workFlowList[n].sumofExtendedCost=0,this.workFlowList[n].exclusions=u),"Measurements"==this.selectedItems[i].Name&&(null==this.workFlowList[n].measurements||null!=this.workFlowList[n].measurements&&0==this.workFlowList[n].measurements.length)&&(p=this.GetMeasurements(),this.UpdateMode&&(p[0].taskId=this.currenttaskId,p[0].workflowId=this.updateWorkFlowId),this.workFlowList[n].measurements=p);this.workFlowList[n].selectedItems=this.selectedItems,this.workFlow=this.workFlowList[n]}if(!r){for(n=0;n<this.selectedItems.length;n++)"Charges"==this.selectedItems[n].Name&&(a=this.GetCharges(),this.UpdateMode&&(a[0].taskId=this.currenttaskId,a[0].workflowId=this.updateWorkFlowId),e.qtySummation=0,e.extendedCostSummation=0,e.totalChargesCost=0,e.charges=a),"Directions"==this.selectedItems[n].Name&&(o=this.GetDirections(),this.UpdateMode&&(o[0].taskId=this.currenttaskId,o[0].workflowId=this.updateWorkFlowId),e.directions=o),"Tools"==this.selectedItems[n].Name&&(s=this.GetEquipmentList(),this.UpdateMode&&(s[0].taskId=this.currenttaskId,s[0].workflowId=this.updateWorkFlowId),e.equipments=s),"Expertise"==this.selectedItems[n].Name&&(l=this.GetExpertise(),this.UpdateMode&&(l[0].taskId=this.currenttaskId,l[0].workflowId=this.updateWorkFlowId),e.sumofestimatedhrs=0,e.sumofLabourDirectCost=0,e.sumOfOHCost=0,e.totalExpertiseCost=0,e.expertise=l),"Material List"==this.selectedItems[n].Name&&(d=this.GetMaterialList(),this.UpdateMode&&(d[0].taskId=this.currenttaskId,d[0].workflowId=this.updateWorkFlowId),e.materialQtySummation=0,e.materialExtendedCostSummation=0,e.totalMaterialCost=0,e.materialList=d),"Publications"==this.selectedItems[n].Name&&(c=this.GetPublication(),this.UpdateMode&&(c[0].taskId=this.currenttaskId,c[0].workflowId=this.updateWorkFlowId),e.publication=c),"Exclusions"==this.selectedItems[n].Name&&(u=this.GetExclusions(),this.UpdateMode&&(u[0].taskId=this.currenttaskId,u[0].workflowId=this.updateWorkFlowId),e.sumofQty=0,e.sumofExtendedCost=0,e.exclusions=u),"Measurements"==this.selectedItems[n].Name&&(p=this.GetMeasurements(),this.UpdateMode&&(p[0].taskId=this.currenttaskId,p[0].workflowId=this.updateWorkFlowId),e.measurements=p);e.selectedItems=this.selectedItems,this.workFlowList.push(e),this.workFlow=e}}else{for(this.workFlowList=[],(e=this.GetWorkFlow()).selectedItems=this.selectedItems,this.workFlowList.push(e),n=0;n<this.selectedItems.length;n++){var a,o,s,l,d,c,u,p;"Charges"==this.selectedItems[n].Name&&(a=this.GetCharges(),this.UpdateMode&&(a[0].taskId=this.currenttaskId,a[0].workflowId=this.updateWorkFlowId,a[0].taskId=this.currenttaskId),this.workFlowList[0].qtySummation=0,this.workFlowList[0].extendedCostSummation=0,this.workFlowList[0].totalChargesCost=0,this.workFlowList[0].charges=a),"Directions"==this.selectedItems[n].Name&&(o=this.GetDirections(),this.UpdateMode&&(o[0].taskId=this.currenttaskId,o[0].workflowId=this.updateWorkFlowId,o[0].taskId=this.currenttaskId),this.workFlowList[0].directions=o),"Tools"==this.selectedItems[n].Name&&(s=this.GetEquipmentList(),this.UpdateMode&&(s[0].taskId=this.currenttaskId,s[0].workflowId=this.updateWorkFlowId,s[0].taskId=this.currenttaskId),this.workFlowList[0].equipments=s),"Expertise"==this.selectedItems[n].Name&&(l=this.GetExpertise(),this.UpdateMode&&(l[0].taskId=this.currenttaskId,l[0].workflowId=this.updateWorkFlowId,l[0].taskId=this.currenttaskId),this.workFlowList[0].sumofestimatedhrs=0,this.workFlowList[0].sumofLabourDirectCost=0,this.workFlowList[0].sumOfOHCost=0,this.workFlowList[0].totalExpertiseCost=0,this.workFlowList[0].expertise=l),"Material List"==this.selectedItems[n].Name&&(d=this.GetMaterialList(),this.UpdateMode&&(d[0].taskId=this.currenttaskId,d[0].workflowId=this.updateWorkFlowId,d[0].taskId=this.currenttaskId),this.workFlowList[0].materialQtySummation=0,this.workFlowList[0].materialExtendedCostSummation=0,this.workFlowList[0].totalMaterialCost=0,this.workFlowList[0].materialList=d,this.workFlowList[0].materialList=d),"Publications"==this.selectedItems[n].Name&&(c=this.GetPublication(),this.UpdateMode?(c[0].taskId=this.currenttaskId,c[0].workflowId=this.updateWorkFlowId,c[0].taskId=this.currenttaskId):(this.workFlowList[0].materialQtySummation=0,this.workFlowList[0].materialExtendedCostSummation=0,this.workFlowList[0].totalMaterialCost=0),this.workFlowList[0].publication=c),"Exclusions"==this.selectedItems[n].Name&&(u=this.GetExclusions(),this.UpdateMode?(u[0].taskId=this.currenttaskId,u[0].workflowId=this.updateWorkFlowId,a[0].taskId=this.currenttaskId):(this.workFlowList[0].sumofQty=0,this.workFlowList[0].sumofExtendedCost=0),this.workFlowList[0].exclusions=u),"Measurements"==this.selectedItems[n].Name&&(p=this.GetMeasurements(),this.UpdateMode&&(p[0].taskId=this.currenttaskId,p[0].workflowId=this.updateWorkFlowId,p[0].taskId=this.currenttaskId),this.workFlowList[0].measurements=p)}this.workFlow=this.workFlowList[0]}else{var h=this.workFlowList.filter((function(e){return e.taskId==t.currenttaskId}));null!=h&&h.length>0&&(h[0].charges=[],h[0].directions=[],h[0].equipments=[],h[0].exclusions=[],h[0].expertise=[],h[0].materialList=[],h[0].measurements=[],h[0].publication=[],h[0].selectedItems=[],this.workFlow=h)}this.showMainPage=!0,this.selectedItems.length>0?setTimeout((function(){t.setCurrentPanel(t.selectedItems[0].Name,t.selectedItems[0].Id)}),1e3):setTimeout((function(){t.setCurrentPanel("",t.currentPanelId)}),1e3)}},{key:"GetWorkFlow",value:function(){var t=null!=this.currenttaskId?this.currenttaskId:"0",e="";return this.actions.forEach((function(r,n){r.Id==t&&(e=r.Name)})),{workflowId:"0",taskId:t,ActionName:e,charges:void 0,directions:void 0,equipments:void 0,expertise:void 0,materialList:void 0,publication:void 0,exclusions:void 0,measurements:void 0,selectedItems:[],order:this.workFlowList.length+1}}},{key:"openTab",value:function(t,e){var r,n,i;for(n=document.getElementsByClassName("tabcontent"),r=0;r<n.length;r++)n[r].style.display="none";for(i=document.getElementsByClassName("tablinks"),r=0;r<i.length;r++)i[r].className=i[r].className.replace(" active","");document.getElementById(e).style.display="block",t.currentTarget.className+=" active"}},{key:"GetMeasurements",value:function(){return[{workflowMeasurementId:"0",itemMasterId:"",sequence:"",stage:"",min:"",max:"",expected:"",diagramURL:"",memo:"",taskId:"",masterCompanyId:"",workflowId:"",AllowEdit:!0,isDelete:!1}]}},{key:"GetExclusions",value:function(){return[{workFlowExclusionId:"0",itemMasterId:"",unitCost:"",quantity:"",extendedCost:"",estimtPercentOccurrance:"",memo:"",masterCompanyId:"",taskId:"",workflowId:"",AllowEdit:!0,isDelete:!1}]}},{key:"GetPublication",value:function(){return[{id:"0",publicationId:"",publication:"",publicationType:"",sequence:"",source:"",aircraftManufacturer:"",model:"",location:"",revision:"",revisionDate:"",verifiedBy:"",verifiedDate:"",status:"",image:"",taskId:"",workflowId:"",AllowEdit:!0,isDeleted:!1}]}},{key:"GetCharges",value:function(){return[{workflowChargesListId:"0",workflowChargeTypeId:"",description:"",quantity:"",unitCost:"",extendedCost:"",unitPrice:"",extendedPrice:"",currencyId:"",forexRate:"",vendorId:"",vendorUnitPrice:"",masterCompanyId:"",taskId:"",workflowId:"",AllowEdit:!0,isDelete:!1}]}},{key:"GetEquipmentList",value:function(){return[{workflowEquipmentListId:"0",assetId:"",assetTypeId:"",assetDescription:"",quantity:"",taskId:"",workflowId:"",masterCompanyId:"",AllowEdit:!0,IsDelete:!1}]}},{key:"GetExpertise",value:function(){return[{workflowExpertiseListId:"0",expertiseTypeId:"",estimatedHours:"",laborDirectRate:"",directLaborRate:"",overheadBurden:"",overheadCost:"",standardRate:"",laborOverheadCost:"",taskId:"",workflowId:"",masterCompanyId:"",AllowEdit:!0,IsDelete:!1}]}},{key:"GetMaterialList",value:function(){return[{workflowMaterialListId:"0",itemMasterId:"",conditionCodeId:this.getDefaultConditionId("new"),mandatoryOrSupplemental:"Mandatory",itemClassificationId:"",quantity:"",unitOfMeasureId:this.getDefaultUOMId("Ea"),unitCost:"",extendedCost:"",price:"",extendedPrice:"",provisionId:"",isDeferred:"",memo:"",taskId:"",workflowId:"",masterCompanyId:"",AllowEdit:!0,isDelete:!1}]}},{key:"GetDirections",value:function(){return[{workflowDirectionId:"0",action:"",description:"",sequence:"",memo:"",taskId:"",workflowId:"",masterCompanyId:"",AllowEdit:!0,isDelete:!1}]}},{key:"onActionChange",value:function(){var t=this;if("0"!=this.currenttaskId||0!=this.workFlowList.length){if("0"!=this.currenttaskId){var e=void 0;if(null!=this.workFlowList&&(e=this.workFlowList.filter((function(e){return e.taskId==t.currenttaskId}))),this.showActionAttribute=!0,null==e||0==e.length){null==this.workFlowList&&(this.workFlowList=[]);var r=this.GetWorkFlow();r.selectedItems=[],this.workFlowList.push(r),e=this.workFlowList.filter((function(e){return e.taskId==t.currenttaskId}))}this.workFlow=e[0],this.selectedItems=e[0].selectedItems,this.tasksData.push(this.workFlow)}}else this.showActionAttribute=!1}},{key:"addAction",value:function(){var t=this;this.isSpinnerVisible=!0,this.actionService.addAction(this.newAction).subscribe((function(e){t.alertService.showMessage("Workflow","Task added successfully.",D.d.success),t.getAllActions(),t.isSpinnerVisible=!1}),(function(e){t.isSpinnerVisible=!1}))}},{key:"validateWorkFlowHeader",value:function(){if(null==this.sourceWorkFlow.itemMasterId||""==this.sourceWorkFlow.itemMasterId)return this.alertService.showMessage(this.title,"Part Number is required",D.d.error),!1;if(null==this.sourceWorkFlow.workScopeId||""==this.sourceWorkFlow.workScopeId)return this.alertService.showMessage(this.title,"Work Scope is required",D.d.error),!1;if(null==this.sourceWorkFlow.currencyId||""==this.sourceWorkFlow.currencyId)return this.alertService.showMessage(this.title,"Currency is required",D.d.error),!1;if(null!=this.workFlow&&null!=this.workFlow.materialList){var t,e=_createForOfIteratorHelper(this.workFlow.materialList);try{for(e.s();!(t=e.n()).done;){if(t.value.partNumber==this.sourceWorkFlow.partNumber)return this.alertService.showMessage(this.title,"Material List can not have Master Part Number",D.d.error),!1}}catch(r){e.e(r)}finally{e.f()}}return!0}},{key:"addWorkFlow",value:function(t){var e=this;if(this.sourceWorkFlow.workflowId=void 0,this.validateWorkFlowHeader()){if(!this.calculateTotalWorkFlowCost(!1)&&0==confirm("Work Flow total cost exceed the BER threshold amount. Do you still want to continue?"))return;if(this.SaveWorkFlow(),t)return this.sourceWorkFlow.charges=[],this.sourceWorkFlow.directions=[],this.sourceWorkFlow.equipments=[],this.sourceWorkFlow.exclusions=[],this.sourceWorkFlow.expertise=[],this.sourceWorkFlow.materialList=[],this.sourceWorkFlow.measurements=[],this.sourceWorkFlow.publication=[],this.isSpinnerVisible=!0,this.sourceWorkFlow.masterCompanyId=this.currentUserMasterCompanyId,this.sourceWorkFlow.createdBy=this.userName,this.sourceWorkFlow.updatedBy=this.userName,this.sourceWorkFlow.customerName&&(this.sourceWorkFlow.customerId=this.sourceWorkFlow.customerName.customerId),this.isSpinnerVisible=!0,void this.actionService.addWorkFlowHeader(this.sourceWorkFlow).subscribe((function(t){e.isSpinnerVisible=!1,e.alertService.showMessage(e.title,"Work Flow header added successfully.",D.d.success),e.isUpdateAfterCreate=!0,e._workflowService.enableUpdateMode=!0,e._workflowService.currentWorkFlowId=t.workflowId,e.route.navigateByUrl("/workflowmodule/workflowpages/wf-edit/"+e._workflowService.currentWorkFlowId)}),(function(t){e.isSpinnerVisible=!1}));this.isSpinnerVisible=!0,this.sourceWorkFlow.masterCompanyId=this.currentUserMasterCompanyId,this.sourceWorkFlow.createdBy=this.userName,this.sourceWorkFlow.updatedBy=this.userName,this.actionService.getNewWorkFlow(this.sourceWorkFlow).subscribe((function(t){e.isSpinnerVisible=!1,e.alertService.showMessage(e.title,"Work Flow added successfully.",D.d.success),e.route.navigateByUrl("/workflowmodule/workflowpages/app-workflow-list")}),(function(t){e.isSpinnerVisible=!1}))}}},{key:"updateWorkFlow",value:function(){var t=this;if(this.validateWorkFlowHeader()&&(this.calculateTotalWorkFlowCost(!1)||0!=confirm("Work Flow total cost exceed the BER threshold amount. Do you still want to continue?"))){if(this.SaveWorkFlow(),this.isHeaderUpdate)return this.sourceWorkFlow.charges=[],this.sourceWorkFlow.directions=[],this.sourceWorkFlow.equipments=[],this.sourceWorkFlow.exclusions=[],this.sourceWorkFlow.expertise=[],this.sourceWorkFlow.materialList=[],this.sourceWorkFlow.measurements=[],this.sourceWorkFlow.publication=[],this.isSpinnerVisible=!0,this.sourceWorkFlow.masterCompanyId=this.currentUserMasterCompanyId,this.sourceWorkFlow.createdBy=this.userName,this.sourceWorkFlow.updatedBy=this.userName,void this.actionService.addWorkFlowHeader(this.sourceWorkFlow).subscribe((function(e){t.isSpinnerVisible=!1,t.alertService.showMessage(t.title,"Work Flow header updated successfully.",D.d.success),t.sourceWorkFlow.workflowId=e.workflowId,t.UpdateMode=!0}),(function(e){t.isSpinnerVisible=!1}));0==this.workFlowList.length&&this.alertService.showMessage(this.title,"Atleast one task is required.",D.d.error),this.isSpinnerVisible=!0;var e=Object.assign({},this.sourceWorkFlow);e.exclusions&&0!=e.exclusions.length&&e.exclusions.forEach((function(t){delete t.partName})),e.measurements&&0!=e.measurements.length&&e.measurements.forEach((function(t){delete t.partName})),this.actionService.getNewWorkFlow(e).subscribe((function(e){t.isSpinnerVisible=!1,t.alertService.showMessage(t.title,"Work Flow updated successfully.",D.d.success),t.route.navigateByUrl("/workflowmodule/workflowpages/app-workflow-list")}),(function(e){t.isSpinnerVisible=!1}))}}},{key:"increaseVerConfirmation",value:function(t){Q("#quoteVer").modal("hide"),this.sourceWorkFlow.isVersionIncrease=t,this.isWorkOrder?(this.saveWorkFlowWorkOrderData.isVersionIncrease=t,this.savedWorkFlowWorkOrderData.emit(this.saveWorkFlowWorkOrderData)):this.updateWorkFlow()}},{key:"showVersionUpdate",value:function(){Q("#quoteVer").modal("show")}},{key:"SaveWorkFlow",value:function(){if(null!=this.workFlowList&&this.workFlowList.length>0){this.sourceWorkFlow.charges=[],this.sourceWorkFlow.directions=[],this.sourceWorkFlow.equipments=[],this.sourceWorkFlow.exclusions=[],this.sourceWorkFlow.expertise=[],this.sourceWorkFlow.materialList=[],this.sourceWorkFlow.measurements=[],this.sourceWorkFlow.publication=[],this.sourceWorkFlow.masterCompanyId=this.currentUserMasterCompanyId,this.sourceWorkFlow.createdBy=this.userName,this.sourceWorkFlow.updatedBy=this.userName;var t,e=_createForOfIteratorHelper(this.workFlowList);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(null!=r.charges){var n,i=_createForOfIteratorHelper(r.charges);try{for(i.s();!(n=i.n()).done;){var a=n.value;a.workflowChargesListId>0?(a.workflowId=r.workflowId,a.taskId=r.taskId,a.order=r.order,a.masterCompanyId=this.currentUserMasterCompanyId,a.createdBy=this.userName,a.createdDate=new Date):(a.workflowChargesListId=a.workflowChargesListId>0?a.workflowChargesListId:0,a.masterCompanyId=this.currentUserMasterCompanyId,a.updatedBy=this.userName,a.updatedDate=new Date),this.sourceWorkFlow.charges.push(a)}}catch(P){i.e(P)}finally{i.f()}}if(null!=r.directions){var o,s=_createForOfIteratorHelper(r.directions);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.workflowDirectionId>0?(l.workflowId=r.workflowId,l.taskId=r.taskId,l.order=r.order,l.masterCompanyId=this.currentUserMasterCompanyId,l.createdBy=this.userName,l.createdDate=new Date):(l.workflowDirectionId=l.workflowDirectionId>0?l.workflowDirectionId:0,l.masterCompanyId=this.currentUserMasterCompanyId,l.updatedBy=this.userName,l.updatedDate=new Date),this.sourceWorkFlow.directions.push(l)}}catch(P){s.e(P)}finally{s.f()}}if(null!=r.equipments){var d,c=_createForOfIteratorHelper(r.equipments);try{for(c.s();!(d=c.n()).done;){var u=d.value;u.workflowEquipmentListId>0?(u.workflowId=r.workflowId,u.taskId=r.taskId,u.order=r.order,u.masterCompanyId=this.currentUserMasterCompanyId,u.createdBy=this.userName,u.createdDate=new Date):(u.workflowEquipmentListId=u.workflowEquipmentListId>0?u.workflowEquipmentListId:0,u.masterCompanyId=this.currentUserMasterCompanyId,u.updatedBy=this.userName,u.updatedDate=new Date),this.sourceWorkFlow.equipments.push(u)}}catch(P){c.e(P)}finally{c.f()}}if(null!=r.exclusions){var p,h=_createForOfIteratorHelper(r.exclusions);try{for(h.s();!(p=h.n()).done;){var m=p.value;m.workflowExclusionId>0?(m.workflowId=r.workflowId,m.partNumber=r.workflowId,m.taskId=r.taskId,m.order=r.order,m.masterCompanyId=this.currentUserMasterCompanyId,m.createdBy=this.userName,m.createdDate=new Date):(m.workflowExclusionId=m.workflowExclusionId>0?m.workflowExclusionId:0,m.masterCompanyId=this.currentUserMasterCompanyId,m.updatedBy=this.userName,m.updatedDate=new Date),this.sourceWorkFlow.exclusions.push(m)}}catch(P){h.e(P)}finally{h.f()}}if(null!=r.expertise){var f,b=_createForOfIteratorHelper(r.expertise);try{for(b.s();!(f=b.n()).done;){var v=f.value;v.workflowExpertiseListId>0?(v.workflowId=r.workflowId,v.taskId=r.taskId,v.order=r.order,v.masterCompanyId=this.currentUserMasterCompanyId,v.createdBy=this.userName,v.createdDate=new Date):(v.workflowExpertiseListId=v.workflowExpertiseListId>0?v.workflowExpertiseListId:0,v.masterCompanyId=this.currentUserMasterCompanyId,v.updatedBy=this.userName,v.updatedDate=new Date),this.sourceWorkFlow.expertise.push(v)}}catch(P){b.e(P)}finally{b.f()}}if(null!=r.materialList){var g,w=_createForOfIteratorHelper(r.materialList);try{for(w.s();!(g=w.n()).done;){var k=g.value;k.workflowMaterialListId>0?(k.workflowId=r.workflowId,k.taskId=r.taskId,k.order=r.order,k.masterCompanyId=this.currentUserMasterCompanyId,k.createdBy=this.userName,k.createdDate=new Date):(k.workflowMaterialListId=k.workflowMaterialListId>0?k.workflowMaterialListId:0,k.masterCompanyId=this.currentUserMasterCompanyId,k.updatedBy=this.userName,k.updatedDate=new Date),this.sourceWorkFlow.materialList.push(k)}}catch(P){w.e(P)}finally{w.f()}}if(null!=r.measurements){var y,x=_createForOfIteratorHelper(r.measurements);try{for(x.s();!(y=x.n()).done;){var I=y.value;I.workflowMeasurementId>0?(I.workflowId=r.workflowId,I.taskId=r.taskId,I.order=r.order,I.masterCompanyId=this.currentUserMasterCompanyId,I.createdBy=this.userName,I.createdDate=new Date):(I.workflowMeasurementId=I.workflowMeasurementId>0?I.workflowMeasurementId:0,I.masterCompanyId=this.currentUserMasterCompanyId,I.updatedBy=this.userName,I.updatedDate=new Date),this.sourceWorkFlow.measurements.push(I)}}catch(P){x.e(P)}finally{x.f()}}if(null!=r.publication){var F,C=_createForOfIteratorHelper(r.publication);try{for(C.s();!(F=C.n()).done;){var M=F.value;if(M.id>0){if(M.workflowId=r.workflowId,M.taskId=r.taskId,M.order=r.order,null!=M.workflowPublicationDashNumbers){var S,D=_createForOfIteratorHelper(M.workflowPublicationDashNumbers);try{for(D.s();!(S=D.n()).done;){var O=S.value;O.workflowId=this.workFlow.workflowId,O.aircraftDashNumberId=O.dashNumberId,O.taskId=this.workFlow.taskId,O.publicationsId=M.id,O.dashNumberId=O.dashNumberId,O.dashNumber=O.dashNumber}}catch(P){D.e(P)}finally{D.f()}}}else M.id=M.id>0?M.id:0,M.masterCompanyId=this.currentUserMasterCompanyId,M.createdBy=this.userName,M.createdDate=new Date;M.updatedBy=this.userName,M.updatedDate=new Date,M.masterCompanyId=this.currentUserMasterCompanyId,this.sourceWorkFlow.publication.push(M)}}catch(P){C.e(P)}finally{C.f()}}}}catch(P){e.e(P)}finally{e.f()}}}},{key:"saveWorkFlowWorkOrder",value:function(t){var e=this;if(null!=this.workFlowList&&this.workFlowList.length>0){this.sourceWorkFlow.charges=[],this.sourceWorkFlow.directions=[],this.sourceWorkFlow.equipments=[],this.sourceWorkFlow.exclusions=[],this.sourceWorkFlow.expertise=[],this.sourceWorkFlow.materialList=[],this.sourceWorkFlow.measurements=[],this.sourceWorkFlow.publication=[],this.sourceWorkFlow.masterCompanyId=this.currentUserMasterCompanyId,this.sourceWorkFlow.createdBy=this.userName,this.sourceWorkFlow.updatedBy=this.userName;var r,n=_createForOfIteratorHelper(this.workFlowList);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(null!=i.charges){var a,o=_createForOfIteratorHelper(i.charges);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.workflowChargesListId=s.workflowChargesListId>0?s.workflowChargesListId:0,s.workflowId=i.workflowId,s.taskId=i.taskId,this.sourceWorkFlow.charges.push(s)}}catch(A){o.e(A)}finally{o.f()}}if(null!=i.directions){var l,d=_createForOfIteratorHelper(i.directions);try{for(d.s();!(l=d.n()).done;){var c=l.value;c.workflowDirectionId=c.workflowDirectionId>0?c.workflowDirectionId:0,c.workflowId=i.workflowId,c.taskId=i.taskId,this.sourceWorkFlow.directions.push(c)}}catch(A){d.e(A)}finally{d.f()}}if(null!=i.equipments){var u,p=_createForOfIteratorHelper(i.equipments);try{for(p.s();!(u=p.n()).done;){var h=u.value;h.workflowEquipmentListId=h.workflowEquipmentListId>0?h.workflowEquipmentListId:0,h.workflowId=i.workflowId,h.taskId=i.taskId,this.sourceWorkFlow.equipments.push(h)}}catch(A){p.e(A)}finally{p.f()}}if(null!=i.exclusions){var m,f=_createForOfIteratorHelper(i.exclusions);try{for(f.s();!(m=f.n()).done;){var b=m.value;b.workflowExclusionId=b.workflowExclusionId>0?b.workflowExclusionId:0,b.workflowId=i.workflowId,b.taskId=i.taskId,this.sourceWorkFlow.exclusions.push(b)}}catch(A){f.e(A)}finally{f.f()}}if(null!=i.expertise){var v,g=_createForOfIteratorHelper(i.expertise);try{for(g.s();!(v=g.n()).done;){var w=v.value;w.workflowExpertiseListId=w.workflowExpertiseListId>0?w.workflowExpertiseListId:0,w.workflowId=i.workflowId,w.taskId=i.taskId,this.sourceWorkFlow.expertise.push(w)}}catch(A){g.e(A)}finally{g.f()}}if(null!=i.materialList){var k,y=_createForOfIteratorHelper(i.materialList);try{for(y.s();!(k=y.n()).done;){var x=k.value;x.workflowMaterialListId=x.workflowMaterialListId>0?x.workflowMaterialListId:0,x.workflowId=i.workflowId,x.taskId=i.taskId,this.sourceWorkFlow.materialList.push(x)}}catch(A){y.e(A)}finally{y.f()}}if(null!=i.measurements){var I,F=_createForOfIteratorHelper(i.measurements);try{for(F.s();!(I=F.n()).done;){var C=I.value;C.workflowMeasurementId=C.workflowMeasurementId>0?C.workflowMeasurementId:0,C.workflowId=i.workflowId,C.taskId=i.taskId,this.sourceWorkFlow.measurements.push(C)}}catch(A){F.e(A)}finally{F.f()}}if(null!=i.publication){var M,S=_createForOfIteratorHelper(i.publication);try{for(S.s();!(M=S.n()).done;){var D=M.value;if(D.id=D.id>0?D.id:0,D.workflowId=i.workflowId,D.taskId=i.taskId,null!=D.workflowPublicationDashNumbers){var O,P=_createForOfIteratorHelper(D.workflowPublicationDashNumbers);try{for(P.s();!(O=P.n()).done;){var L=O.value;L.workflowId=this.workFlow.workflowId,L.aircraftDashNumberId=L.dashNumberId,L.taskId=this.workFlow.taskId,L.publicationsId=D.id,L.dashNumberId=L.dashNumberId,L.dashNumber=L.dashNumber}}catch(A){P.e(A)}finally{P.f()}}this.sourceWorkFlow.publication.push(D)}}catch(A){S.e(A)}finally{S.f()}}}}catch(A){n.e(A)}finally{n.f()}}if(this.isWorkOrder){var E=this.sourceWorkFlow,W={createdBy:this.userName,updatedBy:this.userName,createdate:new Date,updatdate:new Date,isActive:!0,IsDeleted:!1,masterCompanyId:this.currentUserMasterCompanyId},N=Object.assign({},this.sourceWorkFlow,{isSaveToWorkFlow:t,workflowId:0,workOrderId:this.savedWorkOrderData.workOrderId,workFlowWorkOrderId:this.workFlowWorkOrderId,workOrderPartNoId:this.workOrderPartNumberId,existingWorkFlowId:this.sourceWorkFlow.workflowId,charges:E.charges.map((function(t){return Object.assign({},t,{workflowChargesListId:0,workOrderId:e.savedWorkOrderData.workOrderId},W)})),directions:E.directions.map((function(t){return Object.assign({},t,{workflowDirectionId:0,workOrderId:e.savedWorkOrderData.workOrderId},W)})),equipments:E.equipments.map((function(t){return Object.assign({},t,{workflowEquipmentListId:0,workOrderId:e.savedWorkOrderData.workOrderId},W)})),exclusions:E.exclusions.map((function(t){return Object.assign({},t,{workflowExclusionId:0,workOrderId:e.savedWorkOrderData.workOrderId},W)})),expertise:E.expertise.map((function(t){return Object.assign({},t,{workflowExpertiseListId:0,workOrderId:e.savedWorkOrderData.workOrderId},W)})),materialList:E.materialList.map((function(t){return Object.assign({},t,{workflowMaterialListId:0,workOrderId:e.savedWorkOrderData.workOrderId},W)})),measurements:E.measurements.map((function(t){return Object.assign({},t,{workflowMeasurementId:0,workOrderId:e.savedWorkOrderData.workOrderId},W)})),publication:E.publication.map((function(t){return Object.assign({},t,{Id:0,workOrderId:e.savedWorkOrderData.workOrderId},W)}))});t?(this.saveWorkFlowWorkOrderData=N,this.showVersionUpdate()):this.savedWorkFlowWorkOrderData.emit(N)}}},{key:"resetPage",value:function(){this.selectedItems=[],this.workFlowList=[],this.currenttaskId="0",this.showMainPage=!1,this.showActionAttribute=!1}},{key:"onDeSelect",value:function(t){var e=this.selectedItems.filter((function(e){return e.Id!=t.Id}));null!=e&&e.length>0?(this.selectedItems=e,this.AddActionAttribute(),this.setCurrentPanel(this.selectedItems[0].Name,this.selectedItems[0].Id)):(this.selectedItems=[],this.AddActionAttribute()),this.workFlow.selectedItems=this.selectedItems,this.resetWorkflowGrid()}},{key:"onItemSelect",value:function(t){this.AddActionAttribute()}},{key:"onSelectAll",value:function(t){this.selectedItems=t,this.AddActionAttribute(),this.setCurrentPanel(this.selectedItems[this.selectedItems.length-1].Name,this.selectedItems[this.selectedItems.length-1].Id),this.resetWorkflowGrid()}},{key:"onDeSelectAll",value:function(t){this.selectedItems=[],this.AddActionAttribute(),this.workFlow.selectedItems=[],this.resetWorkflowGrid()}},{key:"taskDeleteConfirmation",value:function(t,e){}},{key:"removeTask",value:function(t){var e=this.workFlowList.indexOf(t);this.workFlowList.splice(e,1),0==e&&0==this.workFlowList.length?(this.currenttaskId="0",this.selectedItems=[]):(this.workFlow=this.workFlowList[0],this.currenttaskId=this.workFlowList[0].taskId,this.SetCurrectTab(this.currenttaskId,0),this.setSelectedItems(this.workFlow)),this.tasksData=this.tasksData.filter((function(e){if(e.taskId!==t.taskId)return e})),this.onActionChange()}},{key:"dismissModel",value:function(){this.modal.close()}},{key:"resetWorkflowGrid",value:function(){var t,e=_createForOfIteratorHelper(this.workFlowList);try{for(e.s();!(t=e.n()).done;){var r=t.value;r.taskId==this.currenttaskId&&(0==r.selectedItems.filter((function(t){return"Charges"==t.Name})).length&&(r.charges=[]),0==r.selectedItems.filter((function(t){return"Directions"==t.Name})).length&&(r.directions=[]),0==r.selectedItems.filter((function(t){return"Tools"==t.Name})).length&&(r.equipments=[]),0==r.selectedItems.filter((function(t){return"Exclusions"==t.Name})).length&&(r.exclusions=[]),0==r.selectedItems.filter((function(t){return"Expertise"==t.Name})).length&&(r.expertise=[]),0==r.selectedItems.filter((function(t){return"Material List"==t.Name})).length&&(r.materialList=[]),0==r.selectedItems.filter((function(t){return"Measurements"==t.Name})).length&&(r.measurements=[]),0==r.selectedItems.filter((function(t){return"Publications"==t.Name})).length&&(r.publication=[]))}}catch(n){e.e(n)}finally{e.f()}}},{key:"calculateTotalWorkFlowCost",value:function(t){if(null!=this.sourceWorkFlow.berThresholdAmount&&0!=this.sourceWorkFlow.berThresholdAmount||(this.sourceWorkFlow.berThresholdAmount=0),this.MaterialCost=0,this.TotalCharges=0,this.TotalExpertiseCost=0,null!=this.workFlowList&&this.workFlowList.length>0){var e,r=_createForOfIteratorHelper(this.workFlowList);try{for(r.s();!(e=r.n()).done;){var n=e.value;this.MaterialCost+=null!=n.totalMaterialCostValue?parseFloat(n.totalMaterialCostValue.toString().replace(/\,/g,"")):0,this.TotalCharges+=null!=n.extendedCostSummation?parseFloat(n.extendedCostSummation.toString().replace(/\,/g,"")):0,this.TotalExpertiseCost+=null!=n.totalExpertiseCost?parseFloat(n.totalExpertiseCost.toString().replace(/\,/g,"")):0}}catch(l){r.e(l)}finally{r.f()}}this.MaterialCost=this.MaterialCost?Object(z.b)(this.MaterialCost,2):"0.00",this.TotalCharges=this.TotalCharges?Object(z.b)(this.TotalCharges,2):"0.00",this.TotalExpertiseCost=this.TotalExpertiseCost?Object(z.b)(this.TotalExpertiseCost,2):"0.00",this.sourceWorkFlow.otherCost=this.sourceWorkFlow.otherCost?Object(z.b)(this.sourceWorkFlow.otherCost,2):"0.00";var i=parseFloat(this.MaterialCost.toString().replace(/\,/g,""))+parseFloat(this.TotalCharges.toString().replace(/\,/g,""))+parseFloat(this.TotalExpertiseCost.toString().replace(/\,/g,""))+(this.sourceWorkFlow.otherCost?parseFloat(this.sourceWorkFlow.otherCost.toString().replace(/\,/g,"")):0);this.Total=Object(z.b)(i,2);var a=parseFloat(this.sourceWorkFlow.berThresholdAmount.toString().replace(/\,/g,"")),o=Math.max(0,i,a),s=(Math.min(i,a)!==-1/0?Math.min(i,a):0)/(o/100);return this.PercentBERThreshold=parseFloat(s).toFixed(2),this.Total>a&&t&&(1==this.sourceWorkFlow.isFixedAmount||1==this.sourceWorkFlow.isPercentageOfNew||1==this.sourceWorkFlow.percentageOfReplacement)?(this.alertService.showMessage(this.title,"Work Flow total cost is exceeding the BER Threshold Amount",D.d.info),!1):!(this.Total>a)||1!=this.sourceWorkFlow.isFixedAmount&&1!=this.sourceWorkFlow.isPercentageOfNew&&1!=this.sourceWorkFlow.percentageOfReplacement}},{key:"saveBuildFromScratchData",value:function(){this.saveData.emit(this.workFlowList)}},{key:"onChangeOtherCost",value:function(){this.UpdateMode&&(this.disableUpdateButton=!1),this.sourceWorkFlow.otherCost=this.sourceWorkFlow.otherCost?Object(z.b)(this.sourceWorkFlow.otherCost,2):null}},{key:"onAddDescription",value:function(t){this.tempMemo="",this.tempMemo=this.sourceWorkFlow.memo}},{key:"onSaveDescription",value:function(){this.sourceWorkFlow.memo=this.tempMemo,this.UpdateMode&&(this.disableUpdateButton=!1)}},{key:"parsedText",value:function(t){if(t)return(new DOMParser).parseFromString("<!doctype html><body>"+t,"text/html").body.textContent}},{key:"userName",get:function(){return this.authService.currentUser?this.authService.currentUser.userName:""}},{key:"currentUserMasterCompanyId",get:function(){return this.authService.currentUser?this.authService.currentUser.masterCompanyId:null}},{key:"employeeId",get:function(){return this.authService.currentUser?this.authService.currentUser.employeeId:0}}]),t}();at.ctorParameters=function(){return[{type:L.a},{type:it.a},{type:S.a},{type:O.ActivatedRoute},{type:O.Router},{type:tt.a},{type:E.a},{type:Z.a},{type:N.a},{type:q.a},{type:_.a},{type:j.a},{type:P.a},{type:A.a},{type:R.a},{type:D.b},{type:C.c},{type:nt.a},{type:W.a}]},n.b([Object(i.Input)()],at.prototype,"isWorkOrder",void 0),n.b([Object(i.Input)()],at.prototype,"savedWorkOrderData",void 0),n.b([Object(i.Input)()],at.prototype,"WorkOrderType",void 0),n.b([Object(i.Input)()],at.prototype,"workFlowId",void 0),n.b([Object(i.Input)()],at.prototype,"workFlowWorkOrderId",void 0),n.b([Object(i.Input)()],at.prototype,"workOrderPartNumberId",void 0),n.b([Object(i.Input)()],at.prototype,"isQuote",void 0),n.b([Object(i.Input)()],at.prototype,"isEdit",void 0),n.b([Object(i.Output)()],at.prototype,"savedWorkFlowWorkOrderData",void 0),n.b([Object(i.Output)()],at.prototype,"saveData",void 0),n.b([Object(i.ViewChild)(rt,{static:!1})],at.prototype,"chargesCreateComponent",void 0);var ot=[{path:"workflowpages",component:X,children:[{path:"app-workflow-list",component:$,data:{title:"WorkFlow List"}},{path:"app-workflow-create",component:et,data:{title:"WorkFlow Create"}},{path:"wf-create",component:at=n.b([Object(i.Component)({selector:"wf-create",template:n.c(r("cLsG")).default,styles:[n.c(r("eA51")).default]})],at),data:{title:"WorkFlow"}},{path:"wf-update",component:at,data:{title:"WorkFlow"}},{path:"wf-edit/:id",component:at}]}],st=function t(){_classCallCheck(this,t)};st=n.b([Object(i.NgModule)({imports:[O.RouterModule.forChild(ot)],exports:[O.RouterModule],providers:[S.a,K.a]})],st);var lt=r("7lxq"),dt=r("BY74"),ct=r("DvK1"),ut=function(){function t(e){_classCallCheck(this,t),this.alertService=e,this.notify=new i.EventEmitter,this.currentPage=1,this.itemsPerPage=10}return _createClass(t,[{key:"ngOnInit",value:function(){this.row=this.workFlow.directions[0],null==this.row&&(this.row={}),this.row.taskId=this.workFlow.taskId}},{key:"ngOnChanges",value:function(){}},{key:"addRow",value:function(){var t=Object.assign({},this.row);t.workflowDirectionId="0",t.taskId=this.workFlow.taskId,t.workflowDirectionId="0",t.action="",t.description="",t.sequence="",t.memo="",t.isDelete=!1,this.workFlow.directions.push(t)}},{key:"deleteRow",value:function(t){"0"==this.workFlow.directions[t].workflowDirectionId||""==this.workFlow.directions[t].workflowDirectionId?this.workFlow.directions.splice(t,1):this.workFlow.directions[t].isDelete=!0}},{key:"checkDuplicateSequence",value:function(t,e){var r=this;null!=this.workFlow.directions&&this.workFlow.directions.length>0&&this.workFlow.directions.filter((function(t){return t.sequence==e.sequence&&e.taskId==r.workFlow.taskId&&1!=t.isDelete})).length>1&&(this.alertService.showMessage("Work Flow","Duplicate Sequence are not allowed Direction.",D.d.error),e.sequence="",t.target.value="")}},{key:"onAddTextAreaInfo",value:function(t,e){this.memoIndex=e,this.textAreaInfo=t.memo}},{key:"onSaveTextAreaInfo",value:function(t){t&&(this.textAreaInfo=t,this.workFlow.directions[this.memoIndex].memo=this.textAreaInfo),Q("#textarea-popupMemo").modal("hide")}},{key:"onCloseTextAreaInfo",value:function(){Q("#textarea-popupMemo").modal("hide")}}]),t}();ut.ctorParameters=function(){return[{type:D.b}]},n.b([Object(i.Input)()],ut.prototype,"workFlow",void 0),n.b([Object(i.Input)()],ut.prototype,"UpdateMode",void 0),n.b([Object(i.Output)()],ut.prototype,"notify",void 0),ut=n.b([Object(i.Component)({selector:"grd-directions",template:n.c(r("nagN")).default,styles:[n.c(r("aGFQ")).default]})],ut);var pt=function(){function t(e,r,n,a,o,s){_classCallCheck(this,t),this.commonService=e,this.workOrderService=r,this.actionService=n,this.vendorService=a,this.assetService=o,this.alertService=s,this.isWorkOrder=!1,this.isEdit=!1,this.moduleName="Tool",this.saveEquipmentListForWO=new i.EventEmitter,this.closeEvent=new i.EventEmitter,this.updateEquipmentListForWO=new i.EventEmitter,this.notify=new i.EventEmitter,this.allUomdata=[],this.itemClassInfo=[],this.allPartDetails=[],this.allPartnumbersInfo=[],this.currentPage=1,this.itemsPerPage=10,this.isSpinnerVisible=!1}return _createClass(t,[{key:"ngOnInit",value:function(){if(this.isWorkOrder)if(this.workFlow=this.workFlowObject,this.row=this.workFlow.equipments[0],this.isEdit){this.workFlow.equipments=[];var t=Object.assign({},this.editData,{assetRecordId:this.editData.assetId,description:this.editData.assetDescription,assetTypeId:this.editData.assetTypeId,name:this.editData.assetName,assetTypeName:this.editData.assetTypeName,partNumber:this.editData.assetId,assetId:this.editData.assetId,assetDescription:this.editData.description});this.workFlow.equipments.push(t)}else this.workFlow.equipments=[],this.row=this.workFlow.equipments[0],this.addRow();else this.row=this.workFlow.equipments[0],null==this.row&&(this.row={}),this.row.taskId=this.workFlow.taskId;this.ptnumberlistdata()}},{key:"ngOnChanges",value:function(){this.isWorkOrder&&(this.workFlow=this.workFlowObject,this.workFlow.equipments=[],this.row=this.workFlow.equipments[0],this.addRow())}},{key:"addRow",value:function(){var t=Object.assign({},this.row);t.workflowEquipmentListid="0",t.taskId=this.workFlow.taskId,t.assetName="",t.assetTypeName="",t.assetDescription="",t.assetId="",t.assetTypeId="",t.quantity="",t.memo="",t.quantity="",t.unitCost="",t.unitPrice="",t.vendorUnitPrice="",t.workflowChargeTypeId="",t.partNumber="",t.isDelete=!1,this.workFlow.equipments.push(t)}},{key:"deleteRow",value:function(t){null==this.workFlow.equipments[t].workflowEquipmentListid||"0"==this.workFlow.equipments[t].workflowEquipmentListid||""==this.workFlow.equipments[t].workflowEquipmentListid?this.workFlow.equipments.splice(t,1):this.workFlow.equipments[t].isDelete=!0}},{key:"onPartSelect",value:function(t,e){var r=this;if(this.itemclaColl)if(this.workFlow.equipments.filter((function(e){return e.taskId==r.workFlow.taskId&&e.partNumber==t})).length>1)e.assetId="",e.partNumber="",e.assetDescription="",e.assetTypeId="",e.assetName="",e.assetTypeName="",t="",this.alertService.showMessage("Workflow","Asset Id is already in use in Tool List",D.d.error);else for(var n=0;n<this.itemclaColl.length;n++)t==this.itemclaColl[n][0].name&&(e.assetId=this.itemclaColl[n][0].assetId,e.partNumber=this.itemclaColl[n][0].name,e.assetDescription=this.itemclaColl[n][0].description,e.assetTypeId=this.itemclaColl[n][0].assetTypeId,e.assetName=this.itemclaColl[n][0].name,e.assetTypeName=this.itemclaColl[n][0].assetTypeName)}},{key:"filterpartItems",value:function(t){if(this.partCollection=[],this.itemclaColl=[],this.allPartnumbersInfo&&this.allPartnumbersInfo.length>0){this.itemclaColl.push([{assetRecordId:"",assetId:"Select",assetTypeId:"",assetTypeName:"",description:"",assetName:""}]);for(var e=0;e<this.allPartnumbersInfo.length;e++){var r=this.allPartnumbersInfo[e].name;r&&0==r.toLowerCase().indexOf(t.query.toLowerCase())&&(this.itemclaColl.push([{assetRecordId:this.allPartnumbersInfo[e].assetRecordId,assetId:this.allPartnumbersInfo[e].value,assetTypeId:this.allPartnumbersInfo[e].tangibleClassId,assetTypeName:this.allPartnumbersInfo[e].assetAttributeTypeName,description:this.allPartnumbersInfo[e].description,name:this.allPartnumbersInfo[e].name,class:this.allPartnumbersInfo[e].assetAttributeTypeName}]),this.partCollection.push(r))}}}},{key:"ptnumberlistdata",value:function(){var t=this;this.isSpinnerVisible=!0;var e=[];this.UpdateMode&&(e=this.workFlow.equipments.reduce((function(t,r){return e.push(t.assetTypeId)}),0)),this.commonService.autoCompleteSmartDropDownAssetList("",!0,20,e).subscribe((function(e){t.isSpinnerVisible=!1,t.allPartnumbersInfo=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"saveEquipmentWorkOrder",value:function(){this.saveEquipmentListForWO.emit(this.workFlow)}},{key:"updateEquipmentWorkOrder",value:function(){this.updateEquipmentListForWO.emit(this.workFlow)}},{key:"checkQuantityAvailability",value:function(){var t=!1;return this.workFlow.equipments.forEach((function(e){(!e.quantity||Number(e.quantity)<=0)&&(t=!0)})),t}},{key:"onDataLoadFailed",value:function(t){var e=t,r="";if(e.message){if(e.error&&e.error.errors.length>0)for(var n=0;n<e.error.errors.length;n++)r=r+e.error.errors[n].message+"<br/>";this.alertService.showMessage(e.error.message,r,D.d.error)}else this.alertService.showMessage("Error",t.error,D.d.error)}}]),t}();pt.ctorParameters=function(){return[{type:W.a},{type:it.a},{type:L.a},{type:R.a},{type:T.a},{type:D.b}]},n.b([Object(i.Input)()],pt.prototype,"workFlowObject",void 0),n.b([Object(i.Input)()],pt.prototype,"isWorkOrder",void 0),n.b([Object(i.Input)()],pt.prototype,"workFlow",void 0),n.b([Object(i.Input)()],pt.prototype,"isEdit",void 0),n.b([Object(i.Input)()],pt.prototype,"editData",void 0),n.b([Object(i.Input)()],pt.prototype,"UpdateMode",void 0),n.b([Object(i.Input)()],pt.prototype,"moduleName",void 0),n.b([Object(i.Output)()],pt.prototype,"saveEquipmentListForWO",void 0),n.b([Object(i.Output)()],pt.prototype,"closeEvent",void 0),n.b([Object(i.Output)()],pt.prototype,"updateEquipmentListForWO",void 0),n.b([Object(i.Output)()],pt.prototype,"notify",void 0),pt=n.b([Object(i.Component)({selector:"grd-equipment",template:n.c(r("LT4R")).default,styles:[n.c(r("prbL")).default]})],pt);var ht=function(){function t(e,r){_classCallCheck(this,t),this.alertService=e,this.commonService=r,this.notify=new i.EventEmitter,this.expertiseTypes=[],this.currentPage=1,this.itemsPerPage=10,this.isSpinnerVisible=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.row=this.workFlow.expertise[0],null==this.row&&(this.row={}),this.row.taskId=this.workFlow.taskId,this.getExpertiseData()}},{key:"getExpertiseData",value:function(){var t=this,e=[];e=this.workFlow.expertise.reduce((function(t,r){return e.push(t.expertiseTypeId)}),0),this.isSpinnerVisible=!0,this.commonService.autoSuggestionSmartDropDownList("EmployeeExpertise","EmployeeExpertiseId","Description","",!0,100,e).subscribe((function(e){t.isSpinnerVisible=!1,t.expertiseTypes=e.map((function(t){return Object.assign({},t,{employeeExpertiseId:t.value,description:t.label})}))}),(function(e){t.isSpinnerVisible=!1}))}},{key:"ngOnChanges",value:function(){this.workFlow&&this.workFlow.expertise.length>0&&(this.workFlow.expertise=this.workFlow.expertise.map((function(t){return Object.assign({},t,{estimatedHours:t.estimatedHours?Object(z.b)(t.estimatedHours,2):"0.00",laborDirectRate:t.laborDirectRate?Object(z.b)(t.laborDirectRate,2):"0.00",directLaborRate:t.directLaborRate?Object(z.b)(t.directLaborRate,2):"0.00",overheadBurden:t.overheadBurden?Object(z.b)(t.overheadBurden,2):"0.00",overheadCost:t.overheadCost?Object(z.b)(t.overheadCost,2):"",laborOverheadCost:t.laborOverheadCost?Object(z.b)(t.laborOverheadCost,2):"0.00"})}))),this.UpdateMode&&this.reCalculate()}},{key:"reCalculate",value:function(){this.calculateEstimatedHoursSummation(),this.calculateLabourDirectCost(),this.calculateOHCostSummation(),this.calculateLabourOHCostSummation()}},{key:"addRow",value:function(){var t=Object.assign({},this.row);t.workflowExpertiseListId="0",t.taskId=this.workFlow.taskId,t.estimatedHours="",t.expertiseTypeId="",t.directLaborRate="",t.laborDirectRate="",t.laborOverheadCost="",t.overheadBurden="",t.overheadCost="",t.standardRate="",t.memo="",t.isDelete=!1,this.workFlow.expertise.push(t)}},{key:"deleteRow",value:function(t){null!=this.workFlow.expertise[t].workflowExpertiseListId||"0"==this.workFlow.expertise[t].workflowExpertiseListId||""==this.workFlow.expertise[t].workflowExpertiseListId?this.workFlow.expertise.splice(t,1):this.workFlow.expertise[t].isDelete=!0,this.reCalculate()}},{key:"calculateLabourCost",value:function(t){t.estimatedHours=t.estimatedHours?Object(z.b)(t.estimatedHours,2):"",t.laborDirectRate=t.laborDirectRate?Object(z.b)(t.laborDirectRate,2):"";var e=parseFloat(t.estimatedHours.toString().replace(/\,/g,""))*parseFloat(t.laborDirectRate.toString().replace(/\,/g,""));t.directLaborRate=e>0?Object(z.b)(e,2):"0.00",this.calculateEstimatedHoursSummation(),this.calculateLabourDirectCost()}},{key:"calculateEstimatedHoursSummation",value:function(){this.workFlow.sumofestimatedhrs=this.workFlow.expertise.reduce((function(t,e){return t+parseFloat(void 0===e.estimatedHours||""===e.estimatedHours?0:e.estimatedHours.toString().replace(/\,/g,""))}),0),this.workFlow.sumofestimatedhrs=this.workFlow.sumofestimatedhrs?Object(z.b)(this.workFlow.sumofestimatedhrs,2):"0.00"}},{key:"calculateLabourDirectCost",value:function(){this.workFlow.sumofLabourDirectCost=this.workFlow.expertise.reduce((function(t,e){return t+parseFloat(void 0===e.directLaborRate||""===e.directLaborRate?0:e.directLaborRate.toString().replace(/\,/g,""))}),0),this.workFlow.sumofLabourDirectCost=this.workFlow.sumofLabourDirectCost?Object(z.b)(this.workFlow.sumofLabourDirectCost,2):"0.00"}},{key:"calculateOHCost",value:function(t){t.overheadBurden=t.overheadBurden?Object(z.b)(t.overheadBurden,2):"0.00";var e=parseFloat(t.directLaborRate.toString().replace(/\,/g,""))*parseFloat(t.overheadBurden.toString().replace(/\,/g,""))/100;t.overheadCost=e>0?Object(z.b)(e,2):"0.00",this.calculateLabourOHCost(t),this.calculateOHCostSummation()}},{key:"calculateOHCostSummation",value:function(){this.workFlow.sumOfOHCost=this.workFlow.expertise.reduce((function(t,e){return t+parseFloat(void 0===e.overheadCost||""===e.overheadCost?0:e.overheadCost.toString().replace(/\,/g,""))}),0),this.workFlow.sumOfOHCost=Object(z.b)(this.workFlow.sumOfOHCost,2)}},{key:"calculateLabourOHCost",value:function(t){t.overheadCost=t.overheadCost?Object(z.b)(t.overheadCost,2):"0.00";var e=parseFloat(t.directLaborRate.toString().replace(/\,/g,""))+parseFloat(t.overheadCost.toString().replace(/\,/g,""));t.laborOverheadCost=e>0?Object(z.b)(e,2):"0.00",this.calculateLabourOHCostSummation()}},{key:"calculateLabourOHCostSummation",value:function(){this.workFlow.totalExpertiseCost=this.workFlow.expertise.reduce((function(t,e){return t+parseFloat(void 0===e.laborOverheadCost||""===e.laborOverheadCost?0:e.laborOverheadCost.toString().replace(/\,/g,""))}),0),this.workFlow.totalExpertiseCost=this.workFlow.totalExpertiseCost?Object(z.b)(this.workFlow.totalExpertiseCost,2):""}},{key:"onDataLoadFailed",value:function(t){var e=t,r="";if(e.message){if(e.error&&e.error.errors.length>0)for(var n=0;n<e.error.errors.length;n++)r=r+e.error.errors[n].message+"<br/>";this.alertService.showMessage(e.error.message,r,D.d.error)}else this.alertService.showMessage("Error",t.error,D.d.error)}}]),t}();ht.ctorParameters=function(){return[{type:D.b},{type:W.a}]},n.b([Object(i.Input)()],ht.prototype,"workFlow",void 0),n.b([Object(i.Input)()],ht.prototype,"UpdateMode",void 0),n.b([Object(i.Output)()],ht.prototype,"notify",void 0),ht=n.b([Object(i.Component)({selector:"grd-expertise",template:n.c(r("p8IY")).default,styles:[n.c(r("9Rsf")).default]})],ht);var mt=r("Nb+s"),ft=r("BkRI"),bt=r("39A6"),vt=r("d8Wx"),gt=function(){function t(e,r,n,a,o,s,l,d,c,u,p){_classCallCheck(this,t),this.actionService=e,this.commonService=r,this.itemMasterService=n,this.atasubchapter1service=a,this.workOrderQuoteService=o,this.itemser=s,this.vendorService=l,this.alertService=d,this.unitofmeasureService=c,this.itemClassService=u,this.masterComapnyService=p,this.partCollection=[],this.itemclaColl=[],this.allPartnumbersInfo=[],this.allUomdata=[],this.itemClassInfo=[],this.AltEquPartInfo=[],this.allconditioninfo=[],this.partListData=[],this.isEnableItemMasterView=!0,this.isViewItemMasterNHA=!0,this.isViewItemMasterTLA=!0,this.isViewItemMasterAlternate=!0,this.isViewItemMasterEquivalency=!0,this.itemMasterView=!1,this.isWorkOrder=!1,this.isEdit=!1,this.isQuote=!1,this.taskList=[],this.isWorkFlow=!1,this.mpnPartNumbersList=[],this.workFlowChange=new i.EventEmitter,this.saveMaterialListForWO=new i.EventEmitter,this.updateMaterialListForWO=new i.EventEmitter,this.isSubWorkOrder=!1,this.unitOfMeasuresList=[],this.percentageListFromSource=[],this.conditionsListFromSource=[],this.isView=!1,this.notify=new i.EventEmitter,this.materialCondition=[],this.materialUOM=[],this.sourceWorkFlow={},this.allPartDetails=[],this.totalCost=0,this.globalDeffered=!1,this.isDeferredBoolean=!1,this.currentPage=1,this.itemsPerPage=10,this.viewItemMaster={},this.orginalAtaSubChapterValues=[],this.purchaseSalesInfo=[],this.exchangeLoanInfo={},this.viewItemMasterNS={},this.aircraftauditHistory=[],this.pageSize=10,this.isSpinnerVisible=!1,this.cols=[{field:"partNumber",header:"PN"},{field:"partDescription",header:"PN Description"},{field:"manufacturerdesc",header:"Manufacturer"},{field:"classificationdesc",header:"Classification"},{field:"itemGroup",header:"Group Name"},{field:"nationalStockNumber",header:"NSN"},{field:"isSerialized",header:"S/N"},{field:"isTimeLife",header:"Time Life"}],this.cols1=[{field:"partNumber",header:"PN"},{field:"partDescription",header:"Description"},{field:"isHazardousMaterial",header:"Is Hazardous Material"},{field:"manufacturerdesc",header:"Manufacturer"},{field:"unitCost",header:"Unit Cost"},{field:"listPrice",header:"List Price"}],this.colsaircraftLD=[{field:"aircraft",header:"Aircraft"},{field:"model",header:"Model"},{field:"dashNumber",header:"Dash Numbers"},{field:"memo",header:"Memo"}],this.atasub=[{field:"ataChapterName",header:"ATA Chapter"},{field:"ataSubChapterDescription",header:"ATA Sub-Chapter"}],this.pnCols1=[{field:"partNo",header:"PN"},{field:"pnDiscription",header:"PN Description"},{field:"capabilityType",header:"Cap Type"},{field:"level1",header:"Level 01"},{field:"level2",header:"Level 02"},{field:"level3",header:"Level 03"},{field:"level4",header:"Level 04"},{field:"isVerified",header:"Verified"},{field:"verifiedBy",header:"Verified By"},{field:"verifiedDate",header:"Date Verified"},{field:"memo",header:"Memo"}],this.alterTableColumns=[{field:"altPartNo",header:"PN"},{field:"altPartDescription",header:"Description"},{field:"manufacturer",header:"Manufacturer "}],this.equivalencyTableColumns=[{field:"altPartNo",header:"PN"},{field:"altPartDescription",header:"Description"},{field:"manufacturer",header:"Manufacturer "},{field:"itemClassification",header:"ITEM CLASSIFICATION "}],this.provisionListData=[],this.conditionList=[],this.partconditionsList=[],this.altequPartList=[],this.moduleName=""}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isSubWorkOrder=this.isSubWorkOrder,this.isWorkOrder?(this.row=this.workFlow.materialList[0],this.isEdit?(this.workFlow.materialList=[],this.workFlow.materialList.push(this.editData),this.reCalculate()):(this.workFlow.materialList=[],this.addRow(),this.workFlow.materialQtySummation=0,this.workFlow.materialExtendedCostSummation=0,this.workFlow.totalMaterialCost=0,this.workFlow.materialExtendedPriceSummation=0)):(null==this.row&&(this.row={}),this.row.taskId=this.workFlow.taskId,this.workFlow.materialList.map((function(e,r){e.mandatoryOrSupplemental==t.workFlow.materialList[r].mandatoryOrSupplemental&&(t.workFlow.materialList[r].mandatorySupplementalId=e.mandatorySupplementalId),t.getPNDetails(e)}))),this.isQuote&&this.editData.length>0?this.workFlow.materialList=this.editData:this.isQuote&&(this.workFlow.materialList=[],this.addRow()),this.getMaterailMandatories(),this.isView||this.getPartnumbers(""),(this.isWorkOrder||this.isQuote)&&(this.provisionList(),this.getConditionsList())}},{key:"getMaterailMandatories",value:function(){var t=this,e=[];this.isWorkOrder&&this.isQuote||(e=this.workFlow.materialList.reduce((function(t,r){return e.push(t.mandatorySupplementalId)}),0)),this.isSpinnerVisible=!0,this.commonService.smartDropDownList("MaterialMandatories","Id","Name").subscribe((function(e){t.isSpinnerVisible=!1,t.materialMandatory=e.map((function(t){return{id:t.value,name:t.label}})),t.defaultMaterialMandatory="Mandatory",null!=t.workFlow.workflowId&&"0"!=t.workFlow.workflowId||null==t.workFlow.materialList[0]||(t.workFlow.materialList[0].mandatorySupplementalId=1)}),(function(e){t.isSpinnerVisible=!1}))}},{key:"ngOnChanges",value:function(){this.workFlow&&(this.getConditionsList(),this.workFlow.materialList.length>0&&(this.workFlow.materialList=this.workFlow.materialList.map((function(t){return Object.assign({},t,{quantity:t.quantity?Object(z.b)(t.quantity,0):"0",unitCost:t.unitCost?Object(z.b)(t.unitCost,2):"0.00",extendedCost:t.extendedCost?Object(z.b)(t.extendedCost,2):"0.00",price:t.price?Object(z.b)(t.price,2):"0.00",extendedPrice:t.extendedPrice?Object(z.b)(t.extendedPrice,2):"0.00"})})))),this.UpdateMode&&this.reCalculate(),this.isQuote&&this.editData.length>0?this.workFlow.materialList=this.editData:this.isQuote&&(!this.editData||this.editData.length<=0)&&(this.workFlow.materialList=[],this.addRow())}},{key:"onSelectMaterialManditory",value:function(t){this.materialMandatory.forEach((function(e){e.id==t.mandatoryOrSupplemental&&(t.mandatoryOrSupplemental=e.name)}))}},{key:"parsedText",value:function(t){if(t)return(new DOMParser).parseFromString("<!doctype html><body>"+t,"text/html").body.textContent}},{key:"getConditionsList",value:function(){var t=this;this.isSpinnerVisible=!0;var e=[];this.UpdateMode&&(e=this.workFlow.materialList.reduce((function(t,r){return e.push(t.conditionCodeId)}),0)),this.commonService.autoSuggestionSmartDropDownList("Condition","ConditionId","Description","",!0,20,e).subscribe((function(e){t.isSpinnerVisible=!1,t.conditionList=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"onTaskChhange",value:function(t){this.taskList.forEach((function(e){e.taskId==t.taskId&&(t.taskName=e.description)}))}},{key:"reCalculate",value:function(){this.calculateExtendedCostSummation(),this.calculateQtySummation(),this.calculatePriceSummation(),this.calculateExtendedPriceSummation()}},{key:"filterpartItems",value:function(t){var e=this;if(this.partCollection=[],this.itemclaColl=[],null!=this.allPartnumbersInfo&&this.allPartnumbersInfo.length>0)for(var r=function(r){for(var n=e.allPartnumbersInfo[r].partNumber,a=!0,o=0;o<e.mpnPartNumbersList.length;o++)e.mpnPartNumbersList[o].label==n&&(a=!1);0==n.toLowerCase().indexOf(t.query.toLowerCase())&&a&&(i=e.workFlow.materialList.find((function(t){return t.itemMasterId==e.allPartnumbersInfo[r].itemMasterId&&e.workFlow.taskId==t.taskId})),e.workFlow.partNumber!=e.allPartnumbersInfo[r].itemMasterId&&null==i&&(e.itemclaColl.push([{partId:e.allPartnumbersInfo[r].itemMasterId,partName:n,description:e.allPartnumbersInfo[r].partDescription,masterCompanyId:e.allPartnumbersInfo[r].masterCompanyId,itemClassificationId:e.allPartnumbersInfo[r].itemClassificationId,itemClassification:e.allPartnumbersInfo[r].itemClassification,unitOfMeasureId:e.allPartnumbersInfo[r].unitOfMeasureId,unitOfMeasure:e.allPartnumbersInfo[r].unitOfMeasure,stockType:e.allPartnumbersInfo[r].stockType}]),e.partCollection.push(n)))},n=0;n<this.allPartnumbersInfo.length;n++){var i;r(n)}}},{key:"onPartSelect",value:function(t,e,r){var n=this;if(this.itemclaColl){var i=this.workFlow.materialList.find((function(e){return e.partNumber==t&&e.taskId==n.workFlow.taskId})),a=this.itemclaColl.find((function(e){return e[0].partName==t}))[0].partId;if(null!=i&&this.workFlow.exclusions&&null!=this.workFlow.exclusions.find((function(t){return""!=t.itemMasterId&&t.itemMasterId==a&&t.taskId==n.workFlow.taskId})))return e.itemMasterId="",e.partDescription="",e.partNumber="",e.itemClassificationId="",e.masterCompanyId="",e.partName="",t="",void this.alertService.showMessage("Workflow","Part Number already exist in Exclusion List.",D.d.error);for(var o=0;o<this.itemclaColl.length;o++)t==this.itemclaColl[o][0].partName&&(e.itemMasterId=this.itemclaColl[o][0].partId,e.partDescription=this.itemclaColl[o][0].description,e.partNumber=this.itemclaColl[o][0].partName,e.masterCompanyId=this.itemclaColl[o][0].masterCompanyId?this.itemclaColl[o][0].masterCompanyId:1,e.stockType=this.itemclaColl[o][0].stockType,e.itemClassificationId=this.itemclaColl[o][0].itemClassificationId,e.itemClassification=this.itemclaColl[o][0].itemClassification,e.unitOfMeasure=this.itemclaColl[o][0].unitOfMeasure,e.unitOfMeasureId=this.itemclaColl[o][0].unitOfMeasureId);e.conditionCodeId=this.conditionList[0].value,this.getPNDetails(e)}}},{key:"clearautoCompleteInput",value:function(t,e){t[e]=null}},{key:"provisionList",value:function(){var t=this;this.isSpinnerVisible=!0;var e=[];e=this.workFlow.materialList.reduce((function(t,r){return e.push(t.provisionId)}),0),this.isSpinnerVisible=!0,this.commonService.autoSuggestionSmartDropDownList("Provision","ProvisionId","Description","",!0,100,e).subscribe((function(e){t.isSpinnerVisible=!1,t.provisionListData=[],t.isSubWorkOrder?e.forEach((function(e){"Sub Work Order"!=e.label&&t.provisionListData.push(e)})):t.provisionListData=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getAllPercentage",value:function(){var t=this;this.isSpinnerVisible=!0;var e=[];e=this.workFlow.materialList.reduce((function(t,r){return e.push(t.provisionId)}),0),this.commonService.autoSuggestionSmartDropDownList("[Percent]","PercentId","PercentValue","",!0,100,e).subscribe((function(e){t.isSpinnerVisible=!1,t.percentageList=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getPartnumbers",value:function(t){var e=this;this.isSpinnerVisible=!0,this.commonService.getPartnumList(t).subscribe((function(t){e.isSpinnerVisible=!1,e.allPartnumbersInfo=t}),(function(t){e.isSpinnerVisible=!1}))}},{key:"getPartConditions",value:function(t,e){return n.a(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.isSpinnerVisible=!0,r.t0=t,!r.t0){r.next=5;break}return r.next=5,this.workOrderQuoteService.getPartConditions(t.itemMasterId).subscribe((function(t){if(n.isSpinnerVisible=!1,n.materialCondition=t,n.materialCondition&&n.materialCondition.length>0){n["partconditionsList"+e]=n.materialCondition;var r=n["partconditionsList"+e].find((function(t){return"new"==t.condition.trim().toLowerCase()}));n.defaultConditionId=null!=r?r.conditionId:n.materialCondition[0].conditionId,null!=n.workFlow.workflowId&&"0"!=n.workFlow.workflowId||n.isEdit||null==n.workFlow.materialList[e]||(n.workFlow.materialList[e].conditionCodeId=n.defaultConditionId),n.getPNDetails(n.workFlow.materialList[e])}else n["partconditionsList"+e]=[]}),(function(t){n.isSpinnerVisible=!1}));case 5:case"end":return r.stop()}}),r,this)})))}},{key:"getProvisionDetails",value:function(t,e,r){}},{key:"loadAltEquPartInfoData",value:function(t,e){return n.a(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=t,!r.t0){r.next=5;break}return this.isSpinnerVisible=!0,r.next=5,this.itemClassService.loadAltEquPartInfoData(t.itemMasterId).subscribe((function(t){n.isSpinnerVisible=!1,n.AltEquPartInfo=t,n["altequPartList"+e]=n.AltEquPartInfo,n.AltEquPartInfo&&n.AltEquPartInfo.length>0?null!=n.workFlow.workflowId&&"0"!=n.workFlow.workflowId||n.isEdit||null==n.workFlow.materialList[0]||(n.workFlow.materialList[0].AltEquPartDescription=n.altequPartList[e][0].partDescription):(n.workFlow.materialList[0].AltEquPartId="",n.workFlow.materialList[0].AltEquPartDescription="")}),(function(t){n.isSpinnerVisible=!1}));case 5:case"end":return r.stop()}}),r,this)})))}},{key:"onAddTextAreaInfo",value:function(t,e){this.memoIndex=e,this.textAreaInfo=t.memo}},{key:"onSaveTextAreaInfo",value:function(t){t&&(this.textAreaInfo=t,this.workFlow.materialList[this.memoIndex].memo=this.textAreaInfo),Q("#textarea-popup").modal("hide")}},{key:"onCloseTextAreaInfo",value:function(){Q("#textarea-popup").modal("hide")}},{key:"addRow",value:function(){var t=Object.assign({},this.row);t.workflowMaterialListId="0",this.taskList&&this.taskList.forEach((function(e){"Assemble"==e.description&&(t.taskId=e.taskId)})),t.conditionCodeId=this.defaultConditionId,t.extendedCost="0.00",t.extraCost="0.00",t.itemClassificationId="",t.itemMasterId="",t.mandatorySupplementalId=1,t.partDescription="",t.partNumber="",t.isDeferred=this.isDeferredBoolean,t.memo="",t.price="0.00",t.provisionId="",t.quantity="",t.unitCost="0.00",t.unitOfMeasureId=this.defaultUOMId,t.isDelete=!1,t.extendedPrice="",this.materialMandatory?this.materialMandatory.forEach((function(e){1==e.id&&(t.mandatoryOrSupplemental=e.name)})):t.mandatoryOrSupplemental="Mandatory",this.workFlow.materialList.push(t)}},{key:"deleteRow",value:function(t,e){if(null==this.workFlow.materialList[t].workflowMaterialListId||"0"==this.workFlow.materialList[t].workflowMaterialListId||""==this.workFlow.materialList[t].workflowMaterialListId){this.workFlow.materialList.splice(t,1);var r=ft(this.workFlow.materialList);e.resetForm(),this.workFlow.materialList=ft(r)}else this.workFlow.materialList[t].isDelete=!0;this.reCalculate()}},{key:"calculateExtendedCost",value:function(t){t.unitCost=t.unitCost?Object(z.b)(t.unitCost,2):"",t.quantity=t.quantity?t.quantity.toString().replace(/\,/g,""):0,""!=t.quantity&&t.unitCost?t.extendedCost=Object(z.b)(t.quantity*t.unitCost.toString().replace(/\,/g,""),2):t.extendedCost="",this.calculateExtendedCostSummation()}},{key:"calculateExtendedCostSummation",value:function(){this.workFlow.materialExtendedCostSummation=this.workFlow.materialList.reduce((function(t,e){return t+parseFloat(null==e.extendedCost||""===e.extendedCost?0:e.extendedCost.toString().replace(/\,/g,""))}),0),this.workFlow.totalMaterialCostValue=this.workFlow.materialExtendedCostSummation?Object(z.b)(this.workFlow.materialExtendedCostSummation,2):null,this.workFlow.materialExtendedCostSummation=this.workFlow.totalMaterialCostValue}},{key:"calculateExtendedPrice",value:function(t){t.price=t.price?Object(z.b)(t.price,2):"",""!=t.quantity&&""!=t.price?t.extendedPrice=Object(z.b)(t.quantity*parseFloat(t.price.toString().replace(/\,/g,"")),2):t.extendedPrice="",this.calculateExtendedPriceSummation()}},{key:"calculateExtendedPriceSummation",value:function(){this.workFlow.materialExtendedPriceSummation=this.workFlow.materialList.reduce((function(t,e){return t+parseFloat(null==e.extendedPrice||""===e.extendedPrice?0:e.extendedPrice.toString().replace(/\,/g,""))}),0),this.workFlow.materialExtendedPriceSummation=this.workFlow.materialExtendedPriceSummation?Object(z.b)(this.workFlow.materialExtendedPriceSummation,2):null}},{key:"calculateQtySummation",value:function(){this.workFlow.materialQtySummation=this.workFlow.materialList.reduce((function(t,e){return t+parseFloat(null==e.quantity||""===e.quantity?0:e.quantity.toString().replace(/\,/g,""))}),0),this.workFlow.materialList.forEach((function(t){t.quantity=""!=t.quantity?parseFloat(t.quantity.toString().replace(/\,/g,"")):""}))}},{key:"validateQuantity",value:function(t,e){e.quantity||(e.quantity="0")}},{key:"calculatePriceSummation",value:function(){this.workFlow.totalMaterialCost=this.workFlow.materialList.reduce((function(t,e){return t+parseFloat(null==e.price||""===e.price?0:e.price)}),0),this.workFlow.totalMaterialCost=this.workFlow.totalMaterialCost?Object(z.b)(this.workFlow.totalMaterialCost,2):"0.00"}},{key:"isDeferredEnable",value:function(t){t.target.checked?(this.workFlow.materialList=_toConsumableArray(this.workFlow.materialList.map((function(t){return Object.assign({},t,{isDeferred:!0})}))),this.isDeferredBoolean=!0):(this.workFlow.materialList=_toConsumableArray(this.workFlow.materialList.map((function(t){return Object.assign({},t,{isDeferred:!1})}))),this.isDeferredBoolean=!1)}},{key:"saveMaterialsWorkOrder",value:function(){var t=this;1!=this.isQuote&&1!=this.isWorkOrder||this.workFlow.materialList.forEach((function(e){e.provisionId&&t.provisionListData.forEach((function(t){t.value==e.provisionId&&(e.provision=t.label)}))})),this.saveMaterialListForWO.emit(this.workFlow),this.workFlow.materialList=[],this.addRow(),this.workFlow.materialQtySummation=0,this.workFlow.materialExtendedCostSummation=0,this.workFlow.totalMaterialCost=0,this.workFlow.materialExtendedPriceSummation=0}},{key:"closeMaterialTab",value:function(){this.workFlow.materialList=[],this.addRow(),this.workFlow.materialList[0].conditionCodeId=0}},{key:"updateMaterialsWorkOrder",value:function(){this.updateMaterialListForWO.emit(this.workFlow),this.workFlow.materialList=[],this.addRow(),this.workFlow.materialQtySummation=0,this.workFlow.materialExtendedCostSummation=0,this.workFlow.totalMaterialCost=0,this.workFlow.materialExtendedPriceSummation=0}},{key:"markupChanged",value:function(t){try{this.markupList.forEach((function(e){e.value==t.markupPercentageId&&(t.materialCostPlus=t.extendedPrice+t.extendedPrice/100*Number(e.label))}))}catch(e){}}},{key:"getTotalCostPlusAmount",value:function(){var t=0;return this.workFlow.materialList.forEach((function(e){e.materialCostPlus&&(t+=e.materialCostPlus)})),t}},{key:"getTotalFixedAmount",value:function(){var t=0;return this.workFlow.materialList.forEach((function(e){e.fixedAmount&&(t+=Number(e.fixedAmount))})),t}},{key:"getPNDetails",value:function(t){var e=this;t.partNumber&&t.conditionCodeId&&(this.isSpinnerVisible=!0,this.workOrderQuoteService.getPartDetails(t.itemMasterId,t.conditionCodeId).subscribe((function(r){e.isSpinnerVisible=!1,r&&(t.unitCost=t.unitCost?Object(z.b)(t.unitCost,2):Object(z.b)(r.pP_UnitPurchasePrice,2),t.billingRate=r.sP_FSP_FlatPriceAmount,t.markupPercentageId=r.sP_CalSPByPP_MarkUpPercOnListPrice,t.stockType=t.stockType?t.stockType:r.stockType,t.price=t.price?Object(z.b)(t.price,2):Object(z.b)(r.salePrice,2),e.calculateExtendedCost(t),e.calculateExtendedPrice(t))}),(function(t){e.isSpinnerVisible=!1})))}},{key:"getDynamicVariableData",value:function(t,e){return this[t+e]}},{key:"expandAllItemMasterDetails",value:function(){Q("#step1").collapse("show"),Q("#step2").collapse("show"),Q("#step3").collapse("show"),Q("#step4").collapse("show"),Q("#step5").collapse("show"),Q("#step6").collapse("show"),Q("#step7").collapse("show"),Q("#step8").collapse("show")}},{key:"closeAllItemMasterDetails",value:function(){Q("#step1").collapse("hide"),Q("#step2").collapse("hide"),Q("#step3").collapse("hide"),Q("#step4").collapse("hide"),Q("#step5").collapse("hide"),Q("#step6").collapse("hide"),Q("#step7").collapse("hide"),Q("#step8").collapse("hide")}},{key:"closeItemMasterDetails",value:function(){Q("#step1").collapse("show"),Q("#step2").collapse("hide"),Q("#step3").collapse("hide"),Q("#step4").collapse("hide"),Q("#step5").collapse("hide"),Q("#step6").collapse("hide"),Q("#step7").collapse("hide"),Q("#step8").collapse("hide")}},{key:"toGetAllDocumentsList",value:function(t){var e=this;this.isSpinnerVisible=!0,this.commonService.GetDocumentsList(t,22).subscribe((function(t){e.allUploadedDocumentsList=t,e.isSpinnerVisible=!1}),(function(t){e.isSpinnerVisible=!1}))}},{key:"getItemMasterById",value:function(t){var e=this;this.itemMasterService.getItemMasterDetailById(t).subscribe((function(t){e.viewItemMaster=t[0]}),(function(t){e.isSpinnerVisible=!1}))}},{key:"getPurchaseSalesInfo",value:function(t){var e=this;this.isSpinnerVisible=!0,this.itemMasterService.getPurcSaleDetailById(t).subscribe((function(t){e.isSpinnerVisible=!1,e.purchaseSalesInfo=t}),(function(t){e.isSpinnerVisible=!1}))}},{key:"openView",value:function(t){this.closeItemMasterDetails(),this.itemMasterId=t.itemMasterId,this.toGetAllDocumentsList(t.itemMasterId),this.getItemMasterById(t.itemMasterId),this.getPurchaseSalesInfo(this.itemMasterId),this.partNumber=t.partNumber,this.description=t.partDescription,t.isAlternatePartChecked?this.isAlternatePartChecked=!0:this.isAlternatePartChecked=!1,this.isSerialized=t.isSerialized,this.isTimeLife=t.isTimeLife,this.nha=t.nha,this.stockLevel=t.stockLevel,this.nationalStockNumber=t.nationalStockNumber,t.itemClassification?this.itemClassificationId=t.itemClassification.description:this.itemClassificationId="",t.manufacturer?this.manufacturerId=t.manufacturer.name:this.manufacturerId="",t.priority?this.priorityId=t.priority.description:this.priorityId="",t.currency?this.currencyId=t.currency.symbol:this.currencyId="",this.stockUnitOfMeasureId=t.stockUnitOfMeasureId,this.purchaseUnitOfMeasureId=t.purchaseUnitOfMeasureId,this.itemGroupId=t.itemGroup,this.isAcquiredMethodBuy=t.isAcquiredMethodBuy,this.expirationDate=t.expirationDate,this.isReceivedDateAvailable=t.isReceivedDateAvailable,this.isManufacturingDateAvailable=t.isManufacturingDateAvailable,this.isTagDateAvailable=t.isTagDateAvailable,this.isOpenDateAvailable=t.isOpenDateAvailable,this.isShippedDateAvailable=t.isShippedDateAvailable,this.isOtherDateAvailable=t.isOtherDateAvailable,this.provisionId=t.provisionId,this.isHazardousMaterial=t.isHazardousMaterial,this.selectedAircraftTypes=t.selectedAircraftTypes,this.isEnabeCapes=t.isEnabeCapes,this.pma=t.pma,this.der=t.der,this.ataMainId=t.ataMainId,this.isSchematic=t.isSchematic,this.overhaulHours=t.overhaulHours,this.rpHours=t.rpHours,this.testHours=t.testHours,this.turnTimeOverhaulHours=t.turnTimeOverhaulHours,this.turnTimeRepairHours=t.turnTimeRepairHours,this.rfqTracking=t.rfqTracking,this.manufacturingDays=t.manufacturingDays,this.listPrice=t.listPrice,this.glAccountId=t.glAccountId,this.exportCurrencyId=t.exportCurrencyId,this.consumeUnitOfMeasureId=t.consumeUnitOfMeasureId,this.soldUnitOfMeasureId=t.soldUnitOfMeasureId,this.leadTimeDays=t.leadTimeDays,this.leadTimeHours=t.leadTimeHours,this.stockLevel=t.stockLevel,this.reorderPoint=t.reorderPoint,this.reorderQuantiy=t.reorderQuantiy,this.minimumOrderQuantity=t.minimumOrderQuantity,this.isExchangeInfoAvailable=t.isExchangeInfoAvailable,this.exportWeight=t.exportWeight,this.exportValue=t.exportValue,this.salesMarkUpOnListPrice=t.salesMarkUpOnListPrice,this.createdBy=t.createdBy,t.exportClassification?this.exportClassificationId=t.exportClassification.description:this.exportClassificationId="",this.exportSizeLength=t.exportSizeLength,this.exportSizeWidth=t.exportSizeWidth,this.exportSizeHeight=t.exportSizeHeight,this.updatedBy=t.updatedBy,this.memo=t.memo,this.createddate=t.createdDate,this.updatedDate=t.updatedDate,this.getAllSubChapters(),this.getAircraftMappedDataByItemMasterId(t.itemMasterId),this.getATAMappedDataByItemMasterId(t.itemMasterId),this.getNtaeData(t.itemMasterId),this.getExchange(t.itemMasterId),this.loadMasterCompanies()}},{key:"getAllSubChapters",value:function(){var t=this;this.isSpinnerVisible=!0,this.atasubchapter1service.getAtaSubChapter1List().subscribe((function(e){t.isSpinnerVisible=!1;var r=e[0];t.orginalAtaSubChapterValues=r}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getAircraftMappedDataByItemMasterId",value:function(t){var e=this;this.itemMasterService.getMappedAirCraftDetails(t).subscribe((function(t){var r=t;e.aircraftListDataValues=r.map((function(t){return Object.assign({},t,{aircraft:t.aircraftType,model:t.aircraftModel,dashNumber:t.dashNumber,memo:t.memo})}))}),(function(t){e.isSpinnerVisible=!1}))}},{key:"getATAMappedDataByItemMasterId",value:function(t){var e=this;this.isSpinnerVisible=!0,this.itemMasterService.getMappedATADetails(t).subscribe((function(t){e.ataMappedList=t.map((function(t){return e.isSpinnerVisible=!1,Object.assign({},t,{ataChapterName:t.ataChapterCode+" - "+t.ataChapterName,ataSubChapterDescription:Object(z.g)("ataSubChapterCode","ataSubChapterId",t.ataSubChapterId,e.orginalAtaSubChapterValues)+" - "+t.ataSubChapterDescription})}))}),(function(t){e.isSpinnerVisible=!1}))}},{key:"getNtaeData",value:function(t){var e=this;this.filterManufacturerData=[],this.filterDiscriptionData=[],this.filterPartItemClassificationData=[];var r={first:0,rows:10,sortOrder:1,filters:{ItemMasterId:t,MappingType:3}},n={first:0,rows:10,sortOrder:1,filters:{ItemMasterId:t,MappingType:4},globalFilter:null},i={first:0,rows:10,sortOrder:1,filters:{ItemMasterId:t,MappingType:1},globalFilter:null},a={first:0,rows:10,sortOrder:1,filters:{ItemMasterId:t,MappingType:2},globalFilter:null};this.isSpinnerVisible=!0,this.itemMasterService.getnhatlaaltequpartlis(r).subscribe((function(t){e.isSpinnerVisible=!1,e.ntaeData=t,e.getntlafieds(e.ntaeData)}),(function(t){e.isSpinnerVisible=!1})),this.isSpinnerVisible=!0,this.itemMasterService.getnhatlaaltequpartlis(n).subscribe((function(t){e.isSpinnerVisible=!1,e.ntaeData2=t,e.getntlafieds(e.ntaeData2)}),(function(t){e.isSpinnerVisible=!1})),this.isSpinnerVisible=!0,this.itemMasterService.getnhatlaaltequpartlis(i).subscribe((function(t){e.ntaeData3=t,e.isSpinnerVisible=!1,e.getntlafieds(e.ntaeData3)}),(function(t){e.isSpinnerVisible=!1})),this.isSpinnerVisible=!0,this.itemMasterService.getequivalencypartlist(a).subscribe((function(t){e.ntaeData4=t,e.isSpinnerVisible=!1;for(var r=0;r<e.ntaeData4.length;r++)e.filterManufacturerData.push({label:e.ntaeData4[r].manufacturer,value:e.ntaeData4[r].manufacturerId}),e.filterDiscriptionData.push({label:e.ntaeData4[r].altPartDescription,value:e.ntaeData4[r].altPartDescription}),e.filterPartItemClassificationData.push({label:e.ntaeData4[r].itemClassification,value:e.ntaeData4[r].itemClassificationId})}),(function(t){e.isSpinnerVisible=!1}))}},{key:"getExchange",value:function(t){var e=this;this.isSpinnerVisible=!0,this.itemMasterService.getExchangeLoan(t).subscribe((function(t){e.isSpinnerVisible=!1,null!=t[0]&&null!=t[0]&&(e.exchangeLoanInfo=t[0])}),(function(t){e.isSpinnerVisible=!1}))}},{key:"loadMasterCompanies",value:function(){var t=this;this.alertService.startLoadingMessage(),this.isSpinnerVisible=!0,this.masterComapnyService.getMasterCompanies().subscribe((function(e){t.isSpinnerVisible=!1,t.onDataMasterCompaniesLoadSuccessful(e[0])}),(function(e){t.isSpinnerVisible=!1}))}},{key:"onDataMasterCompaniesLoadSuccessful",value:function(t){this.alertService.stopLoadingMessage()}},{key:"getntlafieds",value:function(t){for(var e=0;e<t.length;e++)this.filterManufacturerData.push({label:t[e].manufacturer,value:t[e].manufacturerId}),this.filterDiscriptionData.push({label:t[e].altPartDescription,value:t[e].altPartDescription});this.itemMasterView=!0,Q("#itemMasterView").modal("show")}},{key:"dismissItemMasterModel",value:function(){Q("#itemMasterView").modal("hide"),this.itemMasterId=void 0}},{key:"getPageCount",value:function(t,e){return Math.ceil(t/e)}},{key:"checkQuantityAvailability",value:function(){var t=!1;return this.workFlow.materialList.forEach((function(e){(!e.quantity||Number(e.quantity)<=0)&&(t=!0)})),t}},{key:"onDataLoadFailed",value:function(t){var e=t,r="";if(e.message){if(e.error&&e.error.errors.length>0)for(var n=0;n<e.error.errors.length;n++)r=r+e.error.errors[n].message+"<br/>";this.alertService.showMessage(e.error.message,r,D.d.error)}else this.alertService.showMessage("Error",t.error,D.d.error)}},{key:"errorHandling",value:function(t){var e=this;t.error.errors?t.error.errors.forEach((function(t){e.alertService.showMessage(e.moduleName,t.message,D.d.error)})):this.alertService.showMessage(this.moduleName,"Saving data Failed due to some input error",D.d.error)}},{key:"handleError",value:function(t){var e=this;t.error.errors?t.error.errors.forEach((function(t){e.alertService.showMessage(e.moduleName,t.message,D.d.error)})):this.alertService.showMessage(this.moduleName,"Saving data Failed due to some input error",D.d.error)}},{key:"onTaskChange",value:function(t){}},{key:"downloadFileUpload",value:function(t){}},{key:"onViewAircraft",value:function(t){}},{key:"getAircraftAuditHistory",value:function(t){}},{key:"onViewAircraftonDbl",value:function(t){}}]),t}();gt.ctorParameters=function(){return[{type:L.a},{type:W.a},{type:A.a},{type:bt.a},{type:mt.a},{type:A.a},{type:R.a},{type:D.b},{type:_.a},{type:q.a},{type:vt.a}]},n.b([Object(i.Input)()],gt.prototype,"workFlowObject",void 0),n.b([Object(i.Input)()],gt.prototype,"isWorkOrder",void 0),n.b([Object(i.Input)()],gt.prototype,"isEdit",void 0),n.b([Object(i.Input)()],gt.prototype,"editData",void 0),n.b([Object(i.Input)()],gt.prototype,"isQuote",void 0),n.b([Object(i.Input)()],gt.prototype,"taskList",void 0),n.b([Object(i.Input)()],gt.prototype,"workFlow",void 0),n.b([Object(i.Input)()],gt.prototype,"markupList",void 0),n.b([Object(i.Input)()],gt.prototype,"UpdateMode",void 0),n.b([Object(i.Input)()],gt.prototype,"isWorkFlow",void 0),n.b([Object(i.Input)()],gt.prototype,"mpnPartNumbersList",void 0),n.b([Object(i.Output)()],gt.prototype,"workFlowChange",void 0),n.b([Object(i.Output)()],gt.prototype,"saveMaterialListForWO",void 0),n.b([Object(i.Output)()],gt.prototype,"updateMaterialListForWO",void 0),n.b([Object(i.Input)()],gt.prototype,"isSubWorkOrder",void 0),n.b([Object(i.Input)()],gt.prototype,"unitOfMeasuresList",void 0),n.b([Object(i.Input)()],gt.prototype,"percentageListFromSource",void 0),n.b([Object(i.Input)()],gt.prototype,"conditionsListFromSource",void 0),n.b([Object(i.Input)()],gt.prototype,"isView",void 0),n.b([Object(i.Output)()],gt.prototype,"notify",void 0),gt=n.b([Object(i.Component)({selector:"grd-material",template:n.c(r("vqhA")).default,styles:[n.c(r("qpS/")).default]})],gt);var wt=r("pjuo"),kt=r("JPLv"),yt=function(){function t(e,r,n,a,o,s,l,d,c,u){_classCallCheck(this,t),this.actionService=e,this.authService=r,this.masterComapnyService=n,this._workflowService=a,this.modalService=o,this.employeeService=s,this.configurations=l,this.publicationService=d,this.alertService=c,this.commonService=u,this.allEmployeeinfo=[],this.firstCollection=[],this.itemMasterId=0,this.notify=new i.EventEmitter,this.locations=[],this.updateModeforModels=!1,this.currentPage=1,this.itemsPerPage=10,this.pnMappingList=[],this.aircraftList=[],this.ataList=[],this.attachmentList=[],this.attachmentsPageSize=10,this.pnMappingPageSize=10,this.aircraftPageSize=10,this.ataPageSize=10,this.first=0,this.isSpinnerVisible=!1,this.headersforPNMapping=[{field:"partNumber",header:"PN ID/Code"},{field:"partDescription",header:"PN Description"},{field:"itemClassification",header:"Item Classification"},{field:"manufacturerName",header:"Manufacturer"},{field:"itemGroup",header:"Item Group"}],this.aircraftInformationCols=[{field:"partNumber",header:"PN Number"},{field:"partDescription",header:"PN Description"},{field:"manufacturerName",header:"Manufacturer"},{field:"itemGroup",header:"Item Group"},{field:"aircraft",header:"Aircraft"},{field:"model",header:"Model"},{field:"dashNumber",header:"Dash Numbers"}],this.atacols=[{field:"partNumber",header:"PN Number"},{field:"partDescription",header:"PN Description"},{field:"manufacturerName",header:"Manufacturer"},{field:"itemGroup",header:"Item Group"},{field:"ataChapter",header:"AtaChapter"},{field:"ataSubChapter",header:"AtaSubChapter"}],this.headersforAttachment=[{field:"tagTypeName",header:"Tag Type"}],this.aircraftListByPubId=[],this.aircraftModelListByPubId=[],this.isEditModeBinding=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.dropdownSettings={singleSelection:!1,idField:"dashNumberId",textField:"dashNumber",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:2,allowSearchFilter:!1},this.getPublicationByItemMasterId(this.itemMasterId),this.row=this.workFlow.publication[0],null==this.row&&(this.row={}),this.row.taskId=this.workFlow.taskId,1==this.UpdateMode&&this.workFlow.publication.length>=0?(this.publications=[],this.workFlow.publication.length>0&&this.bindEditModeData(this.workFlow.publication)):(this.row.publicationId="0",this.row.publicationRecordId="0"),this.loadPublicationTypes()}},{key:"loadPublicationTypes",value:function(){var t=this,e=[];this.UpdateMode&&(e=this.workFlow.publication.reduce((function(t,r){return e.push(t.publicationTypeId)}),0)),this.isSpinnerVisible=!0,this.commonService.autoSuggestionSmartDropDownList("PublicationType","PublicationTypeId","Name","",!0,20,e).subscribe((function(e){t.isSpinnerVisible=!1,t.publicationTypes=e.map((function(t){return Object.assign({},t,{publicationTypeId:t.value,name:t.label})}))}),(function(e){t.isSpinnerVisible=!1}))}},{key:"Browse",value:function(){document.getElementById("myFile")}},{key:"ngOnChanges",value:function(){}},{key:"filterfirstName",value:function(t){this.firstCollection=[];for(var e=0;e<this.allEmployeeinfo.length;e++){var r=this.allEmployeeinfo[e].firstName;0==r.toLowerCase().indexOf(t.query.toLowerCase())&&this.firstCollection.push(r)}}},{key:"addRow",value:function(){var t=Object.assign({},this.row);t.id="0",t.taskId=this.workFlow.taskId,t.publicationId="0",t.publicationRecordId="0",t.publicationDescription="",t.publicationType="",t.sequence="",t.source="",t.aircraftManufacturer="",t.model="",t.location="",t.revision="",t.revisionDate="",t.verifiedBy="",t.status="",t.verifiedDate="",t.aircraft=[],t.aircraftModels=[],t.workflowPublicationDashNumbers=[],t.allDashNumbers=[],t.isDeleted=!1,t.attachmentDetails=[],this.workFlow.publication.push(t)}},{key:"deleteRow",value:function(t){"0"==this.workFlow.publication[t].id||""==this.workFlow.publication[t].id?this.workFlow.publication.splice(t,1):this.workFlow.publication[t].isDeleted=!0}},{key:"getPublicationByItemMasterId",value:function(t){var e=this;this.isSpinnerVisible=!0,this._workflowService.getPublicationsByItemMasterId(t).subscribe((function(t){e.publicationDropdown=t,e.isSpinnerVisible=!1}),(function(t){e.isSpinnerVisible=!1}))}},{key:"onPublicationChange",value:function(t,e){for(var r=this.publicationDropdown,n=0;n<r.length;n++)if(parseInt(r[n].publicationRecordId)===parseInt(e.publicationId)){e.attachmentDetails=r[n].attachmentDetails;break}if(0!=e.publicationId)if(null!=this.publications){var i=this.publications.filter((function(t){return t.publicationRecordId==e.publicationId}));0==i.length?this.loadPublicationById(e,!0):this.setPublicationData(i[0],e)}else this.publications=[],this.loadPublicationById(e,!0);else this.setPublicationData(null,e)}},{key:"getAircraftByPublicationId",value:function(t,e){var r=this;this.isSpinnerVisible=!0,this.publicationService.getAircraftManfacturerByPublicationId(this.itemMasterId,t).subscribe((function(t){r["aircraftListByPubId"+e]=t,r.isSpinnerVisible=!1}),(function(t){r.isSpinnerVisible=!1}))}},{key:"getModelByAircraftId",value:function(t,e,r){var n=this;this.publicationService.getAircraftModelByAircraftManfacturerId(this.itemMasterId,t,e).subscribe((function(t){n["aircraftModelListByPubId"+r]=t}),(function(t){n.isSpinnerVisible=!1}))}},{key:"getDashNumberByModelandAircraftIds",value:function(t,e,r,n){var i=this;this.isSpinnerVisible=!0,this.publicationService.getDashNumberByModelandAircraftIds(this.itemMasterId,t,e,r).subscribe((function(t){i.isSpinnerVisible=!1,i["dashNumberListByModelId"+n]=t.map((function(t){return{dashNumberId:t.dashNumberId,dashNumber:t.dashNumber}}),(function(t){i.isSpinnerVisible=!1}))}))}},{key:"getDynamicVariableData",value:function(t,e){return this[t+e]}},{key:"getUniqueAircraft",value:function(t){for(var e=[],r=[],n=0;n<t.length;n++)null!=t[n].aircraftTypeId&&-1==r.indexOf(t[n].aircraftTypeId)&&(e.push(t[n]),r.push(t[n].aircraftTypeId));return e}},{key:"getUniqueAircraftModels",value:function(t){for(var e=[],r=[],n=0;n<t.itemMasterAircraftMapping.length;n++)null!=t.itemMasterAircraftMapping[n].aircraftModelId&&t.itemMasterAircraftMapping[n].aircraftTypeId==t.aircraftManufacturer&&-1==r.indexOf(t.itemMasterAircraftMapping[n].aircraftModelId)&&(e.push(t.itemMasterAircraftMapping[n]),r.push(t.itemMasterAircraftMapping[n].aircraftModelId));return e}},{key:"getUniqueAircraftDashNumbers",value:function(t){for(var e=[],r=[],n=0;n<t.itemMasterAircraftMapping.length;n++)null!=t.itemMasterAircraftMapping[n].dashNumberId&&t.itemMasterAircraftMapping[n].aircraftTypeId==t.aircraftManufacturer&&t.itemMasterAircraftMapping[n].aircraftModelId==t.model&&-1==r.indexOf(t.itemMasterAircraftMapping[n].dashNumberId)&&(e.push(t.itemMasterAircraftMapping[n]),r.push(t.itemMasterAircraftMapping[n].aircraftTypeId));return e}},{key:"bindEditModeData",value:function(t){var e=this;this.workFlow.publication=t.map((function(t,r){return t.publicationId&&(e.getAircraftByPublicationId(t.publicationId,r),e.getModelByAircraftId(t.publicationId,t.aircraftManufacturer,r),e.getDashNumberByModelandAircraftIds(t.publicationId,t.aircraftManufacturer,t.model,r)),Object.assign({},t)}))}},{key:"loadPublicationById",value:function(t,e){var r=this;this.isSpinnerVisible=!0,this.publicationService.getPublicationForWorkFlow(t.publicationId).subscribe((function(n){r.isSpinnerVisible=!1,null!=n[0]&&null!=n[0]&&(r.publications.push(n[0]),t.publicationId==n[0].publicationRecordId&&(t.itemMasterAircraftMapping=n[0].itemMasterAircraftMapping,t.aircraft=r.getUniqueAircraft(n[0].itemMasterAircraftMapping),e?(t.aircraftModels=[],t.allDashNumbers=[],t.workflowPublicationDashNumbers=[]):(t.aircraftModels=r.getUniqueAircraftModels(t),t.allDashNumbers=r.getUniqueAircraftDashNumbers(t)),e&&r.setPublicationData(n[0],t)))}),(function(t){r.isSpinnerVisible=!1}))}},{key:"downloadFileUpload",value:function(t){var e="".concat(this.configurations.baseUrl,"/api/FileUpload/downloadattachedfile?filePath=").concat(t.link);window.location.assign(e)}},{key:"filterUniqueCombination",value:function(t){var e,r=[],n=_createForOfIteratorHelper(t.itemMasterAircraftMapping);try{for(n.s();!(e=n.n()).done;){var i=e.value;0==r.filter((function(t){return t.aircraftTypeId==i.aircraftTypeId&&t.aircraftModelId==i.aircraftModelId&&t.dashNumberId==i.dashNumberId})).length&&r.push(i)}}catch(a){n.e(a)}finally{n.f()}t.itemMasterAircraftMapping=r}},{key:"setPublicationData",value:function(t,e){null!=t?(e.publicationDescription=null!=t.description?t.description:"",e.revisionDate=null!=t.revisionDate?new Date(t.revisionDate).toLocaleDateString():"",e.publicationType=null!=t.publicationTypeId?t.publicationTypeId:"",e.sequence=null!=t.sequence?t.sequence:"",e.aircraftManufacturer="0",e.itemMasterAircraftMapping=t.itemMasterAircraftMapping,e.aircraft=this.getUniqueAircraft(t.itemMasterAircraftMapping),e.source=null!=t.asd?t.asd:"",e.model="0",e.aircraftModels=[],e.allDashNumbers=[],e.location=null!=t.location?t.location:"",e.verifiedBy=null!=t.verifiedBy?t.verifiedBy:"",e.status=null!=t.isActive?t.isActive:"",e.verifiedDate=null!=t.verifiedDate?new Date(t.verifiedDate).toLocaleDateString():""):(e.publicationDescription="",e.revisionDate="",e.publicationType=0,e.sequence="",e.aircraftManufacturer="0",e.aircraft=[],e.source="",e.model="0",e.workflowPublicationDashNumbers=[],e.itemMasterAircraftMapping=[],e.aircraftModels=[],e.allDashNumbers=[],e.location="",e.verifiedBy="",e.status=0,e.verifiedDate="")}},{key:"getAircraftModels",value:function(t){t.aircraftModels=this.getUniqueAircraftModels(t),t.model="0",t.workflowPublicationDashNumbers=[],t.allDashNumbers=[]}},{key:"getDashNumbers",value:function(t,e){var r=this;if(this.workFlow.publication.filter((function(t){return t.taskId==r.workFlow.taskId&&t.publicationId==e.publicationId&&t.aircraftManufacturer==e.aircraftManufacturer&&t.model==e.model})).length>1)return t.target.value="0",void this.alertService.showMessage("Publication","Same combination is already in use, try other combination",D.d.error);e.allDashNumbers=this.getUniqueAircraftDashNumbers(e)}},{key:"onDeSelect",value:function(t,e){}},{key:"onItemSelect",value:function(t,e){}},{key:"onSelectAll",value:function(t,e){}},{key:"openAllCollapse",value:function(){Q("#step1").collapse("show"),Q("#step2").collapse("show"),Q("#step3").collapse("show"),Q("#step4").collapse("show")}},{key:"closeAllCollapse",value:function(){Q("#step1").collapse("hide"),Q("#step2").collapse("hide"),Q("#step3").collapse("hide"),Q("#step4").collapse("hide")}},{key:"loadMasterCompanies",value:function(){var t=this;this.isSpinnerVisible=!0,this.masterComapnyService.getMasterCompanies().subscribe((function(e){t.isSpinnerVisible=!1,t.allComapnies=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"getFilesByPublicationId",value:function(t){var e=this;this.isSpinnerVisible=!0,this.publicationService.getFilesBypublication(t).subscribe((function(t){e.attachmentList=t||[],e.isSpinnerVisible=!1,e.attachmentList.length>0&&e.attachmentList.forEach((function(t){t.isFileFromServer=!0,t.attachmentDetails.forEach((function(t){t.isFileFromServer=!0}))}))}),(function(t){e.isSpinnerVisible=!1}))}},{key:"viewPublicationDetails",value:function(t){var e=this;t=Object.assign({},t,{publicationRecordId:t.publicationId}),this.closeAllCollapse(),this.isActive=t.isActive,this.loadMasterCompanies(),this.getFilesByPublicationId(t.publicationRecordId),this.isSpinnerVisible=!0,this.publicationService.getpublicationbyIdView(t.publicationRecordId).subscribe((function(t){e.generalInfo=t[0],e.isSpinnerVisible=!1}),(function(t){e.isSpinnerVisible=!1})),this.isSpinnerVisible=!0,this.publicationService.getPublicationPNMapping(t.publicationRecordId).subscribe((function(t){e.isSpinnerVisible=!1,e.pnMappingList=t.map((function(t){return Object.assign({},t,{partNumber:t.partNumber,partDescription:t.partDescription,itemClassification:t.itemClassification})}))}),(function(t){e.isSpinnerVisible=!1})),this.isSpinnerVisible=!0,this.publicationService.getAircraftMappedByPublicationId(t.publicationRecordId).subscribe((function(t){e.isSpinnerVisible=!1,e.aircraftList=t.map((function(t){return Object.assign({},t,{aircraft:t.aircraftType,model:t.aircraftModel,dashNumber:t.dashNumber})}))}),(function(t){e.isSpinnerVisible=!1})),this.isSpinnerVisible=!0,this.publicationService.getAtaMappedByPublicationId(t.publicationRecordId).subscribe((function(t){e.isSpinnerVisible=!1;var r=t;e.ataList=r.map((function(t){return Object.assign({},t,{ataChapter:"".concat(t.ataChapterCode," - ").concat(t.ataChapterName),ataSubChapter:"".concat(t.ataSubChapterCode," - ").concat(t.ataSubChapterDescription)})}))}),(function(t){e.isSpinnerVisible=!1})),Q("#view1").modal("show"),Q("#step1").collapse("show")}},{key:"getPageCount",value:function(t,e){return Math.ceil(t/e)}},{key:"onDataLoadFailed",value:function(t){var e=t,r="";if(e.message){if(e.error&&e.error.errors.length>0)for(var n=0;n<e.error.errors.length;n++)r=r+e.error.errors[n].message+"<br/>";this.alertService.showMessage(e.error.message,r,D.d.error)}else this.alertService.showMessage("Error",t.error,D.d.error)}},{key:"userName",get:function(){return this.authService.currentUser?this.authService.currentUser.userName:""}}]),t}();yt.ctorParameters=function(){return[{type:L.a},{type:S.a},{type:vt.a},{type:P.a},{type:C.c},{type:wt.a},{type:kt.a},{type:H.a},{type:D.b},{type:W.a}]},n.b([Object(i.Input)()],yt.prototype,"itemMasterId",void 0),n.b([Object(i.Input)()],yt.prototype,"workFlow",void 0),n.b([Object(i.Input)()],yt.prototype,"UpdateMode",void 0),n.b([Object(i.Output)()],yt.prototype,"notify",void 0),yt=n.b([Object(i.Component)({selector:"grd-publication",template:n.c(r("Gnhu")).default,styles:[n.c(r("B53w")).default]})],yt);var xt=function(){function t(e,r,n,a,o,s,l,d){_classCallCheck(this,t),this.actionService=e,this.workOrderQuoteService=r,this.itemClassService=n,this.vendorService=a,this.modalService=o,this.itemser=s,this.alertService=l,this.commonService=d,this.isWorkOrder=!1,this.isEdit=!1,this.isQuote=!1,this.taskList=[],this.isWorkFlow=!1,this.saveExclusionsListForWO=new i.EventEmitter,this.updateExclusionsListForWO=new i.EventEmitter,this.notify=new i.EventEmitter,this.exclusionEstimatedOccurances=[],this.allPartnumbersInfo=[],this.currentPage=1,this.itemsPerPage=10,this.allPartDetails=[],this.partListData=[],this.conditionList=[],this.isSpinnerVisible=!1,this.deleteRowRecord={},this.disabledMemo=!1;for(var c=0;c<=100;c++)this.exclusionEstimatedOccurances.push({id:c,name:String(c)})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;if(this.isEdit){this.workFlow.exclusions=[];var e=Object.assign({},this.editData,{partDescription:this.editData.epnDescription,partNumber:this.editData.epn,estimtPercentOccurrance:this.isQuote?this.editData.exstimtPercentOccuranceId:this.editData.exstimtPercentOccurance});this.workFlow.exclusions.push(e),this.reCalculate(),this.isWorkOrder&&this.workFlow.exclusions.map((function(e,r){t.getPartConditions(e,r),t.getPNDetails(e)}))}else this.UpdateMode||(this.workFlow.exclusions=[],this.row=this.workFlow.exclusions[0],this.workFlow.exclusions=[],this.addRow());this.isWorkOrder?this.row=this.workFlow.exclusions[0]:(this.row=this.workFlow.exclusions[0],null==this.row&&(this.row={}),this.isQuote||(this.row.taskId=this.workFlow.taskId)),this.UpdateMode&&this.reCalculate(),this.workFlow.exclusions&&0!=this.workFlow.exclusions.length&&this.workFlow.exclusions.map((function(e,r){t.workFlow.exclusions[r].partName=e,t.workFlow.exclusions[r].conditionId=e.conditionCodeId?e.conditionCodeId:e.conditionId})),this.getConditionsList()}},{key:"ngOnChanges",value:function(){this.UpdateMode&&this.reCalculate(),this.isWorkFlow||(this.workFlow.exclusions=[],this.addRow())}},{key:"enableSaveMemo",value:function(){this.disabledMemo=!1}},{key:"getConditionsList",value:function(){var t=this;this.isSpinnerVisible=!0;var e=[];this.UpdateMode&&(e=this.workFlow.exclusions.reduce((function(t,r){return e.push(t.conditionId)}),0)),e&&0==e.length&&e.push(0),this.commonService.autoSuggestionSmartDropDownList("Condition","ConditionId","Description","",!0,20,e).subscribe((function(e){t.isSpinnerVisible=!1,t.conditionList=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"reCalculate",value:function(){this.calculateQtySummation(),this.calculateExtendedCostSummation()}},{key:"loapartItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.isSpinnerVisible=!0;var r=[];this.UpdateMode&&(r=this.workFlow.exclusions.reduce((function(t,e){return r.push(t.itemMasterId)}),0)),this.commonService.autoCompleteSmartDropDownItemMasterList(e,!0,20,r).subscribe((function(e){t.isSpinnerVisible=!1,t.partCollection=e.map((function(t){return{partId:t.value,itemMasterId:t.value,partDescription:t.partDescription,partNumber:t.label,itemClassificationId:t.itemClassificationId,itemClassification:t.itemClassification,partName:t.label,conditionId:t.conditionId}})),t.itemclaColl=t.partCollection}),(function(e){t.isSpinnerVisible=!1}))}},{key:"addRow",value:function(){var t=Object.assign({},this.row);t.workflowExclusionId="0",this.taskList&&this.taskList.forEach((function(e){"Assemble"==e.description&&(t.taskId=e.taskId)})),t.partDescription="",t.conditionId="",t.itemClassificationId="",t.stockType="",t.estimtPercentOccurrance="",t.extendedCost="",t.partName="",t.partNumber=null,t.itemMasterId="",t.quantity="",t.unitCost="",t.memo="",t.itemMasterId="",t.isDelete=!1,this.workFlow.exclusions.push(t)}},{key:"onTaskChange",value:function(t){this.taskList.forEach((function(e){e.taskId==t.taskId&&(t.taskName=e.description)}))}},{key:"clearValue",value:function(t,e){t.partNumber=null}},{key:"onPartSelect",value:function(t,e,r){var n=this;if(this.workFlow.exclusions.filter((function(e){return e.partNumber==t.partNumber&&e.taskId==n.workFlow.taskId})).length>1)return e.itemMasterId="",e.partDescription="",e.partNumber="",e.partName="",e.itemClassificationId="",t="",void this.alertService.showMessage("Workflow","EPN is already in use in Exclusion List.",D.d.error);if(this.itemclaColl)for(var i=0;i<this.itemclaColl.length;i++)t.partName==this.itemclaColl[i].partName&&(e.itemMasterId=this.itemclaColl[i].partId,e.partDescription=this.itemclaColl[i].partDescription,e.partNumber=t.partNumber,e.partName=t,e.conditionId=t.conditionId,e.itemClassificationId=this.itemclaColl[i].itemClassificationId,e.itemClassification=this.itemclaColl[i].itemClassification);this.getPNDetails(e)}},{key:"filterpartItems",value:function(t){void 0!==t.query&&null!==t.query&&this.loapartItems(t.query)}},{key:"validateQuantity",value:function(t,e){""!=t.target.value&&(e.quantity=Object(z.b)(e.quantity,0))}},{key:"calculateExtendedCost",value:function(t){t.unitCost=t.unitCost?Object(z.b)(t.unitCost,2):"",t.quantity=t.quantity?t.quantity.toString().replace(/\,/g,""):0;var e=parseFloat(t.quantity)*parseFloat(t.unitCost.toString().replace(/\,/g,""));e>0?(t.extendedCost=Object(z.b)(e,2),this.calculateExtendedCostSummation()):t.extendedCost=""}},{key:"getPNDetails",value:function(t){var e=this;t.conditionId=t.conditionId?t.conditionId:1,t.conditionCodeId=t.conditionId,t&&t.partNumber&&t.conditionId&&(this.isSpinnerVisible=!0,this.workOrderQuoteService.getPartDetails(t.itemMasterId,t.conditionId).subscribe((function(r){e.isSpinnerVisible=!1,r&&(t.unitCost=r.pP_UnitPurchasePrice,t.unitCost=t.unitCost?Object(z.b)(t.unitCost,2):"0.00",t.billingRate=r.sP_FSP_FlatPriceAmount,t.markupPercentageId=r.sP_CalSPByPP_MarkUpPercOnListPrice,t.stockType=r.stockType,t.price=r.salePrice,e.calculateExtendedCost(t))}),(function(t){e.isSpinnerVisible=!1})),this.reCalculate())}},{key:"getDynamicVariableData",value:function(t,e){return this[t+e]}},{key:"getPartConditions",value:function(t,e){return n.a(this,void 0,void 0,regeneratorRuntime.mark((function r(){var n=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=t,!r.t0){r.next=5;break}return this.isSpinnerVisible=!0,r.next=5,this.workOrderQuoteService.getPartConditions(t.itemMasterId).subscribe((function(r){if(n.isSpinnerVisible=!1,n.materialCondition=r,n.materialCondition&&n.materialCondition.length>0){n["partconditionsList"+e]=n.materialCondition;var i=n["partconditionsList"+e].find((function(t){return"new"==t.condition.trim().toLowerCase()}));n.defaultConditionId=null!=i?i.conditionId:n.materialCondition[0].conditionId,null!=n.workFlow.workflowId&&"0"!=n.workFlow.workflowId||n.isEdit||null==n.workFlow.exclusions[e]||(n.workFlow.exclusions[e].conditionId=n.defaultConditionId),n.getPNDetails(n.workFlow.exclusions[e])}else n["partconditionsList"+e]=[];n.isEdit,n.workFlow.exclusions[e].conditionId=t.conditionId?t.conditionId:n.defaultConditionId}),(function(t){n.isSpinnerVisible=!1}));case 5:case"end":return r.stop()}}),r,this)})))}},{key:"loadItemClassData",value:function(){var t=this;this.isSpinnerVisible=!0,this.itemClassService.getWorkFlows().subscribe((function(e){t.isSpinnerVisible=!1,t.itemClassInfo=e[0]}),(function(e){t.isSpinnerVisible=!1}))}},{key:"calculateQtySummation",value:function(){this.workFlow.sumofQty=this.workFlow.exclusions.filter((function(t){return 1!=t.isDelete})).reduce((function(t,e){return t+parseFloat(null==e.quantity||""===e.quantity?0:e.quantity)}),0)}},{key:"calculateExtendedCostSummation",value:function(){this.workFlow.sumofExtendedCost=this.workFlow.exclusions.filter((function(t){return 1!=t.isDelete})).reduce((function(t,e){return t+parseFloat(null==e.extendedCost||""===e.extendedCost?0:e.extendedCost.toString().replace(/\,/g,""))}),0),this.workFlow.sumofExtendedCost=this.workFlow.sumofExtendedCost?Object(z.b)(this.workFlow.sumofExtendedCost,2):""}},{key:"onAddTextAreaInfo",value:function(t,e){this.memoIndex=e,this.textAreaInfo=t.memo,this.disabledMemo=!0}},{key:"onSaveTextAreaInfo",value:function(t){t&&(this.textAreaInfo=t,this.workFlow.exclusions[this.memoIndex].memo=this.textAreaInfo),Q("#textarea-popupexclusion").modal("hide"),this.disabledMemo=!0}},{key:"onCloseTextAreaInfo",value:function(){Q("#textarea-popupexclusion").modal("hide"),this.disabledMemo=!0}},{key:"saveExclusionsWorkOrder",value:function(){this.saveExclusionsListForWO.emit(this.workFlow),this.workFlow.exclusions=[],this.addRow(),this.workFlow.sumofQty=0,this.workFlow.sumofExtendedCost=0}},{key:"closeExclusionTab",value:function(){this.workFlow.exclusions=[],this.addRow()}},{key:"updateExclusionsWorkOrder",value:function(){this.updateExclusionsListForWO.emit(this.workFlow),this.workFlow.exclusions=[],this.addRow(),this.workFlow.sumofQty=0,this.workFlow.sumofExtendedCost=0}},{key:"markupChanged",value:function(t){try{this.markupList.forEach((function(e){e.value==Number(t.markUpPercentageId)&&(t.costPlusAmount=t.extendedPrice+t.extendedPrice/100*Number(e.label))}))}catch(e){}}},{key:"close",value:function(){this.isEdit=!1,this.editData=void 0,this.workFlow.exclusions=[],this.addRow(),this.workFlow.sumofQty=0,this.workFlow.sumofExtendedCost=0,Q("#addNewExclusions").modal("hide")}},{key:"dismissModel",value:function(){this.modal.close()}},{key:"openDelete",value:function(t,e,r){this.deletedRowIndex=r,this.deleteRowRecord=e,this.modal=this.modalService.open(t,{size:"sm",backdrop:"static",keyboard:!1})}},{key:"deleteRow",value:function(){null==this.workFlow.exclusions[this.deletedRowIndex].workflowExclusionId||"0"==this.workFlow.exclusions[this.deletedRowIndex].workflowExclusionId||""==this.workFlow.exclusions[this.deletedRowIndex].workflowExclusionId?this.workFlow.exclusions.splice(this.deletedRowIndex,1):this.workFlow.exclusions[this.deletedRowIndex].isDelete=!0,this.reCalculate()}},{key:"onDataLoadFailed",value:function(t){var e=t,r="";if(e.message){if(e.error&&e.error.errors.length>0)for(var n=0;n<e.error.errors.length;n++)r=r+e.error.errors[n].message+"<br/>";this.alertService.showMessage(e.error.message,r,D.d.error)}else this.workFlow.exclusions[this.deletedRowIndex].isDelete=!0;this.reCalculate(),this.dismissModel()}}]),t}();xt.ctorParameters=function(){return[{type:L.a},{type:mt.a},{type:q.a},{type:R.a},{type:C.c},{type:A.a},{type:D.b},{type:W.a}]},n.b([Object(i.Input)()],xt.prototype,"isWorkOrder",void 0),n.b([Object(i.Input)()],xt.prototype,"workFlow",void 0),n.b([Object(i.Input)()],xt.prototype,"UpdateMode",void 0),n.b([Object(i.Input)()],xt.prototype,"isEdit",void 0),n.b([Object(i.Input)()],xt.prototype,"isQuote",void 0),n.b([Object(i.Input)()],xt.prototype,"markupList",void 0),n.b([Object(i.Input)()],xt.prototype,"editData",void 0),n.b([Object(i.Input)()],xt.prototype,"taskList",void 0),n.b([Object(i.Input)()],xt.prototype,"isWorkFlow",void 0),n.b([Object(i.Output)()],xt.prototype,"saveExclusionsListForWO",void 0),n.b([Object(i.Output)()],xt.prototype,"updateExclusionsListForWO",void 0),n.b([Object(i.Output)()],xt.prototype,"notify",void 0),xt=n.b([Object(i.Component)({selector:"grd-exclusions",template:n.c(r("CBII")).default,styles:[n.c(r("bELQ")).default]})],xt);var It=function(){function t(e,r,n,a,o,s,l,d,c,u,p){_classCallCheck(this,t),this.commonService=e,this.modalService=r,this.route=n,this.router=a,this.expertiseService=o,this.itemClassService=s,this.unitofmeasureService=l,this.conditionService=d,this.itemser=c,this.vendorService=u,this.alertService=p,this.allPartnumbersInfo=[],this.notify=new i.EventEmitter,this.currentPage=1,this.itemsPerPage=10,this.isSpinnerVisible=!1,this.deleteRowRecord={}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.row=this.workFlow.measurements[0],null==this.row&&(this.row={}),this.row.taskId=this.workFlow.taskId,this.workFlow.measurements&&0!=this.workFlow.measurements.length&&this.workFlow.measurements.map((function(e,r){t.workFlow.measurements[r].partName=e}))}},{key:"ngOnChanges",value:function(){}},{key:"addRow",value:function(){var t=Object.assign({},this.row);t.workflowMeasurementId="0",t.taskId=this.workFlow.taskId,t.partNumber="",t.partDescription="",t.sequence="",t.stage="",t.min="",t.max="",t.expected="",t.memo="",t.diagramURL="",t.isDelete=!1,this.workFlow.measurements.push(t)}},{key:"onPartSelect",value:function(t,e){var r=this;if(this.workFlow.measurements.filter((function(e){return e.taskId==r.workFlow.taskId&&e.partDescription==t})).length>1)return e.partNumber="",e.partDescription="",t="",void this.alertService.showMessage("Workflow","PN in measurement is already in use",D.d.error);if(this.itemclaColl)for(var n=0;n<this.itemclaColl.length;n++)t==this.itemclaColl[n].partName&&(e.partNumber=this.itemclaColl[n].partId,e.partDescription=this.itemclaColl[n].partName)}},{key:"loapartItems",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isSpinnerVisible=!0;var r=[];this.UpdateMode&&(r=this.workFlow.measurements.reduce((function(t,e){return r.push(t.partId)}),0)),this.commonService.autoCompleteSmartDropDownItemMasterList(e,!0,20,r).subscribe((function(e){t.isSpinnerVisible=!1,t.partCollection=e.map((function(t){return Object.assign({},t,{partId:t.value,partDescription:t.partDescription,partNumber:t.label,partName:t.label})})),t.itemclaColl=t.partCollection}),(function(e){t.isSpinnerVisible=!1}))}},{key:"filterpartItems",value:function(t){void 0!==t.query&&null!==t.query&&this.loapartItems(t.query)}},{key:"ptnumberlistdata",value:function(){var t=this;this.isSpinnerVisible=!0,this.itemser.getPartDetailsDropdown().subscribe((function(e){t.isSpinnerVisible=!1,t.allPartnumbersInfo=e}),(function(e){t.isSpinnerVisible=!1}))}},{key:"checkDuplicateSequence",value:function(t,e){var r=this;null!=this.workFlow.measurements&&this.workFlow.measurements.length>0&&this.workFlow.measurements.filter((function(t){return t.sequence==e.sequence&&e.taskId==r.workFlow.taskId})).length>1&&(this.alertService.showMessage("Work Flow","Duplicate Sequence are not allowed Measurement.",D.d.error),e.sequence="",t.target.value="")}},{key:"onDataLoadFailed",value:function(t){var e=t,r="";if(e.message){if(e.error&&e.error.errors.length>0)for(var n=0;n<e.error.errors.length;n++)r=r+e.error.errors[n].message+"<br/>";this.alertService.showMessage(e.error.message,r,D.d.error)}else this.alertService.showMessage("Error",t.error,D.d.error)}},{key:"onAddTextAreaInfo",value:function(t,e){this.memoIndex=e,this.textAreaInfo=t.memo,Q("#textareapopupMemo").modal("show")}},{key:"onSaveTextAreaInfo",value:function(t){t&&(this.textAreaInfo=t,this.workFlow.measurements[this.memoIndex].memo=this.textAreaInfo),Q("#textareapopupMemo").modal("hide")}},{key:"onCloseTextAreaInfo",value:function(){Q("#textareapopupMemo").modal("hide")}},{key:"validateMaxMin",value:function(t,e){e&&e.min&&e.max&&e.min>e.max&&(e.max="",this.alertService.showMessage("Work Flow","Enter maximum Value.",D.d.error))}},{key:"dismissModel",value:function(){this.modal.close()}},{key:"openDelete",value:function(t,e,r){this.deletedRowIndex=r,this.deleteRowRecord=e,this.modal=this.modalService.open(t,{size:"sm",backdrop:"static",keyboard:!1})}},{key:"deleteRow",value:function(){"0"==this.workFlow.measurements[this.deletedRowIndex].workflowMeasurementId||null==this.workFlow.measurements[this.deletedRowIndex].workflowMeasurementId||""==this.workFlow.measurements[this.deletedRowIndex].workflowMeasurementId?this.workFlow.measurements.splice(this.deletedRowIndex,1):this.workFlow.measurements[this.deletedRowIndex].isDelete=!0,this.dismissModel()}}]),t}();It.ctorParameters=function(){return[{type:W.a},{type:C.c},{type:O.ActivatedRoute},{type:O.Router},{type:tt.a},{type:q.a},{type:_.a},{type:j.a},{type:A.a},{type:R.a},{type:D.b}]},n.b([Object(i.Input)()],It.prototype,"workFlow",void 0),n.b([Object(i.Input)()],It.prototype,"UpdateMode",void 0),n.b([Object(i.Output)()],It.prototype,"notify",void 0),It=n.b([Object(i.Component)({selector:"grd-measurement",template:n.c(r("pOwL")).default,styles:[n.c(r("u1Dv")).default]})],It);var Ft=r("UPO+"),Ct=r("JjoW"),Mt=r("rWV4"),St=r("Gi4r"),Dt=r("Mz6y"),Ot=function(){function t(){_classCallCheck(this,t),this.notify=new i.EventEmitter}return _createClass(t,[{key:"onClick",value:function(){this.notify.emit("rating "+this.rating.toString()+" was clicked")}},{key:"ngOnChanges",value:function(){this.starWidth=75*this.rating/5}}]),t}();n.b([Object(i.Input)()],Ot.prototype,"rating",void 0),n.b([Object(i.Output)()],Ot.prototype,"notify",void 0),Ot=n.b([Object(i.Component)({selector:"pm-star",template:n.c(r("T83f")).default,styles:[n.c(r("uu7O")).default]})],Ot);var Pt=r("p8Qr"),Lt=r("P7KQ"),Et=r("dLo5"),Wt=r("r5xa"),Nt=r("3/N/"),At=r("A2ek"),Tt=r("oU8O"),Rt=r("agHx"),jt=r("JDd4"),_t=r("HkNw"),qt=r("lSuX"),Ut=r("qbUZ"),Vt=r("t2eO"),Bt=r("1joE"),Ht=r("DzC7"),zt=r("PnId");r.d(e,"WorkFlowPagesModule",(function(){return Gt}));var Gt=function t(){_classCallCheck(this,t)};Gt=n.b([Object(i.NgModule)({imports:[Lt.CardModule,I.CalendarModule,x.EditorModule,d.TableModule,jt.InputTextareaModule,m.AutoCompleteModule,Nt.CheckboxModule,Et.DropdownModule,At.SpinnerModule,Tt.ToolbarModule,Wt.TooltipModule,Rt.KeyFilterModule,a.a,y.InputSwitchModule,o.FormsModule,o.ReactiveFormsModule,s.b,l.CommonModule,d.TableModule,c.ButtonModule,u.SelectButtonModule,p.InputTextModule,h.MultiSelectModule,st,m.AutoCompleteModule,Ct.a,Mt.a,St.a,f.GMapModule,v.RadioButtonModule,b.FileUploadModule,w.DialogModule,g.StepsModule,k.BreadcrumbModule,I.CalendarModule,lt.AccordionModule,dt.TabViewModule,Dt.a,C.d,zt.ItemmasterpagesModule,Ft.a.forRoot()],declarations:[X,$,et,at,rt,ut,pt,ht,gt,yt,xt,It,Ot],exports:[at,$,rt,ut,pt,ht,gt,yt,xt,It],providers:[L.a,ct.a,T.a,Pt.a,nt.a,_t.a,nt.a,_t.a,U.a,qt.a,V.a,Ut.a,B.a,Vt.a,it.a,Bt.a,mt.a,Ht.a],entryComponents:[]})],Gt)},qZTm:function(t,e,r){var n=r("fR/l"),i=r("MvSz"),a=r("7GkX");t.exports=function(t){return n(t,a,i)}},qgGH:function(t,e,r){"use strict";var n=this&&this.__decorate||function(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,r,o):i(e,r))||o);return a>3&&o&&Object.defineProperty(e,r,o),o},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});var a=r("8Y7J"),o=r("SVse"),s=r("Fa87"),l=r("s7LF");e.SPINNER_VALUE_ACCESSOR={provide:l.NG_VALUE_ACCESSOR,useExisting:a.forwardRef((function(){return d})),multi:!0};var d=function(){function t(t,e){this.el=t,this.cd=e,this.onChange=new a.EventEmitter,this.onFocus=new a.EventEmitter,this.onBlur=new a.EventEmitter,this.step=1,this.onModelChange=function(){},this.onModelTouched=function(){},this.keyPattern=/[0-9\+\-]/,this.negativeSeparator="-"}return Object.defineProperty(t.prototype,"type",{set:function(t){console.warn("type property is removed as Spinner does not format the value anymore")},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.value&&this.value.toString().indexOf(".")>0?this.precision=this.value.toString().split(/[.]/)[1].length:this.step%1!=0&&(this.precision=this.step.toString().split(/[,]|[.]/)[1].length),this.formatInput&&(this.localeDecimalSeparator=1.1.toLocaleString().substring(1,2),this.localeThousandSeparator=1e3.toLocaleString().substring(1,2),this.thousandRegExp=new RegExp("["+(this.thousandSeparator||this.localeThousandSeparator)+"]","gim"),this.decimalSeparator&&this.thousandSeparator&&this.decimalSeparator===this.thousandSeparator&&console.warn("thousandSeparator and decimalSeparator cannot have the same value."))},t.prototype.repeat=function(t,e,r){var n=this,i=e||500;this.clearTimer(),this.timer=setTimeout((function(){n.repeat(t,40,r)}),i),this.spin(t,r)},t.prototype.spin=function(t,e){var r,n=this.step*e;r=this.value?"string"==typeof this.value?this.parseValue(this.value):this.value:0,this.precision?this.value=parseFloat(this.toFixed(r+n,this.precision)):this.value=r+n,void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=r),void 0!==this.min&&this.value<this.min&&(this.value=this.min),void 0!==this.max&&this.value>this.max&&(this.value=this.max),this.formatValue(),this.onModelChange(this.value),this.onChange.emit(t)},t.prototype.toFixed=function(t,e){var r=Math.pow(10,e||0);return String(Math.round(t*r)/r)},t.prototype.onUpButtonMousedown=function(t){this.disabled||(this.inputfieldViewChild.nativeElement.focus(),this.repeat(t,null,1),this.updateFilledState(),t.preventDefault())},t.prototype.onUpButtonMouseup=function(t){this.disabled||this.clearTimer()},t.prototype.onUpButtonMouseleave=function(t){this.disabled||this.clearTimer()},t.prototype.onDownButtonMousedown=function(t){this.disabled||(this.inputfieldViewChild.nativeElement.focus(),this.repeat(t,null,-1),this.updateFilledState(),t.preventDefault())},t.prototype.onDownButtonMouseup=function(t){this.disabled||this.clearTimer()},t.prototype.onDownButtonMouseleave=function(t){this.disabled||this.clearTimer()},t.prototype.onInputKeydown=function(t){38==t.which?(this.spin(t,1),t.preventDefault()):40==t.which&&(this.spin(t,-1),t.preventDefault())},t.prototype.onInputChange=function(t){this.onChange.emit(t)},t.prototype.onInput=function(t){this.value=this.parseValue(t.target.value),this.onModelChange(this.value),this.updateFilledState()},t.prototype.onInputBlur=function(t){this.focus=!1,this.formatValue(),this.onModelTouched(),this.onBlur.emit(t)},t.prototype.onInputFocus=function(t){this.focus=!0,this.onFocus.emit(t)},t.prototype.parseValue=function(t){var e;return""===t.trim()?e=null:(this.formatInput&&(t=t.replace(this.thousandRegExp,"")),this.precision?(t=this.formatInput?t.replace(this.decimalSeparator||this.localeDecimalSeparator,"."):t.replace(",","."),e=parseFloat(t)):e=parseInt(t,10),isNaN(e)?e=null:(null!==this.max&&e>this.max&&(e=this.max),null!==this.min&&e<this.min&&(e=this.min))),e},t.prototype.formatValue=function(){var t=this.value;null!=t?(this.formatInput&&(t=t.toLocaleString(void 0,{maximumFractionDigits:20}),this.decimalSeparator&&this.thousandSeparator&&(t=t.split(this.localeDecimalSeparator),this.precision&&t[1]&&(t[1]=(this.decimalSeparator||this.localeDecimalSeparator)+t[1]),this.thousandSeparator&&t[0].length>3&&(t[0]=t[0].replace(new RegExp("["+this.localeThousandSeparator+"]","gim"),this.thousandSeparator)),t=t.join(""))),this.formattedValue=t.toString()):this.formattedValue=null,this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.formattedValue)},t.prototype.clearTimer=function(){this.timer&&clearInterval(this.timer)},t.prototype.writeValue=function(t){this.value=t,this.formatValue(),this.updateFilledState(),this.cd.markForCheck()},t.prototype.registerOnChange=function(t){this.onModelChange=t},t.prototype.registerOnTouched=function(t){this.onModelTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.updateFilledState=function(){this.filled=void 0!==this.value&&null!=this.value},n([a.Output(),i("design:type",a.EventEmitter)],t.prototype,"onChange",void 0),n([a.Output(),i("design:type",a.EventEmitter)],t.prototype,"onFocus",void 0),n([a.Output(),i("design:type",a.EventEmitter)],t.prototype,"onBlur",void 0),n([a.Input(),i("design:type",Number)],t.prototype,"step",void 0),n([a.Input(),i("design:type",Number)],t.prototype,"min",void 0),n([a.Input(),i("design:type",Number)],t.prototype,"max",void 0),n([a.Input(),i("design:type",Number)],t.prototype,"maxlength",void 0),n([a.Input(),i("design:type",Number)],t.prototype,"size",void 0),n([a.Input(),i("design:type",String)],t.prototype,"placeholder",void 0),n([a.Input(),i("design:type",String)],t.prototype,"inputId",void 0),n([a.Input(),i("design:type",Boolean)],t.prototype,"disabled",void 0),n([a.Input(),i("design:type",Boolean)],t.prototype,"readonly",void 0),n([a.Input(),i("design:type",Number)],t.prototype,"tabindex",void 0),n([a.Input(),i("design:type",Boolean)],t.prototype,"required",void 0),n([a.Input(),i("design:type",String)],t.prototype,"name",void 0),n([a.Input(),i("design:type",Object)],t.prototype,"inputStyle",void 0),n([a.Input(),i("design:type",String)],t.prototype,"inputStyleClass",void 0),n([a.Input(),i("design:type",Boolean)],t.prototype,"formatInput",void 0),n([a.Input(),i("design:type",String)],t.prototype,"decimalSeparator",void 0),n([a.Input(),i("design:type",String)],t.prototype,"thousandSeparator",void 0),n([a.ViewChild("inputfield",{static:!1}),i("design:type",a.ElementRef)],t.prototype,"inputfieldViewChild",void 0),n([a.Input(),i("design:type",String),i("design:paramtypes",[String])],t.prototype,"type",null),n([a.Component({selector:"p-spinner",template:'\n        <span class="ui-spinner ui-widget ui-corner-all">\n            <input #inputfield type="text" [attr.id]="inputId" [value]="formattedValue||null" [attr.name]="name"\n            [attr.size]="size" [attr.maxlength]="maxlength" [attr.tabindex]="tabindex" [attr.placeholder]="placeholder" [disabled]="disabled" [readonly]="readonly" [attr.required]="required"\n            (keydown)="onInputKeydown($event)" (blur)="onInputBlur($event)" (input)="onInput($event)" (change)="onInputChange($event)" (focus)="onInputFocus($event)"\n            [ngStyle]="inputStyle" [class]="inputStyleClass" [ngClass]="\'ui-spinner-input ui-inputtext ui-widget ui-state-default ui-corner-all\'">\n            <button type="button" [ngClass]="{\'ui-spinner-button ui-spinner-up ui-corner-tr ui-button ui-widget ui-state-default\':true,\'ui-state-disabled\':disabled}" [disabled]="disabled||readonly" [attr.tabindex]="tabindex" [attr.readonly]="readonly"\n                (mouseleave)="onUpButtonMouseleave($event)" (mousedown)="onUpButtonMousedown($event)" (mouseup)="onUpButtonMouseup($event)">\n                <span class="ui-spinner-button-icon pi pi-caret-up ui-clickable"></span>\n            </button>\n            <button type="button" [ngClass]="{\'ui-spinner-button ui-spinner-down ui-corner-br ui-button ui-widget ui-state-default\':true,\'ui-state-disabled\':disabled}" [disabled]="disabled||readonly" [attr.tabindex]="tabindex" [attr.readonly]="readonly"\n                (mouseleave)="onDownButtonMouseleave($event)" (mousedown)="onDownButtonMousedown($event)" (mouseup)="onDownButtonMouseup($event)">\n                <span class="ui-spinner-button-icon pi pi-caret-down ui-clickable"></span>\n            </button>\n        </span>\n    ',host:{"[class.ui-inputwrapper-filled]":"filled","[class.ui-inputwrapper-focus]":"focus"},providers:[e.SPINNER_VALUE_ACCESSOR]}),i("design:paramtypes",[a.ElementRef,a.ChangeDetectorRef])],t)}();e.Spinner=d;var c=function(){function t(){}return n([a.NgModule({imports:[o.CommonModule,s.InputTextModule],exports:[d],declarations:[d]})],t)}();e.SpinnerModule=c},"qpS/":function(t,e,r){"use strict";r.r(e),e.default='.dtHorizontalExampleWrapper {\r\n    max-width: 150px;\r\n    margin: 0 auto;\r\n}\r\n\r\ntable {\r\n    display: block;\r\n    overflow: scroll;\r\n    overflow: auto;\r\n}\r\n\r\ntable.dataTable thead .sorting:after,\r\n    table.dataTable thead .sorting:before,\r\n    table.dataTable thead .sorting_asc:after,\r\n    table.dataTable thead .sorting_asc:before,\r\n    table.dataTable thead .sorting_asc_disabled:after,\r\n    table.dataTable thead .sorting_asc_disabled:before,\r\n    table.dataTable thead .sorting_desc:after,\r\n    table.dataTable thead .sorting_desc:before,\r\n    table.dataTable thead .sorting_desc_disabled:after,\r\n    table.dataTable thead .sorting_desc_disabled:before {\r\n        bottom: .5em;\r\n    }\r\n\r\ninput[type=number]::-webkit-inner-spin-button,\r\ninput[type=number]::-webkit-outer-spin-button {\r\n    margin: 0;\r\n}\r\n\r\n:host ::ng-deep button {\r\n    margin-right: .25em;\r\n}\r\n\r\n:host ::ng-deep .custom-toast .ui-toast-message {\r\n    color: #ffffff;\r\n    background: #FC466B;\r\n    background: linear-gradient(to right, #3F5EFB, #FC466B);\r\n}\r\n\r\n:host ::ng-deep .custom-toast .ui-toast-close-icon {\r\n    color: #ffffff;\r\n}\r\n\r\n.add-charges {\r\n    background-color: #295d92;\r\n}\r\n\r\n.clr-red {\r\n    color: red;\r\n}\r\n\r\n.text-align {\r\n    width: 93%;\r\n    margin-left: 6px;\r\n}\r\n\r\n/* select {\r\n    background: url("../assets/images/ddrp-arrow.png") 98% center no-repeat;\r\n} */\r\n\r\n.dropdown-select {\r\n    background: none;\r\n    background-color: none !important;\r\n}\r\n\r\n.dropdown-select select:disabled {\r\n        background-color: none !important;\r\n    }\r\n\r\n.workflow-table-material {\r\n    height: 350px;\r\n}\r\n\r\n/*.workflow-table-material .material-tr td {\r\n    padding: 4px;\r\n}*/\r\n\r\n.workflow-table-material tr th:first-child {\r\n        padding: 0 10px !important;\r\n}\r\n\r\n.fixed-column-table {\r\n    max-width: 100%;\r\n    max-height: 500px;\r\n    overflow: scroll;\r\n    position: relative;\r\n    padding: 0;\r\n}\r\n\r\n.fixed-column-table table {\r\n    position: relative;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.fixed-column-table thead th {\r\n    position: -webkit-sticky;\r\n    position: sticky;\r\n    top: -1px;\r\n    background: #0d57b0;\r\n}\r\n\r\n.column-r1-fixed thead th:last-child {\r\n    right: 0;\r\n    z-index: 1;\r\n    text-align: center;\r\n    margin: auto;\r\n    padding-left: 15px !important;\r\n    padding-right: 15px !important;\r\n}\r\n\r\n.column-r1-fixed tbody td:last-child, .column-r1-fixed tfoot td:last-child {\r\n    position: -webkit-sticky;\r\n    position: sticky;\r\n    right: 0;\r\n    background: #FFF;\r\n    border-right: 1px solid #CCC;\r\n    padding-left: 5px;\r\n    text-align: center;\r\n}\r\n\r\n.mat_emo{\r\n    display: inline-flex;\r\n    position: relative;\r\n    top: 4px;\r\n}\r\n\r\n.ci_cls{\r\n    position: relative;\r\n    top: 6px;\r\n}\r\n\r\n.aline_de{\r\n    width: 120px;\r\n}\r\n\r\n.view_content{\r\n    margin-left: 5px;\r\n    position: relative;\r\n    top: 5px;\r\n}\r\n\r\n.purchaseTable thead tr th {\r\n    font-size: 12px;\r\n    padding: 4px;\r\n    text-align: center;\r\n  }\r\n\r\n.purchaseTable tr th, .wfm-general-table tr th {\r\n    background: #4298ff !important;\r\n    color: #fff !important;\r\n}\r\n\r\n.purchaseTable tr th.bg1 {\r\n    background: #ff8080 !important;\r\n  }\r\n\r\n.purchaseTable tr th.bg2 {\r\n    background: #83b028 !important;\r\n  }\r\n\r\n.purchaseTable tr th.bg3 {\r\n    background: #1a7171 !important;\r\n  }\r\n\r\n.snumber-block2 {\r\n    margin: 10px 0px;\r\n    border: 1px solid lightgray;\r\n    border-radius: 5px;\r\n    padding: 5px;\r\n  }\r\n\r\n.snumber-block2 label input {\r\n      margin-top: 6px;\r\n      margin-right: 10px;\r\n  }\r\n\r\n.snumber-block2 label {\r\n    margin-right: 0;\r\n  }'},sEf8:function(t,e){t.exports=function(t){return function(e){return t(e)}}},shjB:function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},tMB7:function(t,e,r){var n=r("y1pI");t.exports=function(t){var e=this.__data__,r=n(e,t);return r<0?void 0:e[r][1]}},tadb:function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"DataView");t.exports=n},ttPU:function(t,e,r){"use strict";r.r(e),e.default='<div style="z-index: 1;width: 100% !important;" *ngIf="!isEdit">\r\n  <span class="cat-heading cat4">Add Charges<i (click)="addRow()" class="fa fa-plus"></i></span>\r\n</div>\r\n<div class="fixed-table-container-inner table-responsive cat4-table fixed-column-table column-r1-fixed"\r\n  style="height:380px;">\r\n\r\n  <form #chargesCreateForm="ngForm">\r\n    <table class="table table-bordered table-fixed workflow-table-charges">\r\n      <tr>\r\n        <th *ngIf="!isWorkFlow"><label>Task <span class="clr-red">*</span></label></th>\r\n        <th><label>Type <span class="clr-red">*</span></label></th>\r\n        <th *ngIf="isWorkOrder || isQuote"><label>Gl Account</label></th>\r\n        <th><label>Description</label></th>\r\n        <th><label>Qty <span class="clr-red">*</span></label></th>\r\n        <th *ngIf="isWorkOrder || isQuote"><label>Ref Num</label></th>\r\n        <th><label>Unit Cost<span class="clr-red">*</span> </label></th>\r\n        <th><label>Extended Cost <span *ngIf="!isWorkOrder" class="clr-red">*</span> </label></th>\r\n        <th><label>Vendor Name</label></th>\r\n        <th *ngIf="!isQuote || !isEdit">\r\n          <label style="text-align: left;">Actions </label>\r\n        </th>\r\n      </tr>\r\n      <tr class="charge-tr" [hidden]="charge.isDelete" *ngFor="let charge of workFlow.charges; let i = index">\r\n        <td *ngIf="!isWorkFlow">\r\n          <select class="form-contro wf-pub-id full-width" [(ngModel)]="charge.taskId" name="task_{{i}}" required\r\n            (change)="onTaskChange(charge)">\r\n            <option value="">--Select--</option>\r\n            <option *ngFor="let task of taskList" [value]="task.taskId">{{task.description}}</option>\r\n          </select>\r\n        </td>\r\n        <td>\r\n          <select class="form-control full-width" id="dllChargesType" (change)="onChargeTypeChange($event, charge)"\r\n            [(ngModel)]="charge.workflowChargeTypeId" style="border-radius: 4px;" name="type_{{i}}" required>\r\n            <option [value]="0">--Select--</option>\r\n            <option [value]="ctype.chargeId" *ngFor="let ctype of chargesTypes">{{\r\n              ctype.chargeType\r\n            }}</option>\r\n          </select>\r\n        </td>\r\n        <td *ngIf="isWorkOrder || isQuote">\r\n          <input type="text" pInputText pKeyFilter="money1" class="form-control" [disabled]="true"\r\n            value="{{ charge.glAccountName }}" [(ngModel)]="charge.glAccountName" name="exd1_{{i}}" disabled />\r\n        </td>\r\n        <td>\r\n          <input type="text" pInputText value="{{ charge.description }}" [(ngModel)]="charge.description"\r\n            class="form-control" name="desc_{{i}}" />\r\n        </td>\r\n\r\n        <td>\r\n          <input type="text" pInputText pKeyFilter="pnum" maxlength="15" class="form-control text-right"\r\n            value="{{ charge.quantity }}" (change)="\r\n              calculateQtySummation();\r\n              calculateExtendedCost(charge);\r\n              calculateExtendedPrice(charge)\r\n            " [(ngModel)]="charge.quantity" name="qty_{{i}}" required />\r\n        </td>\r\n        <td *ngIf="isWorkOrder || isQuote">\r\n          <input type="text" pInputText maxlength="15" class="form-control" value="{{ charge.refNum }}"\r\n            [(ngModel)]="charge.refNum" name="refNum_{{i}}" />\r\n        </td>\r\n        <td>\r\n          <input type="text" pInputText pKeyFilter="money" class="form-control text-right" value="{{ charge.unitCost }}"\r\n            (change)="calculateExtendedCost(charge)" [(ngModel)]="charge.unitCost" name="unitCost_{{i}}" maxlength="15"\r\n            required />\r\n        </td>\r\n        <td>\r\n          <input type="text" pInputText pKeyFilter="money" class="form-control text-right" [disabled]="true"\r\n            value="{{ charge.extendedCost }}" [(ngModel)]="charge.extendedCost"\r\n            (change)="calculateExtendedCostSummation();calculateExtendedPriceSummation()" name="exd_{{i}}" [required]="!isWorkOrder" disabled\r\n            maxlength="15" />\r\n        </td>\r\n        <td>\r\n          <p-autoComplete [(ngModel)]="charge.vendor" [suggestions]="vendorCollection" [forceSelection]="true"\r\n            (completeMethod)="filterVendor($event)" (onSelect)="onVendorSelected(charge, $event)" [dropdown]="true"\r\n            [size]="30" [minLength]="1" field="vendorName" class="workflow-measurement-select" name="vendo_{{i}}">\r\n          </p-autoComplete>\r\n        </td>\r\n        <td *ngIf="!isQuote || !isEdit" style="text-align: center;">\r\n          <button class="btn btn-danger nobg" [disabled]="!charge.isShowDelete" (click)="deleteRow(i)">\r\n            <i class="fa fa-trash"></i>\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr *ngIf="workFlow.charges.length > 0">\r\n        <td>\r\n          <b>Total : </b>\r\n        </td>\r\n        <td *ngIf="!isWorkFlow">&nbsp;</td>\r\n        <td *ngIf="isWorkOrder || isQuote">&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td></td>\r\n        <td *ngIf="isWorkOrder || isQuote">&nbsp;</td>\r\n        <td>&nbsp;</td>\r\n        <td *ngIf="!isQuote" class="align_rightset"><b>{{ workFlow.extendedCostSummation }}</b></td>\r\n        <td>&nbsp;</td>\r\n        <td *ngIf="!isQuote" class="align_rightset"><b>{{ workFlow.totalChargesCost }}</b></td>\r\n        \x3c!-- <td>&nbsp;</td>\r\n        <td *ngIf="!isQuote || !isEdit">&nbsp;</td> --\x3e\r\n      </tr>\r\n    </table>\r\n  </form>\r\n</div>\r\n<div *ngIf="isWorkOrder && !isEdit" style="float:right">\r\n  <button *ngIf="isWorkOrder" class="btn btn-primary btn-primary" (click)="saveChargesWorkOrder()"\r\n    style="padding: 6px 12px !important;margin-top: 10px;" [disabled]="!chargesCreateForm.valid">\r\n    {{ isQuote ? \'Add\' : \'Save\' }}\r\n  </button>\r\n  <button type="button" class="btn btn-danger" data-dismiss="modal"\r\n    style="padding: 6px 12px !important;margin-top: 10px;" (click)="close()">\r\n    Close\r\n  </button>\r\n</div>\r\n\r\n<div *ngIf="isWorkOrder && isEdit" style="float:right">\r\n  <button *ngIf="isWorkOrder" class="btn btn-primary btn-primary" (click)="updateChargesWorkOrder()"\r\n    style="padding: 6px 12px !important;margin-top: 10px;">\r\n    Update\r\n  </button>\r\n  <button type="button" class="btn btn-danger" data-dismiss="modal"\r\n    style="padding: 6px 12px !important;margin-top: 10px;" (click)="close()">\r\n    Close\r\n  </button>\r\n</div>\r\n<div class="preloader" *ngIf="isSpinnerVisible">\r\n  <div class="loading">\r\n    <div class="lds-roller">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n</div>'},u1Dv:function(t,e,r){"use strict";r.r(e),e.default="/*.workflow-table-measment tr td {\r\n    padding: 4px;\r\n}*/\r\n.workflow-table-measment tr th:first-child {\r\n    padding: 0 10px !important;\r\n}"},u8Dt:function(t,e,r){var n=r("YESw"),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(e,t)?e[t]:void 0}},uSVQ:function(t,e,r){"use strict";r.r(e),e.default='<p-breadcrumb [model]="breadcrumbs"></p-breadcrumb>\r\n<div class="x_panel" style="">\r\n    <div class="x_content">\r\n        <nav aria-label="breadcrumb">\r\n            <ol class="breadcrumb">\r\n                <li class="breadcrumb-item" aria-current="page">Workflow</li>\r\n                <li class="breadcrumb-item active" aria-current="page">Create Workflow</li>\r\n            </ol>\r\n        </nav>\r\n        <div class="pheading">\r\n            \x3c!--<h4 class="page-heading">Adding New Workflow <span class="clr-black fs12">(Pulling data dynamically depending on selections can be done at the time of development. Currently this page is showing the layout)</span></h4>--\x3e\r\n        </div>\r\n        <div class="cdetails-top" style="display: none;">\r\n            <span class="cdetails-top-close"><i class="fa fa-times"></i></span>\r\n            <div class="col-sm-12">\r\n                <label>Company</label>\r\n                <span>Silverxis</span>\r\n            </div>\r\n            <div class="col-sm-12">\r\n                <label>BU</label>\r\n                <span>Adso</span>\r\n            </div>\r\n            <div class="col-sm-12">\r\n                <label>Division</label>\r\n                <span>Development</span>\r\n            </div>\r\n            <div class="col-sm-12">\r\n                <label>Dept</label>\r\n                <span>Java</span>\r\n            </div>\r\n        </div>\r\n        <div class="clear"></div>\r\n\r\n\t\t<div class="col-sm-3 left-block">\r\n\t\t\t\r\n\t\t\t<div class="form-group col-sm-12">\r\n\t\t\t\t<label class="control-label col-sm-4">Workflow ID</label>\r\n\t\t\t\t<div class="col-sm-7">\r\n\t\t\t\t\t<input class="form-control" type="text" [(ngModel)]="sourceWorkFlow.workFlowId" readonly>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="form-group col-sm-12">\r\n\t\t\t\t<label class="control-label col-sm-4">Workflow Description</label>\r\n\t\t\t\t<div class="col-sm-7">\r\n\t\t\t\t\t<input class="form-control" type="text" [(ngModel)]="sourceWorkFlow.workflowDescription">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="form-group col-sm-12">\r\n\t\t\t\t<label class="control-label col-sm-4">Version</label>\r\n\t\t\t\t<div class="col-sm-7">\r\n\t\t\t\t\t<input class="form-control" type="text" [(ngModel)]="sourceWorkFlow.version">\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\r\n\t\t\t<div class="form-group col-sm-12 ">\r\n\t\t\t\t<label class="control-label col-sm-4">Work Scope <span class="clr-red">*</span></label>\r\n\t\t\t\t<div class="col-sm-7">\r\n\t\t\t\t\t<select class="w100"  [(ngModel)]="sourceWorkFlow.workflowScopeId">\r\n\t\t\t\t\t\t<option *ngFor="let workScope of worksScopeCollection" [ngValue]="workScope.workScopeId">  {{workScope.description}}</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n        <div class="col-sm-3 left-block">\r\n            <div class="col-sm-12">\r\n\r\n\r\n                <div class="form-group col-sm-12">\r\n                    <label for="vendorName" class="control-label col-sm-4">Part Number <span class="clr-red">*</span></label>\r\n                    <div class="col-sm-7">\r\n                        <p-autoComplete (onSelect)="onPartSelect($event)" [suggestions]="partCollection" (completeMethod)="filterpartItems($event)" [size]="30"\r\n                                        [minLength]="1" [dropdown]="true">\r\n                            <ng-template let-partName pTemplate="part">\r\n                                <div class="ui-helper-clearfix">{{partName}}</div>\r\n                            </ng-template>\r\n                        </p-autoComplete>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                \x3c!--<a href="item-master-setup.html" target="_blank" class="add-icon"><i class="fa fa-plus"></i></a>--\x3e\r\n            </div>\r\n\r\n            <div class="form-group col-sm-12">\r\n                <label class="control-label col-sm-4">PN Description</label>\r\n                <div class="col-sm-7">\r\n                    <input class="form-control" type="text" [(ngModel)]="sourceWorkFlow.partNumberDescription" readonly>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            \x3c!--<div class="form-group col-sm-12">\r\n        <label for="vendorName" class="control-label col-sm-4">Changed Part Number <span class="clr-red">*</span></label>\r\n        <div class="col-sm-7">\r\n            <p-autoComplete [(ngModel)]="sourceWorkFlow.changedPartNumber" (onSelect)="onPartSelect($event)" [suggestions]="partCollection" (completeMethod)="filterpartItems($event)" [size]="30"\r\n                            [minLength]="1" [dropdown]="true">\r\n                <ng-template let-partName pTemplate="part">\r\n                    <div class="ui-helper-clearfix">{{partName}}</div>\r\n                </ng-template>\r\n            </p-autoComplete>\r\n        </div>\r\n    </div>--\x3e\r\n            <div class="form-group col-sm-12">\r\n                <label class="control-label col-sm-4">Changed PN</label>\r\n                <div class="col-sm-7">\r\n                    <input class="form-control" type="text" [(ngModel)]="sourceWorkFlow.changedPartNumber">\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!--<div class="col-sm-12">\r\n        <label>Customer Name</label>\r\n        <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n            <i class="fa fa-search"></i>\r\n            <input type="text" [(ngModel)]="sourceWorkFlow.customerId" class="form-control names ui-autocomplete-input" id="" name="" placeholder="Customer Name" autocomplete="off">\r\n        </div>\r\n        <a href="customer-setup.html" target="_blank" class="add-icon"><i class="fa fa-plus"></i></a>\r\n    </div>--\x3e\r\n            <div class="form-group col-sm-12">\r\n                <label for="vendorName" class="control-label col-sm-4">Customer Name <span class="clr-red">*</span></label>\r\n                <div class="col-sm-7">\r\n                    <p-autoComplete (onSelect)="onCustomerNameselected($event)" [suggestions]="customerNames" (completeMethod)="filterNames($event)" [size]="30"\r\n                                    [minLength]="1" [dropdown]="true">\r\n                        <ng-template let-name pTemplate="item">\r\n                            <div class="ui-helper-clearfix">{{name}}</div>\r\n                        </ng-template>\r\n                    </p-autoComplete>\r\n                </div>\r\n            </div>\r\n            \x3c!--<div class="form-group col-sm-12">\r\n                <label class="control-label col-sm-4">Customer Code</label>\r\n                <div class="col-sm-7">\r\n                    <input class="form-control" type="text" readonly>\r\n                </div>\r\n            </div>--\x3e\r\n\r\n            <div class="form-group col-sm-12">\r\n                <label class="control-label col-sm-4">Currency <span class="clr-red">*</span></label>\r\n                <div class="col-sm-7">\r\n                    \x3c!--<select class="w80" [(ngModel)]="sourceWorkFlow.currencyId">\r\n                <option *ngFor="let currencyName of allCurrencyData" [ngValue]="currencyName.currencyId">  {{currencyName.symbol}}</option>\r\n            </select>--\x3e\r\n                    <select class="w80" [(ngModel)]="sourceWorkFlow.currencyId">\r\n                        <option *ngFor="let currencyName of allCurrencyData" [ngValue]="currencyName.currencyId">  {{currencyName.symbol}}</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            \x3c!--<div class="col-sm-12">\r\n        <label class="">Workflow Exp. Date</label>\r\n        <input [(ngModel)]="sourceWorkFlow.workflowExpirationDate" type="text" class="form-control  hasDatepicker" id="datepicker" name="" placeholder="1/31/2018">\r\n    </div>--\x3e\r\n            <div class="form-group col-sm-12">\r\n                <label class="control-label col-sm-4">Workflow Exp. Date</label>\r\n                <div class="col-sm-7">\r\n                    <p-calendar [showIcon]="true" [ngModelOptions]="{standalone: true}" [(ngModel)]="sourceWorkFlow.workflowExpirationDate"></p-calendar>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class="col-sm-6 right-block">\r\n            <div class="col-sm-12">\r\n                <label class="w200 active-text">\r\n                    <input [(ngModel)]="sourceWorkFlow.isCalculatedBERThreshold" value="true" type="radio" name="ber-flat" class="trigger" data-rel="ber" (click)="isCalculatedBERThreshold(\'calculate\')">\r\n                    Calculate BER Threshold\r\n                </label>\r\n                <label class="w100 default-text">\r\n                    <input [(ngModel)]="sourceWorkFlow.isCalculatedBERThreshold" value="false" type="radio" name="ber-flat" class="trigger" data-rel="flat" (click)="isCalculatedBERThreshold(\'flat\')">\r\n                    Use Flat Rate\r\n                </label>\r\n            </div>\r\n            <div  *ngIf="isCalculate">\r\n                <div class="col-sm-12">\r\n                    <label class="w100">\r\n                        <input [(ngModel)]="sourceWorkFlow.isFixedAmount" type="radio" name="ber-type" class="trigger2" data-rel="ber-fixed" (click)="isFixedcheck(\'fixed\')" value="1">\r\n                        Fixed Amount\r\n                    </label>\r\n                    <label class="w100">\r\n                        <input [(ngModel)]="sourceWorkFlow.isPercentageOfNew" type="radio" name="ber-type" class="trigger2" data-rel="ber-new" (click)="isFixedcheck(\'percentage\')" value="2">\r\n                        Percent of New\r\n                    </label>\r\n                    <label class="w150">\r\n                        <input [(ngModel)]="sourceWorkFlow.isPercentageOfReplacement" type="radio" name="ber-type" class="trigger2" data-rel="ber-replace" (click)="isFixedcheck(\'percentreplace\')" value="3">\r\n                        Percent of Replaceent\r\n                    </label>\r\n                </div>\r\n\t\t\t\t<div *ngIf="isFixed">\r\n\t\t\t\t\t<div class="form-group col-sm-12">\r\n\t\t\t\t\t\t<label class="control-label col-sm-4">Fixed Amount</label>\r\n\t\t\t\t\t\t<div class="col-sm-4">\r\n\t\t\t\t\t\t\t<input class="form-control" type="text" [(ngModel)]="sourceWorkFlow.fixedAmount">\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n                <div *ngIf="ispercent">\r\n                    <div class="col-sm-12">\r\n                        <label class="w90">Cost of New</label>\r\n                        <input type="text" [(ngModel)]="sourceWorkFlow.costOfNew" class="form-control w70 amount" id="" name="">\r\n                        <label class="w50">Percent</label>\r\n                        <select [(ngModel)]="sourceWorkFlow.percentageOfNew" class="form-control w70" (change)="onPercentOfNew(sourceWorkFlow.costOfNew,sourceWorkFlow.percentageOfNew)">\r\n                            <option value="0">0%</option>\r\n                            <option value="1">1%</option>\r\n                            <option value="2">2%</option>\r\n                            <option value="3">3%</option>\r\n                            <option value="4">4%</option>\r\n                            <option value="5">5%</option>\r\n                            <option value="6">6%</option>\r\n                            <option value="7">7%</option>\r\n                            <option value="8">8%</option>\r\n                            <option value="9">9%</option>\r\n                            <option value="10">10%</option>\r\n                            <option value="11">11%</option>\r\n                            <option value="12">12%</option>\r\n                            <option value="13">13%</option>\r\n                            <option value="14">14%</option>\r\n                            <option value="15">15%</option>\r\n                            <option value="16">16%</option>\r\n                            <option value="17">17%</option>\r\n                            <option value="18">18%</option>\r\n                            <option value="19">19%</option>\r\n                            <option value="20">20%</option>\r\n                            <option value="21">21%</option>\r\n                            <option value="22">22%</option>\r\n                            <option value="23">23%</option>\r\n                            <option value="24">24%</option>\r\n                            <option value="25">25%</option>\r\n                            <option value="26">26%</option>\r\n                            <option value="27">27%</option>\r\n                            <option value="28">28%</option>\r\n                            <option value="29">29%</option>\r\n                            <option value="30">30%</option>\r\n                            <option value="31">31%</option>\r\n                            <option value="32">32%</option>\r\n                            <option value="33">33%</option>\r\n                            <option value="34">34%</option>\r\n                            <option value="35">35%</option>\r\n                            <option value="36">36%</option>\r\n                            <option value="37">37%</option>\r\n                            <option value="38">38%</option>\r\n                            <option value="39">39%</option>\r\n                            <option value="40">40%</option>\r\n                            <option value="41">41%</option>\r\n                            <option value="42">42%</option>\r\n                            <option value="43">43%</option>\r\n                            <option value="44">44%</option>\r\n                            <option value="45">45%</option>\r\n                            <option value="46">46%</option>\r\n                            <option value="47">47%</option>\r\n                            <option value="48">47%</option>\r\n                            <option value="49">49%</option>\r\n                            <option value="50">50%</option>\r\n                            <option value="51">51%</option>\r\n                            <option value="52">52%</option>\r\n                            <option value="53">53%</option>\r\n                            <option value="54">54%</option>\r\n                            <option value="55">55%</option>\r\n                            <option value="56">56%</option>\r\n                            <option value="57">57%</option>\r\n                            <option value="58">58%</option>\r\n                            <option value="59">59%</option>\r\n                            <option value="60">60%</option>\r\n                            <option value="61">61%</option>\r\n                            <option value="62">62%</option>\r\n                            <option value="63">63%</option>\r\n                            <option value="64">64%</option>\r\n                            <option value="65">65%</option>\r\n                            <option value="66">66%</option>\r\n                            <option value="67">67%</option>\r\n                            <option value="68">68%</option>\r\n                            <option value="69">69%</option>\r\n                            <option value="70">70%</option>\r\n                            <option value="71">71%</option>\r\n                            <option value="72">72%</option>\r\n                            <option value="73">73%</option>\r\n                            <option value="74">74%</option>\r\n                            <option value="75">75%</option>\r\n                            <option value="76">76%</option>\r\n                            <option value="77">77%</option>\r\n                            <option value="78">78%</option>\r\n                            <option value="79">79%</option>\r\n                            <option value="80">80%</option>\r\n                            <option value="81">81%</option>\r\n                            <option value="82">82%</option>\r\n                            <option value="83">83%</option>\r\n                            <option value="84">84%</option>\r\n                            <option value="85">85%</option>\r\n                            <option value="86">86%</option>\r\n                            <option value="87">87%</option>\r\n                            <option value="88">88%</option>\r\n                            <option value="89">89%</option>\r\n                            <option value="90">90%</option>\r\n                            <option value="91">91%</option>\r\n                            <option value="92">92%</option>\r\n                            <option value="93">93%</option>\r\n                            <option value="94">94%</option>\r\n                            <option value="95">95%</option>\r\n                            <option value="96">96%</option>\r\n                            <option value="97">97%</option>\r\n                            <option value="98">98%</option>\r\n                            <option value="99">99%</option>\r\n                            <option value="100">100%</option>\r\n                        </select>\r\n                        <label class="w130">BER Threshold Amount</label>\r\n\t\t\t\t\t\t<b class="clr-red">{{sourceWorkFlow.percentOfNew}}</b>\r\n                    </div>\r\n                </div>\r\n                <div *ngIf="percentreplcae">\r\n                    <div class="col-sm-12">\r\n                        <label class="w90">Cost of Replace</label>\r\n                        <input [(ngModel)]="sourceWorkFlow.costOfReplacement" class="form-control w70 amount" type="text"  >\r\n                        <label class="w50">Percent</label>\r\n                        <select [(ngModel)]="sourceWorkFlow.percentageOfReplacement" class="form-control w70" (change)="onPercentOfReplcaement(sourceWorkFlow.costOfReplacement,sourceWorkFlow.percentageOfReplacement)">\r\n                            <option value="0">0%</option>\r\n                            <option value="1">1%</option>\r\n                            <option value="2">2%</option>\r\n                            <option value="3">3%</option>\r\n                            <option value="4">4%</option>\r\n                            <option value="5">5%</option>\r\n                            <option value="6">6%</option>\r\n                            <option value="7">7%</option>\r\n                            <option value="8">8%</option>\r\n                            <option value="9">9%</option>\r\n                            <option value="10">10%</option>\r\n                            <option value="11">11%</option>\r\n                            <option value="12">12%</option>\r\n                            <option value="13">13%</option>\r\n                            <option value="14">14%</option>\r\n                            <option value="15">15%</option>\r\n                            <option value="16">16%</option>\r\n                            <option value="17">17%</option>\r\n                            <option value="18">18%</option>\r\n                            <option value="19">19%</option>\r\n                            <option value="20">20%</option>\r\n                            <option value="21">21%</option>\r\n                            <option value="22">22%</option>\r\n                            <option value="23">23%</option>\r\n                            <option value="24">24%</option>\r\n                            <option value="25">25%</option>\r\n                            <option value="26">26%</option>\r\n                            <option value="27">27%</option>\r\n                            <option value="28">28%</option>\r\n                            <option value="29">29%</option>\r\n                            <option value="30">30%</option>\r\n                            <option value="31">31%</option>\r\n                            <option value="32">32%</option>\r\n                            <option value="33">33%</option>\r\n                            <option value="34">34%</option>\r\n                            <option value="35">35%</option>\r\n                            <option value="36">36%</option>\r\n                            <option value="37">37%</option>\r\n                            <option value="38">38%</option>\r\n                            <option value="39">39%</option>\r\n                            <option value="40">40%</option>\r\n                            <option value="41">41%</option>\r\n                            <option value="42">42%</option>\r\n                            <option value="43">43%</option>\r\n                            <option value="44">44%</option>\r\n                            <option value="45">45%</option>\r\n                            <option value="46">46%</option>\r\n                            <option value="47">47%</option>\r\n                            <option value="48">47%</option>\r\n                            <option value="49">49%</option>\r\n                            <option value="50">50%</option>\r\n                            <option value="51">51%</option>\r\n                            <option value="52">52%</option>\r\n                            <option value="53">53%</option>\r\n                            <option value="54">54%</option>\r\n                            <option value="55">55%</option>\r\n                            <option value="56">56%</option>\r\n                            <option value="57">57%</option>\r\n                            <option value="58">58%</option>\r\n                            <option value="59">59%</option>\r\n                            <option value="60">60%</option>\r\n                            <option value="61">61%</option>\r\n                            <option value="62">62%</option>\r\n                            <option value="63">63%</option>\r\n                            <option value="64">64%</option>\r\n                            <option value="65">65%</option>\r\n                            <option value="66">66%</option>\r\n                            <option value="67">67%</option>\r\n                            <option value="68">68%</option>\r\n                            <option value="69">69%</option>\r\n                            <option value="70">70%</option>\r\n                            <option value="71">71%</option>\r\n                            <option value="72">72%</option>\r\n                            <option value="73">73%</option>\r\n                            <option value="74">74%</option>\r\n                            <option value="75">75%</option>\r\n                            <option value="76">76%</option>\r\n                            <option value="77">77%</option>\r\n                            <option value="78">78%</option>\r\n                            <option value="79">79%</option>\r\n                            <option value="80">80%</option>\r\n                            <option value="81">81%</option>\r\n                            <option value="82">82%</option>\r\n                            <option value="83">83%</option>\r\n                            <option value="84">84%</option>\r\n                            <option value="85">85%</option>\r\n                            <option value="86">86%</option>\r\n                            <option value="87">87%</option>\r\n                            <option value="88">88%</option>\r\n                            <option value="89">89%</option>\r\n                            <option value="90">90%</option>\r\n                            <option value="91">91%</option>\r\n                            <option value="92">92%</option>\r\n                            <option value="93">93%</option>\r\n                            <option value="94">94%</option>\r\n                            <option value="95">95%</option>\r\n                            <option value="96">96%</option>\r\n                            <option value="97">97%</option>\r\n                            <option value="98">98%</option>\r\n                            <option value="99">99%</option>\r\n                            <option value="100">100%</option>\r\n                        </select>\r\n                        <label class="w130">BER Threshold Amount</label>\r\n\t\t\t\t\t\t<b class="clr-red">{{sourceWorkFlow.percentOfReplaceMent}}</b>\r\n                    </div>\r\n                </div>\r\n                <div class="clear"></div>\r\n            </div>\r\n\t\t\t<div *ngIf="isFlat">\r\n\t\t\t\t<div class="form-group col-sm-12">\r\n\t\t\t\t\t<label class="control-label col-sm-4">Flat Rate</label>\r\n\t\t\t\t\t<div class="col-sm-4">\r\n\t\t\t\t\t\t<input class="form-control" type="text" [(ngModel)]="sourceWorkFlow.fixedAmount">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div class="col-sm-12">\r\n\t\t\t\t<div class="form-group col-sm-12">\r\n\t\t\t\t\t<label class="control-label col-sm-4">Total WorkFlow Cost</label>\r\n\t\t\t\t\t<div class="col-sm-4">\r\n\t\t\t\t\t\t<input class="form-control" type="text" readonly>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<div class="col-sm-12">\r\n\t\t\t\t\t<label class="w130">Memo</label>\r\n\t\t\t\t\t<textarea [(ngModel)]="sourceWorkFlow.memo" class="form-control w200"></textarea>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n        </div>\r\n        <div class="clear"></div>\r\n        \x3c!--<div class="form-group col-sm-4">\r\n            <label class="control-label col-sm-2">Action <span class="clr-red">*</span></label>\r\n            <div class="col-sm-2">\r\n                <select (change)="onActionValueChange($event)" [(ngModel)]="actionValue">\r\n                    <option *ngFor="let action of actionsDD" [value]="action.workflowActionId">{{action.description}}</option>\r\n                </select>\r\n            </div>\r\n        </div>--\x3e\r\n\r\n        \x3c!--<div class="form-group col-sm-4" [style.display]="(actionValue==null || actionValue== \'\') ? \'none\' : \'block\'">\r\n            <label class="control-label col-sm-2">\r\n                Action Attributes\r\n                <span class="clr-red">*</span>\r\n            </label>\r\n            <p-multiSelect [options]="actionsAttributesDD" [(ngModel)]="selectedActionAttributes"></p-multiSelect>\r\n            <button (click)="addActionAttributes()">Add</button>\r\n        </div>--\x3e\r\n\r\n       \r\n        <hr>\r\n\r\n        \x3c!--<div class="form-group col-sm-12">\r\n            <div class="form-group col-sm-2">\r\n                <ul class="nav nav-pills tabs-left">\r\n                    <li *ngFor="let action of actionsDD" [style.display]="(addedActionIds.indexOf(action.workflowActionId) > -1) ? \'block\' : \'none\'">\r\n                        <button (click)="onActionSelect(action)" class="col-sm-12">{{action.description}}</button>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class="form-group col-sm-10">\r\n                <div class="form-group col-sm-12">\r\n                    <label class="control-label col-sm-4 w90">{{((selectedAction && selectedAction.description) ? selectedAction.description : \'\')}}</label>\r\n                    <p-tabView>\r\n                        <p-tabPanel header="Material List" *ngIf="actionAttributeTabs[0].visible" [selected]="actionAttributeTabs[0].selected">\r\n                            <table class="table table-bordered table-striped po-ro-setup-table col2-fix">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>PN</th>\r\n                                        <th>PN Des.</th>\r\n                                        <th>Item Classification</th>\r\n                                        <th>Qty</th>\r\n                                        <th>UOM</th>\r\n                                        <th>Cond</th>\r\n                                        <th>Unit Cost</th>\r\n                                        <th>Ext Cost</th>\r\n                                        <th>Provision</th>\r\n                                        <th>Deferred</th>\r\n                                        <th>Figure Id</th>\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody *ngFor="let partList of materialListObj">\r\n                                    <tr ng-repeat="material in assets1" class="ng-scope">\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <i class="fa fa-search"></i>\r\n                                                <input type="text" class="form-control numberids ng-pristine ng-valid ng-empty ui-autocomplete-input ng-touched" name="partNumber0" ng-model="material.partNumber" ng-enabled="!enabledEdit[0]" autocomplete="off">\r\n                                            </div>\r\n                                            <a href="item-master-setup.html" target="_blank" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input class="w150 ng-pristine ng-valid ng-empty ng-touched" name="pnDescription0" ng-model="material.pnDescription" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <i class="fa fa-search"></i>\r\n                                                <input type="text" class="form-control itemclassification ng-pristine ng-untouched ng-valid ng-empty ui-autocomplete-input" name="itemClassification0" ng-model="material.itemClassification" ng-enabled="!enabledEdit[0]" autocomplete="off">\r\n                                            </div>\r\n                                            <a href="item-classification.html" target="_blank" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input class="w50 ng-pristine ng-untouched ng-valid" type="number" name="qty0" value="1" ng-model="material.qty" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <select class="w70">\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="Ctr">Ctr</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="Ea">Ea</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="Ft">Ft</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="g">g</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="Gal">Gal</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="inch">inch</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="kg">kg</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="lbs">lbs</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="Ltr">Ltr</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="Mtr">Mtr</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="Oz">Oz</option>\r\n                                                    <option ng-repeat="x in uom" class="ng-binding ng-scope" value="Yd">Yd</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <a href="#" data-toggle="modal" data-target="#addUom" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n\r\n                                        </td>\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <select class="w70">\r\n                                                    <option ng-repeat="x in condition1" class="ng-binding ng-scope" value="AR">AR</option>\r\n                                                    <option ng-repeat="x in condition1" class="ng-binding ng-scope" value="AS-IS">AS-IS</option><\r\n                                                    <option ng-repeat="x in condition1" class="ng-binding ng-scope" value="NEW">NEW</option>\r\n                                                    <option ng-repeat="x in condition1" class="ng-binding ng-scope" value="OVH">OVH</option>\r\n                                                    <option ng-repeat="x in condition1" class="ng-binding ng-scope" value="REP">REP</option>\r\n                                                    <option ng-repeat="x in condition1" class="ng-binding ng-scope" value="SRV">SRV</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <a href="#" data-toggle="modal" data-target="#condition" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input class="w50 materialunitcost amount ng-pristine ng-untouched ng-valid ng-empty" name="unitCost0" ng-model="equipment.unitCost" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td><input class="w50 materialextcost amount attributeextcost ng-pristine ng-untouched ng-valid ng-empty" name="extendedCost0" ng-model="equipment.extendedCost" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <select class="w70 ng-pristine ng-untouched ng-valid ng-empty" name="provision0" ng-model="material.provision" ng-enabled="!enabledMaterialsavedEdit[0]">\r\n                                                    <option value="? string: ?"></option>\r\n                                                    <option ng-repeat="x in provision" class="ng-binding ng-scope" value="Exchange">Exchange</option>\r\n                                                    <option ng-repeat="x in provision" class="ng-binding ng-scope" value="Loan">Loan</option>\r\n                                                    <option ng-repeat="x in provision" class="ng-binding ng-scope" value="Repair">Repair</option>\r\n                                                    <option ng-repeat="x in provision" class="ng-binding ng-scope" value="Replace">Replace</option>\r\n                                                    <option ng-repeat="x in provision" class="ng-binding ng-scope" value="Turn-in">Turn-in</option>\r\n                                                    <option ng-repeat="x in provision" class="ng-binding ng-scope" value="WO">WO</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <a href="add-provision.html" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td>\r\n                                            <select class="w50 ng-pristine ng-untouched ng-valid ng-empty" name="deferred0" ng-model="material.deferred" ng-enabled="!enabledMaterialsavedEdit[0]">\r\n                                                <option value="? string: ?"></option>\r\n                                                <option ng-repeat="x in deferred" class="ng-binding ng-scope" value="No">No</option>\r\n                                                <option ng-repeat="x in deferred" class="ng-binding ng-scope" value="Yes">Yes</option>\r\n                                            </select>\r\n                                        </td>\r\n                                        <td><input class="w70" type="text" name="" value=""></td>\r\n                                        <td>\r\n                                            <div>\r\n                                                <button class="btn btn-danger nobg" ng-click="deleteMaterial($index)"><i class="fa fa-trash"></i></button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n\r\n\r\n                                </tbody>\r\n                            </table>\r\n                        </p-tabPanel>\r\n\r\n                        <p-tabPanel header="Charges" *ngIf="actionAttributeTabs[1].visible" [selected]="actionAttributeTabs[1].selected">\r\n                            <table class="table table-bordered table-striped po-ro-setup-table col2-fix">\r\n\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Type</th>\r\n                                        <th>Qty</th>\r\n                                        <th>Unit Cost</th>\r\n                                        <th>Ext Cost</th>\r\n\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody *ngFor="let partList of chargeListObj">\r\n                                    <tr ng-repeat="charges in assets4" class="ng-scope">\r\n                                        <td>\r\n                                            <select>\r\n                                                <option ng-repeat="x in chargeType" class="ng-binding ng-scope" value=""></option>\r\n                                                <option ng-repeat="x in chargeType" class="ng-binding ng-scope" value="AOG Fee">AOG Fee</option>\r\n                                                <option ng-repeat="x in chargeType" class="ng-binding ng-scope" value="Out of Scope">Out of Scope</option>\r\n                                                <option ng-repeat="x in chargeType" class="ng-binding ng-scope" value="Rework">Rework</option>\r\n                                            </select>\r\n                                        </td>\r\n                                        <td><input type="number" name="qty0" value="1" ng-model="charges.qty" ng-enabled="!enabledEdit[0]" class="w50 ng-pristine ng-untouched ng-valid"></td>\r\n                                        <td><input name="unitCost0" ng-model="charges.unitCost" ng-enabled="!enabledEdit[0]" class="w100 chargesunitcost amount ng-pristine ng-untouched ng-valid ng-empty"></td>\r\n                                        <td><input name="extendedCost0" ng-model="charges.extendedCost" ng-enabled="!enabledEdit[0]" class="w100 chargesextendedcost attributeextcost amount ng-pristine ng-untouched ng-valid ng-empty"></td>\r\n                                        <td>\r\n                                            <div>\r\n                                                <button class="btn btn-danger nobg" ng-click="deleteCharges($index)"><i class="fa fa-trash"></i></button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </p-tabPanel>\r\n\r\n                        <p-tabPanel header="Equipment" *ngIf="actionAttributeTabs[2].visible" [selected]="actionAttributeTabs[2].selected">\r\n                            <table class="table table-bordered table-striped po-ro-setup-table col2-fix">\r\n\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Item #</th>\r\n                                        <th>Item Description</th>\r\n                                        <th>Item Classification</th>\r\n                                        <th>Qty</th>\r\n\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody *ngFor="let partList of equipmentListObj">\r\n                                    <tr ng-repeat="equipment in assets2" class="ng-scope">\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <i class="fa fa-search"></i>\r\n                                                <input type="text" class="form-control numberids ng-pristine ng-valid ng-empty ui-autocomplete-input ng-touched" name="partNumber0" ng-model="equipment.partNumber" ng-enabled="!enabledEdit[0]" autocomplete="off">\r\n                                            </div>\r\n                                            <a href="equipment.html" target="_blank" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input name="pnDescription0" ng-model="equipment.pnDescription" ng-enabled="!enabledEdit[0]" class="ng-pristine ng-untouched ng-valid ng-empty"></td>\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <select class="w70 ng-pristine ng-untouched ng-valid ng-empty" name="materialType0" ng-model="material.materialType" ng-enabled="!enabledMaterialsavedEdit[0]">\r\n                                                    <option value="? undefined:undefined ?"></option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Consumable">Consumable</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Equipment">Equipment</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Expendable">Expendable</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Kit">Kit</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Rotatable">Rotatable</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <a href="#" data-toggle="modal" data-target="#addType" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input class="w50 ng-pristine ng-valid ng-touched" type="number" name="qty0" value="1" ng-model="equipment.qty" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div>\r\n                                                <button class="btn btn-danger nobg" ng-click="deleteEquipment($index)"><i class="fa fa-trash"></i></button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </p-tabPanel>\r\n\r\n                        <p-tabPanel header="Expertise" *ngIf="actionAttributeTabs[3].visible" [selected]="actionAttributeTabs[3].selected">\r\n                            <table class="table table-bordered table-striped po-ro-setup-table col2-fix">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Expertise Type</th>\r\n                                        <th>Estimated Hours</th>\r\n                                        <th>Standard rate</th>\r\n                                        <th>Estimated Cost</th>\r\n\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody *ngFor="let partList of expertiseListObj">\r\n                                    <tr ng-repeat="equipment in assets2" class="ng-scope">\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <i class="fa fa-search"></i>\r\n                                                <input type="text" class="form-control numberids ng-pristine ng-valid ng-empty ui-autocomplete-input ng-touched" name="partNumber0" ng-model="equipment.partNumber" ng-enabled="!enabledEdit[0]" autocomplete="off">\r\n                                            </div>\r\n                                            <a href="equipment.html" target="_blank" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input name="pnDescription0" ng-model="equipment.pnDescription" ng-enabled="!enabledEdit[0]" class="ng-pristine ng-untouched ng-valid ng-empty"></td>\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <select class="w70 ng-pristine ng-untouched ng-valid ng-empty" name="materialType0" ng-model="material.materialType" ng-enabled="!enabledMaterialsavedEdit[0]">\r\n                                                    <option value="? undefined:undefined ?"></option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Consumable">Consumable</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Equipment">Equipment</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Expendable">Expendable</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Kit">Kit</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Rotatable">Rotatable</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <a href="#" data-toggle="modal" data-target="#addType" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input class="w50 ng-pristine ng-valid ng-touched" type="number" name="qty0" value="1" ng-model="equipment.qty" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div>\r\n                                                <button class="btn btn-danger nobg" ng-click="deleteEquipment($index)"><i class="fa fa-trash"></i></button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </p-tabPanel>\r\n                        <p-tabPanel header="Directions" *ngIf="actionAttributeTabs[4].visible" [selected]="actionAttributeTabs[4].selected">\r\n                            <table class="table table-bordered table-striped po-ro-setup-table col2-fix">\r\n\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Action</th>\r\n                                        <th>Direction Name</th>\r\n                                        <th>Sequence</th>\r\n                                        <th>Memo</th>\r\n\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody *ngFor="let partList of directionListObj">\r\n                                    <tr ng-repeat="equipment in assets2" class="ng-scope">\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <i class="fa fa-search"></i>\r\n                                                <input type="text" class="form-control numberids ng-pristine ng-valid ng-empty ui-autocomplete-input ng-touched" name="partNumber0" ng-model="equipment.partNumber" ng-enabled="!enabledEdit[0]" autocomplete="off">\r\n                                            </div>\r\n                                            <a href="equipment.html" target="_blank" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input name="pnDescription0" ng-model="equipment.pnDescription" ng-enabled="!enabledEdit[0]" class="ng-pristine ng-untouched ng-valid ng-empty"></td>\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <select class="w70 ng-pristine ng-untouched ng-valid ng-empty" name="materialType0" ng-model="material.materialType" ng-enabled="!enabledMaterialsavedEdit[0]">\r\n                                                    <option value="? undefined:undefined ?"></option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Consumable">Consumable</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Equipment">Equipment</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Expendable">Expendable</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Kit">Kit</option>\r\n                                                    <option ng-repeat="x in materialType2" class="ng-binding ng-scope" value="Rotatable">Rotatable</option>\r\n                                                </select>\r\n                                            </div>\r\n                                            <a href="#" data-toggle="modal" data-target="#addType" class="add-icon2"><i class="fa fa-plus"></i></a>\r\n                                        </td>\r\n                                        <td><input class="w50 ng-pristine ng-valid ng-touched" type="number" name="qty0" value="1" ng-model="equipment.qty" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div>\r\n                                                <button class="btn btn-danger nobg" ng-click="deleteEquipment($index)"><i class="fa fa-trash"></i></button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </p-tabPanel>\r\n\r\n                        <p-tabPanel header="Exclusions" *ngIf="actionAttributeTabs[5].visible" [selected]="actionAttributeTabs[5].selected">\r\n                            <table class="table table-bordered table-striped po-ro-setup-table col2-fix">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>EPN</th>\r\n                                        <th>EPS Description</th>\r\n                                        <th>Cost</th>\r\n                                        <th>Notes</th>\r\n\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody *ngFor="let partList of exclusionListObj">\r\n                                    <tr ng-repeat="exclusions in assets5" class="ng-scope">\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <i class="fa fa-search"></i>\r\n                                                <input type="text" class="form-control numberids ng-pristine ng-valid ng-empty ui-autocomplete-input ng-touched" name="partNumber0" ng-model="exclusions.partNumber" ng-enabled="!enabledEdit[0]" autocomplete="off">\r\n                                            </div>\r\n                                        </td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="pnDescription0" ng-model="exclusions.pnDescription" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="cost0" ng-model="exclusions.cost" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="notes0" ng-model="exclusions.notes" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div>\r\n                                                <button class="btn btn-danger nobg" ng-click="deleteExclusions($index)"><i class="fa fa-trash"></i></button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </p-tabPanel>\r\n\r\n                        <p-tabPanel header="Publications" *ngIf="actionAttributeTabs[6].visible" [selected]="actionAttributeTabs[6].selected">\r\n                            <table class="table table-bordered table-striped po-ro-setup-table col2-fix">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>EPN</th>\r\n                                        <th>EPS Description</th>\r\n                                        <th>Cost</th>\r\n                                        <th>Notes</th>\r\n\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody *ngFor="let partList of exclusionListObj">\r\n                                    <tr ng-repeat="exclusions in assets5" class="ng-scope">\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <i class="fa fa-search"></i>\r\n                                                <input type="text" class="form-control numberids ng-pristine ng-valid ng-empty ui-autocomplete-input ng-touched" name="partNumber0" ng-model="exclusions.partNumber" ng-enabled="!enabledEdit[0]" autocomplete="off">\r\n                                            </div>\r\n                                        </td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="pnDescription0" ng-model="exclusions.pnDescription" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="cost0" ng-model="exclusions.cost" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="notes0" ng-model="exclusions.notes" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div>\r\n                                                <button class="btn btn-danger nobg" ng-click="deleteExclusions($index)"><i class="fa fa-trash"></i></button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </p-tabPanel>\r\n                        <p-tabPanel header="Publications" *ngIf="actionAttributeTabs[7].visible" [selected]="actionAttributeTabs[7].selected">\r\n                            <table class="table table-bordered table-striped po-ro-setup-table col2-fix">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>EPN</th>\r\n                                        <th>EPS Description</th>\r\n                                        <th>Cost</th>\r\n                                        <th>Notes</th>\r\n\r\n\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody *ngFor="let partList of exclusionListObj">\r\n                                    <tr ng-repeat="exclusions in assets5" class="ng-scope">\r\n                                        <td>\r\n                                            <div class="inner-addon right-addon autosuggesions-add inline-block">\r\n                                                <i class="fa fa-search"></i>\r\n                                                <input type="text" class="form-control numberids ng-pristine ng-valid ng-empty ui-autocomplete-input ng-touched" name="partNumber0" ng-model="exclusions.partNumber" ng-enabled="!enabledEdit[0]" autocomplete="off">\r\n                                            </div>\r\n                                        </td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="pnDescription0" ng-model="exclusions.pnDescription" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="cost0" ng-model="exclusions.cost" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td><input class="w150 ng-pristine ng-untouched ng-valid ng-empty" name="notes0" ng-model="exclusions.notes" ng-enabled="!enabledEdit[0]"></td>\r\n                                        <td>\r\n                                            <div>\r\n                                                <button class="btn btn-danger nobg" ng-click="deleteExclusions($index)"><i class="fa fa-trash"></i></button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </p-tabPanel>\r\n                    </p-tabView>\r\n                </div>\r\n            </div>\r\n        </div>--\x3e\r\n\t\t</div>\r\n</div>'},uu7O:function(t,e,r){"use strict";r.r(e),e.default=".crop {\r\n  overflow: hidden;\r\n}\r\ndiv {\r\n  cursor: pointer;\r\n}"},vQOQ:function(t,e,r){"use strict";r.r(e),e.default='\x3c!-- <p-breadcrumb [model]="items" [home]="home"></p-breadcrumb> --\x3e\r\n<router-outlet></router-outlet>'},vqhA:function(t,e,r){"use strict";r.r(e),e.default='<div class="fixed-table-container-inner table-responsive cat4-table fixed-column-table column-r1-fixed"\r\n  style="overflow: hidden;">\r\n  <div>\r\n    <span class="cat-heading cat4" *ngIf="!isEdit">\r\n      Add {{ isWorkOrder ? \'PN\' : \' Material\' }}<i (click)="addRow()" class="fa fa-plus"></i>\r\n      <span class="float-right" *ngIf="!isWorkOrder">\r\n        Deferred &nbsp;<input type="checkbox" (click)="isDeferredEnable($event)" />\r\n      </span>\r\n    </span>\r\n  </div>\r\n  <form #materialCreateForm="ngForm">\r\n    <table class="table table-bordered table-fixed workflow-table-material">\r\n      <thead>\r\n        <tr>\r\n          <th *ngIf="!isWorkFlow">Task<span class="clr-red">*</span></th>\r\n          <th>PN<span class="clr-red">*</span></th>\r\n          <th style="min-width: 90px;">Description<span class="clr-red">*</span></th>\r\n          <th>Cond<span class="clr-red">*</span></th>\r\n          <th>Request Type</th>\r\n          <th style="min-width: 90px;" *ngIf="isQuote==true || isWorkOrder==true">Provision *</th>\r\n          <th>Qty<span class="clr-red">*</span></th>\r\n          <th>Item Classification<span class="clr-red">*</span></th>\r\n          <th>UOM<span *ngIf="!isWorkOrder" class="clr-red">*</span></th>\r\n          <th style="min-width: 90px;">Stk Type</th>\r\n          <th>Unit Cost<span *ngIf="!isWorkOrder" class="clr-red">*</span></th>\r\n          <th>Ext. Cost<span *ngIf="!isWorkOrder" class="clr-red">*</span></th>\r\n          <th>Deferred</th>\r\n          <th>Memo</th>\r\n          <th>Action</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr class="material-tr" [hidden]="material.isDelete"\r\n          *ngFor="let material of workFlow.materialList; let i = index" id="row_{{i}}">\r\n          <td *ngIf="!isWorkFlow">\r\n            <select class="form-control custom-select wf-pub-id" [(ngModel)]="material.taskId" name="task_{{ i }}"\r\n              required (change)="onTaskChange(material)">\r\n              <option value="">Select </option>\r\n              <option *ngFor="let task of taskList" [value]="task.taskId">{{\r\n                task.description\r\n              }}</option>\r\n            </select>\r\n          </td>\r\n          <td>\r\n            <div style="display:inline-flex">\r\n              <p-autoComplete (onSelect)="onPartSelect($event, material,i)" [suggestions]="partCollection"\r\n                (onClear)="clearautoCompleteInput(material, \'partNumber\' )"\r\n                (keyup)="getPartnumbers($event.target.value)" (completeMethod)="filterpartItems($event)" [size]="30"\r\n                [(ngModel)]="material.partNumber" [minLength]="1" [dropdown]="true" class="workflow-measurement-select"\r\n                name="partnum_{{ i }}" required>\r\n                <ng-template let-partName pTemplate="part">\r\n                  <div class="ui-helper-clearfix">{{ partName }}</div>\r\n                </ng-template>\r\n              </p-autoComplete>\r\n              <div *ngIf="material.partNumber !== null && material.partNumber !== \'\' ">\r\n                <a data-toggle="tooltip" matTooltipPosition="above" matTooltip="View" tooltipPosition="bottom" title=""\r\n                  class="btn  nobg" data-original-title="View" (click)="openView(material)" class="view_content">\r\n                  <i class="fa fa-eye view_icon_adjust"></i>\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td style="min-width: 150px;">\r\n            {{ material.partDescription }}\r\n          </td>\r\n          <td>\r\n            <p-dropdown placeholder="--Select--" [options]="conditionList" name="condition{{i}}" #condition="ngModel"\r\n              (onChange)="getPNDetails(material)" class="p-dropdown-custom-md" [(ngModel)]="material.conditionCodeId"\r\n              required>\r\n            </p-dropdown>\r\n          </td>\r\n          <td>\r\n            <select class="form-control wf-pub-id full-width" id="ddlMandatoryOrSupplemental"\r\n              [(ngModel)]="material.mandatoryOrSupplemental" style="margin:auto;" name="mandi_{{ i }}"\r\n              (change)="onSelectMaterialManditory(material)">\r\n              <option value="">--Select--</option>\r\n              <option *ngFor="let mandatory of materialMandatory" value="{{ mandatory.id }}">\r\n                {{ mandatory.name }}\r\n              </option>\r\n            </select>\r\n          </td>\r\n          <td *ngIf="isQuote==true || isWorkOrder==true">\r\n            <select class="form-control wf-pub-id" [(ngModel)]="material.provisionId" name="provision_{{ i }}"\r\n              (change)="getProvisionDetails($event,material,i)" required>\r\n              <option value="">--Select--</option>\r\n              <option *ngFor="let item of provisionListData" [ngValue]="item.value" required>\r\n                {{ item.label }}\r\n              </option>\r\n            </select>\r\n          </td>\r\n          <td>\r\n            <input type="text" pInputText pKeyFilter="pnum" class="form-control w100 text-right"\r\n              value="{{ material.quantity }}" (keyup)="\r\n                calculateQtySummation();\r\n                calculateExtendedCost(material);\r\n                calculateExtendedPrice(material)\r\n              " [(ngModel)]="material.quantity" maxlength="15" name="qty_{{ i }}" required />\r\n          </td>\r\n          <td style="min-width: 115px;">\r\n            {{material.itemClassification}}\r\n          </td>\r\n          <td style="min-width: 50px;">\r\n            {{material.unitOfMeasure}}\r\n          </td>\r\n          <td>\r\n            {{material.stockType}}\r\n          </td>\r\n          <td>\r\n            <input type="text" class="form-control w100 text-right" pInputText pKeyFilter="money"\r\n              value="{{ material.unitCost }}" (change)="calculateExtendedCost(material)" [(ngModel)]="material.unitCost"\r\n              name="unitcost_{{ i }}" [required]="!isWorkOrder" maxlength="15" />\r\n          </td>\r\n          <td>\r\n            <input type="text" class="form-control w100 text-right" pInputText pKeyFilter="money" [disabled]="true"\r\n              value="{{ material.extendedCost }}" [(ngModel)]="material.extendedCost" name="extCost_{{ i }}"\r\n              maxlength="15" [required]="!isWorkOrder" />\r\n          </td>\r\n          <td style="width:30px;text-align: center;">\r\n            <div class="custom-checkbox-box">\r\n              <input class="filled-in" id="PMS" type="checkbox" value="{{ material.isDeferred }}"\r\n                [(ngModel)]="material.isDeferred" name="isDef_{{ i }}" />\r\n\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <div class="form-group memo-popup-cstm mat_emo">\r\n              <div [innerHTML]="material.memo" matTooltipPosition="above" [matTooltip]="parsedText(material.memo)"\r\n                class="text_editor_box"></div>\r\n              <i class="fa fa-pencil fa-lg ci_cls" data-toggle="modal" data-target="#textarea-popup" matTooltip="memo"\r\n                matTooltipPosition="above" (click)="onAddTextAreaInfo(material,i)"></i>\r\n            </div>\r\n          </td>\r\n          <td>\r\n            <button class="btn btn-danger nobg" (click)="deleteRow(i, materialCreateForm)">\r\n              <i class="fa fa-trash"></i>\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n      <tfoot *ngIf="workFlow.materialList.length > 0 && !isWorkOrder">\r\n        <tr>\r\n          <td>\r\n            <b>Total</b>\r\n          </td>\r\n          <td *ngIf="isQuote">&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td class="text-right"><b>{{ workFlow.materialExtendedCostSummation }}</b></td>\r\n          <td *ngIf="!isQuote"></td>\r\n          <td *ngIf="!isQuote" class="text-right"><b>\r\n              {{ workFlow.materialExtendedPriceSummation }}</b>\r\n          </td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n          <td>&nbsp;</td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  </form>\r\n  <div class="modal fade" id="textarea-popup" role="dialog" data-backdrop="static" data-keyboard="false">\r\n    <div class="modal-dialog modal-sm" style="max-width: 400px !important;">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" (click)="onCloseTextAreaInfo()">&times;</button>\r\n          <h4 class="modal-title">Memo</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <p-editor [(ngModel)]="textAreaInfo" [style]="{\'height\':\'320px\'}" name="textAreaInfo" required></p-editor>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-primary" (click)="onSaveTextAreaInfo(textAreaInfo)">Save</button>\r\n          <button type="button" class="btn btn-danger" (click)="onCloseTextAreaInfo()">Close</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div *ngIf="isWorkOrder && !isEdit" style="float:right">\r\n    <button *ngIf="isWorkOrder" class="btn btn-primary btn-primary" (click)="saveMaterialsWorkOrder()"\r\n      style="padding: 6px 12px !important;margin-top: 10px;"\r\n      [disabled]="!materialCreateForm.valid || checkQuantityAvailability()">\r\n      Save\r\n    </button>\r\n    <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="closeMaterialTab()"\r\n      style="padding: 6px 12px !important;margin-top: 10px;">Close</button>\r\n  </div>\r\n\r\n  <div *ngIf="isQuote" style="float:right">\r\n    <button class="btn btn-primary btn-primary" (click)="saveMaterialsWorkOrder()"\r\n      style="padding: 6px 12px !important;margin-top: 10px;"\r\n      [disabled]="!materialCreateForm.valid || checkQuantityAvailability()">\r\n      Add\r\n    </button>\r\n  </div>\r\n\r\n  <div *ngIf="isWorkOrder && isEdit" style="float:right">\r\n    <button *ngIf="isWorkOrder" class="btn btn-primary btn-primary" (click)="updateMaterialsWorkOrder()"\r\n      style="padding: 6px 12px !important;margin-top: 10px;"\r\n      [disabled]="!materialCreateForm.valid || checkQuantityAvailability()">\r\n      Update\r\n    </button>\r\n    <button type="button" class="btn btn-danger" data-dismiss="modal"\r\n      style="padding: 6px 12px !important;margin-top: 10px;">Close</button>\r\n  </div>\r\n</div>\r\n\r\n<div id="itemMasterView" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">\r\n  <div class="modal-dialog modal-xl">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" style="padding: 0 !important" (click)="dismissItemMasterModel()">\r\n          &times;\r\n        </button>\r\n        <div class="col-sm-3">\r\n          <h4 class="modal-title">Details of Item Master</h4>\r\n        </div>\r\n        <div class="col-sm-3">\r\n          <p class="view-header">PN: <span class="text-danger">{{viewItemMaster.partNumber}}</span></p>\r\n        </div>\r\n        <div class="col-sm-3">\r\n          <p class="view-header">PN Description: <span class="text-danger">{{viewItemMaster.partDescription}}</span></p>\r\n        </div>\r\n      </div>\r\n      <div class="modal-body" *ngIf="itemMasterView">\r\n        <div class="table-responsive default-bg clear">\r\n          <div>\r\n            <button type="button" class="btn btn-primary" (click)="expandAllItemMasterDetails()">Open All</button>\r\n            <button type="button" class="btn btn-secondary" (click)="closeAllItemMasterDetails()">Close All</button>\r\n          </div>\r\n\r\n          <div class="panel-group" id="accordion">\r\n            <div class="panel panel-default">\r\n              <div class="panel-heading">\r\n                <h4 class="panel-title">\r\n                  <a data-toggle="collapse" href="#step1" aria-expanded="false" aria-controls="receive"\r\n                    class="collapsed">\r\n                    General Info\r\n                  </a>\r\n                </h4>\r\n              </div>\r\n              <div id="step1" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">\r\n                <div class="panel-body">\r\n                  <div class="modal-content p-1">\r\n                    <div class="table-responsive default-bg clear">\r\n                      <div class="col-sm-6">\r\n                        <p><span class="label"><b>PN: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.partNumber}}</span></p>\r\n                        <p><span class="label"><b>PMA: </b></span><span\r\n                            class="value">{{viewItemMaster.isPma ? viewItemMaster.isPma : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>OEM PN: </b></span><span\r\n                            class="value">{{viewItemMaster.oemPN ? viewItemMaster.oemPN : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>PN Description: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.partDescription}}</span></p>\r\n                        <p><span class="label"><b>Revised Part: </b></span><span\r\n                            class="value">{{viewItemMaster.revisedPart ? viewItemMaster.revisedPart : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Serialized: </b></span><span\r\n                            class="value">{{viewItemMaster.isSerialized ? viewItemMaster.isSerialized : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Time Life: </b></span><span\r\n                            class="value">{{viewItemMaster.isTimeLife ? viewItemMaster.isTimeLife : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>NSN: </b></span><span\r\n                            class="value">{{viewItemMaster.nationalStockNumber ? viewItemMaster.nationalStockNumber : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Item Classification: <span class="text-danger">*</span>\r\n                            </b></span><span class="value">{{viewItemMaster.itemClassification}}</span></p>\r\n                        <p><span class="label"><b>Item Group: </b></span><span\r\n                            class="value">{{viewItemMaster.itemGroup ? viewItemMaster.itemGroup : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Acquisition Type: </b></span><span\r\n                            class="value">{{viewItemMaster.assetAcquistionType ? viewItemMaster.assetAcquistionType : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Expiration Date: </b></span><span\r\n                            class="value">{{viewItemMaster.expirationDate | date: \'MM-dd-yyyy\'}}</span></p>\r\n                        <div class="form-row" *ngIf="viewItemMaster.isExpirationDateAvailable">\r\n                          <div class="col-md-6">\r\n                            <div class="snumber-block2">\r\n                              <div class="form-group col-sm-12">\r\n                                <label class="control-label control-alter1 col-sm-5">Rec\'d date</label>\r\n                                <div class="col-sm-7">\r\n                                  <label class="wauto">\r\n                                    <input type="checkbox" style="margin-left:11px;" name="isReceivedDateAvailable"\r\n                                      [(ngModel)]="viewItemMaster.isReceivedDateAvailable" disabled>\r\n                                  </label>\r\n                                  <input *ngIf="viewItemMaster.isReceivedDateAvailable"\r\n                                    class="form-control number exp-date-inputs w48" type="number" name="daysReceived"\r\n                                    [(ngModel)]="viewItemMaster.daysReceived" disabled>\r\n                                  <span *ngIf="viewItemMaster.isReceivedDateAvailable"\r\n                                    style="margin-left: 8px;">Days</span>\r\n                                </div>\r\n                              </div>\r\n                              <div class="form-group col-sm-12">\r\n                                <label class="control-label control-alter col-sm-5">Mfg date</label>\r\n                                <div class="col-sm-7">\r\n                                  <label class="wauto">\r\n                                    <input type="checkbox" style="margin-left:11px !important"\r\n                                      name="isManufacturingDateAvailable"\r\n                                      [(ngModel)]="viewItemMaster.isManufacturingDateAvailable" disabled>\r\n                                  </label>\r\n                                  <input *ngIf="viewItemMaster.isManufacturingDateAvailable"\r\n                                    class="form-control number exp-date-inputs w48" type="number"\r\n                                    name="manufacturingDays" [(ngModel)]="viewItemMaster.manufacturingDays" disabled>\r\n                                  <span *ngIf="viewItemMaster.isManufacturingDateAvailable"\r\n                                    style="margin-left: 8px;">Days</span>\r\n                                </div>\r\n                              </div>\r\n                              <div class="form-group col-sm-12">\r\n                                <label class="control-label control-alter col-sm-5">Tag date</label>\r\n                                <div class="col-sm-7">\r\n                                  <label class="wauto">\r\n                                    <input type="checkbox" name="exp-date-radio" style="margin-left:11px !important"\r\n                                      name="isTagDateAvailable" [(ngModel)]="viewItemMaster.isTagDateAvailable"\r\n                                      disabled>\r\n                                  </label>\r\n                                  <input *ngIf="viewItemMaster.isTagDateAvailable"\r\n                                    class="form-control number exp-date-inputs w48" type="text" name="tagDays"\r\n                                    [(ngModel)]="viewItemMaster.tagDays" disabled>\r\n                                  <span *ngIf="viewItemMaster.isTagDateAvailable" style="margin-left: 8px;">Days</span>\r\n                                </div>\r\n                              </div>\r\n                              <div class="form-group col-sm-12">\r\n                                <label class="control-label control-alter col-sm-5">Open date</label>\r\n                                <div class="col-sm-7">\r\n                                  <label class="wauto">\r\n                                    <input type="checkbox" name="isOpenDateAvailable"\r\n                                      style="margin-left:11px !important"\r\n                                      [(ngModel)]="viewItemMaster.isOpenDateAvailable" disabled>\r\n                                  </label>\r\n                                  <input *ngIf="viewItemMaster.isOpenDateAvailable"\r\n                                    class="form-control number exp-date-inputs w48" type="number" name="openDays"\r\n                                    [(ngModel)]="viewItemMaster.openDays" disabled>\r\n                                  <span *ngIf="viewItemMaster.isOpenDateAvailable" style="margin-left: 8px;">Days</span>\r\n                                </div>\r\n                              </div>\r\n                              <div class="form-group col-sm-12">\r\n                                <label class="control-label control-alter col-sm-5">Shipped date</label>\r\n                                <div class="col-sm-7">\r\n                                  <label class="wauto">\r\n                                    <input type="checkbox" name="isShippedDateAvailable"\r\n                                      style="margin-left:11px !important"\r\n                                      [(ngModel)]="viewItemMaster.isShippedDateAvailable" disabled>\r\n                                  </label>\r\n                                  <input *ngIf="viewItemMaster.isShippedDateAvailable"\r\n                                    class="form-control number exp-date-inputs w48" type="number" name="shippedDays"\r\n                                    [(ngModel)]="viewItemMaster.shippedDays" disabled>\r\n                                  <span *ngIf="viewItemMaster.isShippedDateAvailable"\r\n                                    style="margin-left: 8px;">Days</span>\r\n                                </div>\r\n                              </div>\r\n                              <div class="form-group col-sm-12">\r\n                                <label class="control-label control-alter col-sm-5">Other date</label>\r\n                                <div class="col-sm-7">\r\n                                  <label class="wauto">\r\n                                    <input type="checkbox" name="isOtherDateAvailable"\r\n                                      style="margin-left:11px !important"\r\n                                      [(ngModel)]="viewItemMaster.isOtherDateAvailable" disabled>\r\n                                  </label>\r\n                                  <input *ngIf="viewItemMaster.isOtherDateAvailable"\r\n                                    class="form-control number exp-date-inputs w48" type="number" name="otherDays"\r\n                                    [(ngModel)]="viewItemMaster.otherDays" disabled>\r\n                                  <span *ngIf="viewItemMaster.isOtherDateAvailable"\r\n                                    style="margin-left: 8px;">Days</span>\r\n                                </div>\r\n                              </div>\r\n                              <div class="clear"></div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class="inline-block display-flex">\r\n                          <label class="control-label">Shelf Life</label>\r\n                          <input class="form-control new-checkbox" type="checkbox" name="shelfLife"\r\n                            [(ngModel)]="viewItemMaster.shelfLife" style="margin: 4px 10px 0 20px;" disabled>\r\n                          &nbsp;\r\n                          <input *ngIf="viewItemMaster.shelfLife" class="form-control shelf1 number exp-date-inputs w50"\r\n                            type="number" name="shelfLifeAvailable" [(ngModel)]="viewItemMaster.shelfLifeAvailable"\r\n                            disabled>\r\n                          <strong class="shelf" style="margin-left: 5px;"><span\r\n                              *ngIf="viewItemMaster.shelfLife">Days</span></strong>\r\n                        </div>\r\n                        <p><span class="label"><b>DER: </b></span><span\r\n                            class="value">{{viewItemMaster.der ? viewItemMaster.der : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Hazardous Material: </b></span><span\r\n                            class="value">{{viewItemMaster.isHazardousMaterial ? viewItemMaster.isHazardousMaterial : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Manufacturer: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.manufacturerName}}</span></p>\r\n                        <p><span class="label"><b>RFQ Tracking: </b></span><span\r\n                            class="value">{{viewItemMaster.rfqTracking ? viewItemMaster.rfqTracking : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Purchase UOM: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.purchaseUnitOfMeasure}}</span></p>\r\n                        <p><span class="label"><b>Stock UOM: </b></span><span\r\n                            class="value">{{viewItemMaster.stockUnitOfMeasure ? viewItemMaster.stockUnitOfMeasure : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Consume UOM: </b></span><span\r\n                            class="value">{{viewItemMaster.consumeUnitOfMeasure ? viewItemMaster.consumeUnitOfMeasure : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Schematic: </b></span><span\r\n                            class="value">{{viewItemMaster.isSchematic ? viewItemMaster.isSchematic : \'-\'}}</span></p>\r\n                        <div class="col-sm-8">\r\n                          <div class="table-responsive table-overflow" *ngIf="allUploadedDocumentsList.length> 0">\r\n                            <h4 class="panel-title">Attachment Details:</h4>\r\n                            <table class="table table-bordered ">\r\n                              <thead>\r\n                                <tr>\r\n                                  <th>File Name</th>\r\n                                  <th>Download</th>\r\n                                </tr>\r\n                              </thead>\r\n                              <tbody *ngFor="let f of allUploadedDocumentsList">\r\n                                <tr>\r\n                                  <td>{{f.fileName}}</td>\r\n                                  <td><a (click)="downloadFileUpload(f)" matTooltip="Download"\r\n                                      class="btn nobg btn-cstm"><span><i class="fa fa-download"\r\n                                          style="color:black"></i></span></a> </td>\r\n                                </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div class="col-sm-6">\r\n                        <p><span class="label"><b>GL Acct.: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.glAccount}}</span></p>\r\n                        <p><span class="label"><b>Lead Time Days: </b></span><span\r\n                            class="value">{{viewItemMaster.leadTimeDays ? viewItemMaster.leadTimeDays : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Stock Level: </b></span><span\r\n                            class="value">{{viewItemMaster.stockLevel ? viewItemMaster.stockLevel : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Reorder Point: </b></span><span\r\n                            class="value">{{viewItemMaster.reorderPoint ? viewItemMaster.reorderPoint : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Reorder Qty: </b></span><span\r\n                            class="value">{{viewItemMaster.reorderQuantiy ? viewItemMaster.reorderQuantiy : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Min Order Qty: </b></span><span\r\n                            class="value">{{viewItemMaster.minimumOrderQuantity ? viewItemMaster.minimumOrderQuantity : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Priority: </b></span><span\r\n                            class="value">{{viewItemMaster.priority ? viewItemMaster.priority : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Integration With: </b></span><span\r\n                            class="value">{{viewItemMaster.integrationPortal ? viewItemMaster.integrationPortal : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Memo: </b></span><span\r\n                            class="value">{{viewItemMaster.memo ? viewItemMaster.memo : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Site: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.siteName ? viewItemMaster.siteName : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Warehouse: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.warehouseName ? viewItemMaster.warehouseName : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Location: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.locationName ? viewItemMaster.locationName : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Shelf: </b></span><span\r\n                            class="value">{{viewItemMaster.shelfName ? viewItemMaster.shelfName : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Bin: </b></span><span\r\n                            class="value">{{viewItemMaster.binName ? viewItemMaster.binName : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Hot Item: </b></span><span\r\n                            class="value">{{viewItemMaster.isHotItem ? viewItemMaster.isHotItem : \'-\'}}</span></p>\r\n                      </div>\r\n                      <div class="form-row">\r\n                        <div class="col-md-8">\r\n                          <div class="form-group">\r\n                            <label class="control-label">NTE</label>\r\n                            <div>\r\n                              <div class="table-responsive">\r\n                                <table class="table table-bordered wfm-general-table">\r\n                                  <thead style="text-align:center;">\r\n                                    <tr>\r\n                                      <th>Overhaul</th>\r\n                                      <th>Repair</th>\r\n                                      <th>Bench Test</th>\r\n                                      <th>Mfg</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                                    <tr>\r\n                                      <td>\r\n                                        <strong>Hours</strong>\r\n                                        <br />\r\n                                        <input type="number" class="form-control w50 time control-bottom"\r\n                                          name="overhaulHours" [(ngModel)]="viewItemMaster.overhaulHours" disabled>\r\n                                      </td>\r\n                                      <td>\r\n                                        <strong>Hours</strong>\r\n                                        <br />\r\n                                        <input type="number" pKeyFilter="int"\r\n                                          class="form-control w50 time control-bottom" name=""\r\n                                          [(ngModel)]="viewItemMaster.rpHours" disabled>\r\n                                      </td>\r\n                                      <td>\r\n                                        <strong>Hours</strong>\r\n                                        <br />\r\n                                        <input type="number" pKeyFilter="int" pattern="/^-?\\d+\\.?\\d*$/"\r\n                                          onKeyPress="if(this.value.length==5) return false;"\r\n                                          class="form-control w50 time control-bottom"\r\n                                          [ngModelOptions]="{standalone: true}" [(ngModel)]="viewItemMaster.testHours"\r\n                                          disabled>\r\n                                      </td>\r\n                                      <td>\r\n                                        <strong>Hours</strong>\r\n                                        <br />\r\n                                        <input type="number" pKeyFilter="int"\r\n                                          class="form-control w50 time control-bottom"\r\n                                          [ngModelOptions]="{standalone: true}" pattern="/^-?\\d+\\.?\\d*$/"\r\n                                          onKeyPress="if(this.value.length==5) return false;"\r\n                                          [(ngModel)]="viewItemMaster.mfgHours" disabled>\r\n                                      </td>\r\n                                    </tr>\r\n                                  </tbody>\r\n                                </table>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div class="col-md-8">\r\n                          <div class="form-group">\r\n                            <label class="control-label">Turn Time</label>\r\n                            <div>\r\n                              <div class="table-responsive">\r\n                                <table class="table table-bordered wfm-general-table">\r\n                                  <thead style="text-align:center;">\r\n                                    <tr>\r\n                                      <th>Overhaul</th>\r\n                                      <th>Repair</th>\r\n                                      <th>Bench Test</th>\r\n                                      <th>Mfg</th>\r\n                                    </tr>\r\n                                  </thead>\r\n                                  <tbody>\r\n                                    <tr>\r\n                                      <td>\r\n                                        <strong>Days</strong>\r\n                                        <br />\r\n                                        <input type="number" pKeyFilter="int"\r\n                                          class="form-control w50 time control-bottom"\r\n                                          [ngModelOptions]="{standalone: true}" pattern="/^-?\\d+\\.?\\d*$/"\r\n                                          onKeyPress="if(this.value.length==5) return false;"\r\n                                          [(ngModel)]="viewItemMaster.turnTimeOverhaulHours" disabled>\r\n                                      </td>\r\n                                      <td>\r\n                                        <strong>Days</strong>\r\n                                        <br />\r\n                                        <input type="number" pKeyFilter="int"\r\n                                          class="form-control w50 time control-bottom"\r\n                                          [ngModelOptions]="{standalone: true}" pattern="/^-?\\d+\\.?\\d*$/"\r\n                                          onKeyPress="if(this.value.length==5) return false;"\r\n                                          [(ngModel)]="viewItemMaster.turnTimeRepairHours" disabled>\r\n                                      </td>\r\n                                      <td>\r\n                                        <strong>Days</strong>\r\n                                        <br />\r\n                                        <input type="number" pKeyFilter="int"\r\n                                          class="form-control w50 time control-bottom"\r\n                                          [ngModelOptions]="{standalone: true}" pattern="/^-?\\d+\\.?\\d*$/"\r\n                                          onKeyPress="if(this.value.length==5) return false;"\r\n                                          [(ngModel)]="viewItemMaster.turnTimeBenchTest" disabled>\r\n                                      </td>\r\n                                      <td>\r\n                                        <strong>Days</strong>\r\n                                        <br />\r\n                                        <input type="number" pKeyFilter="int"\r\n                                          class="form-control w50 time control-bottom"\r\n                                          [ngModelOptions]="{standalone: true}" pattern="/^-?\\d+\\.?\\d*$/"\r\n                                          onKeyPress="if(this.value.length==5) return false;"\r\n                                          [(ngModel)]="viewItemMaster.turnTimeMfg" disabled>\r\n                                      </td>\r\n                                    </tr>\r\n                                  </tbody>\r\n                                </table>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="panel panel-default">\r\n              <div class="panel-heading">\r\n                <h4 class="panel-title">\r\n                  <a class="collapsed" data-toggle="collapse" href="#step2" aria-expanded="false">Aircraft Info</a>\r\n                </h4>\r\n              </div>\r\n              <div id="step2" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">\r\n                <div class="panel-body">\r\n                  <div class="modal-content p-1" style="overflow: hidden;padding-bottom: 60px !important;">\r\n                    <p-table #aircraft [value]="aircraftListDataValues" class="rpo-table-cstm ptable-th-bg "\r\n                      [rows]="pageSize" [columns]="colsaircraftLD" [scrollable]="true" [style]="{width:\'100%\'}"\r\n                      [paginator]="true" [rowsPerPageOptions]="[10, 20, 50, 100]" [resizableColumns]="true"\r\n                      [reorderableColumns]="true" selectionMode="multiple">\r\n\r\n                      <ng-template pTemplate="colgroup" let-columns>\r\n                        <colgroup>\r\n                          <col *ngFor="let col of columns" style="width:130px" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n                      <ng-template pTemplate="header" let-columns>\r\n                        <tr>\r\n                          <th *ngFor="let col of columns" pResizableColumn pReorderableColumn\r\n                            [pSortableColumn]="col.field">\r\n                            {{col.header}}\r\n                            <p-sortIcon [field]="col.field"></p-sortIcon>\r\n                          </th>\r\n                          <th style="width:70px;position:sticky">Action</th>\r\n                        </tr>\r\n                        <tr>\r\n                          <th style="width:auto" *ngFor="let col of columns" [ngSwitch]="col.field">\r\n                            <input style="width:100%;" pInputText type="text"\r\n                              (input)="aircraft.filter($event.target.value, col.field, \'contains\')" />\r\n                          </th>\r\n                          <th style="width:70px;position:sticky"></th>\r\n                        </tr>\r\n                      </ng-template>\r\n                      <ng-template pTemplate="body" let-i="rowIndex" let-rowData let-columns="columns">\r\n                        <tr [pSelectableRow]="rowData" [pSelectableRowDblClick]="rowData" pReorderableRowHandle\r\n                          (dblclick)="onViewAircraftonDbl(rowData)">\r\n                          <td *ngFor="let col of columns" ResizableColumn pReorderableColumn>\r\n                            {{rowData[col.field]}}\r\n                          </td>\r\n                          <td style="width:70px; text-align: center;" *ngIf="colsaircraftLD.length > 0">\r\n                            <span> <a class="btn btn-info boxed-float-btn nobg" data-toggle="modal"\r\n                                data-target="#viewAircraft" (click)="onViewAircraft(rowData)" matTooltip="View"><i\r\n                                  class="fa fa-eye"></i></a> </span>\r\n                            <span><a class="btn nobg" data-toggle="modal" data-target="#aircraftHistory"\r\n                                matTooltip="History" (click)="getAircraftAuditHistory(rowData)"><i\r\n                                  class="fa fa-history"></i></a></span>\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                      <ng-template pTemplate="emptymessage" let-columns *ngIf="aircraftListDataValues?.length == 0">\r\n                        <tr>\r\n                          <td [attr.colspan]="6" class="no-records-cstm">\r\n                            No records found\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                      <ng-template pTemplate="summary" id="footer">\r\n                        <label id="footer" class="footer">Total:</label>\r\n                        <input style="width: 5%;" [ngModelOptions]="{standalone: true}"\r\n                          [(ngModel)]="aircraft._totalRecords" [disabled]="true" pInputText type="text" />\r\n                        &nbsp;&nbsp;\r\n                        <label id="footer" class="footer1">Pages Count:</label>\r\n                        <input style="width: 5%;" [ngModelOptions]="{standalone: true}"\r\n                          [ngModel]="getPageCount(aircraft._totalRecords, pageSize)" [disabled]="true" pInputText\r\n                          type="text" />\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="panel panel-default">\r\n              <div class="panel-heading">\r\n                <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step3">ATA Chapters</a>\r\n                </h4>\r\n              </div>\r\n              <div id="step3" class="panel-collapse collapse">\r\n                <div class="panel-body">\r\n                  <div class="modal-content p-1" style="overflow: hidden;padding-bottom: 60px !important;">\r\n                    <p-table #ataDataTable class="rpo-table-cstm ptable-th-bg " [value]="ataMappedList"\r\n                      [rows]="pageSize" [columns]="atasub" [scrollable]="true" [style]="{width:\'100%\'}"\r\n                      [paginator]="true" [rowsPerPageOptions]="[10, 20, 50, 100]">\r\n                      <ng-template pTemplate="colgroup" let-columns>\r\n                        <colgroup>\r\n                          <col *ngFor="let col of columns" style="width:130px" />\r\n                        </colgroup>\r\n                      </ng-template>\r\n                      <ng-template pTemplate="header" let-columns>\r\n                        <tr>\r\n                          <th *ngFor="let col of atasub" pResizableColumn pReorderableColumn\r\n                            [pSortableColumn]="col.field">\r\n                            {{col.header}}\r\n                            <p-sortIcon [field]="col.field"></p-sortIcon>\r\n                          </th>\r\n                        </tr>\r\n                        <tr>\r\n                          <th style="width:auto" *ngFor="let col of columns" [ngSwitch]="col.field">\r\n                            <input style="width:100%;" pInputText type="text"\r\n                              (input)="ataDataTable.filter($event.target.value, col.field, \'contains\')" />\r\n                          </th>\r\n                        </tr>\r\n                      </ng-template>\r\n                      <ng-template pTemplate="body" let-i="rowIndex" let-rowData let-columns="columns">\r\n                        <tr [pSelectableRow]="rowData" [pSelectableRowDblClick]="rowData">\r\n                          <td *ngFor="let col of atasub" ResizableColumn pReorderableColumn>\r\n                            {{rowData[col.field]}}\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                      <ng-template pTemplate="emptymessage" let-columns *ngIf="ataMappedList?.length == 0">\r\n                        <tr>\r\n                          <td [attr.colspan]="6" class="no-records-cstm">\r\n                            No records found\r\n                          </td>\r\n                        </tr>\r\n                      </ng-template>\r\n                      <ng-template pTemplate="summary" id="footer">\r\n                        <label id="footer" class="footer">Total:</label>\r\n                        <input style="width: 5%;" [ngModelOptions]="{standalone: true}"\r\n                          [(ngModel)]="ataDataTable._totalRecords" [disabled]="true" pInputText type="text" />\r\n                        &nbsp;&nbsp;\r\n                        <label id="footer" class="footer1">Pages Count:</label>\r\n                        <input style="width: 5%;" [ngModelOptions]="{standalone: true}"\r\n                          [ngModel]="getPageCount(ataDataTable._totalRecords, pageSize)" [disabled]="true" pInputText\r\n                          type="text" />\r\n                      </ng-template>\r\n                    </p-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="panel panel-default">\r\n              <div class="panel-heading">\r\n                <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step4">Capes</a> </h4>\r\n              </div>\r\n              <div id="step4" class="panel-collapse collapse">\r\n                <div class="panel-body">\r\n                  <div>\r\n                    <app-item-master-capabilities-list *ngIf="itemMasterId"\r\n                      [isEnableItemMasterView]="isEnableItemMasterView" [itemMasterId]="itemMasterId">\r\n                    </app-item-master-capabilities-list>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="panel panel-default">\r\n              <div class="panel-heading">\r\n                <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step5">Purchase and\r\n                    Sales</a> </h4>\r\n              </div>\r\n              <div id="step5" class="panel-collapse collapse">\r\n                <div class="panel-body">\r\n                  <div class="modal-content" style="padding: 8px;">\r\n                    <div class="table-responsive">\r\n                      <table class="table table-bordered purchaseTable" id="mpn-list-table">\r\n                        <thead>\r\n                          <tr>\r\n                            <th colspan="10">Unit Purchase Price</th>\r\n                            <th colspan="19" class="bg1">Unit Sale Price</th>\r\n                          </tr>\r\n                          <tr>\r\n                            <th colspan="10"></th>\r\n                            <th colspan="5" class="bg2">Use Flat Sale Price</th>\r\n                            <th colspan="13" class="bg3">Calculate Unit Sale Price Using Puchase Price</th>\r\n\r\n                          </tr>\r\n                          <tr>\r\n                            <th>Cond *</th>\r\n                            <th>UOM *</th>\r\n                            <th>Currency *</th>\r\n                            <th>FX Rate *</th>\r\n                            <th>Vendor List Price</th>\r\n                            <th>Last List Price Date</th>\r\n                            <th>Purchase Disc %</th>\r\n                            <th>Purchase Disc Amount</th>\r\n                            <th>Last Purchase Disc Date</th>\r\n                            <th>Unit Purchase Price</th>\r\n                            <th class="bg2">UOM *</th>\r\n                            <th class="bg2">Currency *</th>\r\n                            <th class="bg2">FX Rate *</th>\r\n                            <th class="bg2">Flat Price Amount</th>\r\n                            <th class="bg2">Last Flat Price Date</th>\r\n                            <th class="bg3">Mark % on List Price</th>\r\n                            <th class="bg3">Mark Up Amount</th>\r\n                            <th class="bg3">Last Mark Up Date</th>\r\n                            <th class="bg3">Base Sale Price</th>\r\n                            <th class="bg3">Sale Disc %</th>\r\n                            <th class="bg3">Sale Disc Amount</th>\r\n                            <th class="bg3">Last Sales Disc Date</th>\r\n                            <th class="bg3">Unit Sale Price</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n\r\n                          <tr *ngFor="let field of purchaseSalesInfo">\r\n                            <td>{{field.conditionName ? field.conditionName : \'-\'}}</td>\r\n                            <td>{{field.pP_UOMName ? field.pP_UOMName : \'-\'}}</td>\r\n                            <td>{{field.pP_CurrencyName ? field.pP_CurrencyName : \'-\'}}</td>\r\n                            <td>{{field.pP_FXRatePerc ? field.pP_FXRatePerc : \'-\'}}</td>\r\n                            <td>{{field.pP_VendorListPrice ? field.pP_VendorListPrice : \'-\'}}</td>\r\n                            <td>{{field.pP_LastListPriceDate | date:\'MM-dd-yyyy\'}}</td>\r\n                            <td>{{field.pP_PurchaseDiscPerc ? field.pP_PurchaseDiscPerc : \'-\'}}</td>\r\n                            <td>{{field.pP_PurchaseDiscAmount ? field.pP_PurchaseDiscAmount : \'-\'}}</td>\r\n                            <td>{{field.pP_LastPurchaseDiscDate | date:\'MM-dd-yyyy\'}}</td>\r\n                            <td>{{field.pP_UnitPurchasePrice ? field.pP_UnitPurchasePrice : \'-\'}}</td>\r\n                            <td>{{field.sP_FSP_UOMName ? field.sP_FSP_UOMName : \'-\'}}</td>\r\n                            <td>{{field.sP_FSP_CurrencyName ? field.sP_FSP_CurrencyName : \'-\'}}</td>\r\n                            <td>{{field.sP_FSP_FXRatePerc ? field.sP_FSP_FXRatePerc : \'-\'}}</td>\r\n                            <td>{{field.sP_FSP_FlatPriceAmount ? field.sP_FSP_FlatPriceAmount : \'-\'}}</td>\r\n                            <td>{{field.sP_FSP_LastFlatPriceDate | date:\'MM-dd-yyyy\'}}</td>\r\n                            <td>\r\n                              {{field.sP_CalSPByPP_MarkUpPercOnListPrice ? field.sP_CalSPByPP_MarkUpPercOnListPrice : \'-\'}}\r\n                            </td>\r\n                            <td>{{field.sP_CalSPByPP_MarkUpAmount ? field.sP_CalSPByPP_MarkUpAmount : \'-\'}}</td>\r\n                            <td>{{field.sP_CalSPByPP_LastMarkUpDate | date:\'MM-dd-yyyy\'}}</td>\r\n                            <td>{{field.sP_CalSPByPP_BaseSalePrice ? field.sP_CalSPByPP_BaseSalePrice : \'-\'}}</td>\r\n                            <td>{{field.sP_CalSPByPP_SaleDiscPerc ? field.sP_CalSPByPP_SaleDiscPerc : \'-\'}}</td>\r\n                            <td>{{field.sP_CalSPByPP_SaleDiscAmount ? field.sP_CalSPByPP_SaleDiscAmount : \'-\'}}</td>\r\n                            <td>{{field.sP_CalSPByPP_LastSalesDiscDate | date:\'MM-dd-yyyy\'}}</td>\r\n                            <td>{{field.sP_CalSPByPP_UnitSalePrice ? field.sP_CalSPByPP_UnitSalePrice : \'-\'}}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="panel panel-default">\r\n              <div class="panel-heading">\r\n                <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step6">NHA,TLA, Alternate,\r\n                    Equivalency</a> </h4>\r\n              </div>\r\n              <div id="step6" class="panel-collapse collapse">\r\n                <div class="panel-body">\r\n                  <div class="modal-content p-1">\r\n                    <div class="form-row">\r\n                      <div class="col-md-6">\r\n                        <app-ntae-alternate *ngIf="itemMasterId" [itemMastId]="itemMasterId"\r\n                          [isViewItemMasterNHA]="isViewItemMasterNHA"></app-ntae-alternate>\r\n                      </div>\r\n                      <div class="col-md-6">\r\n                        <app-ntae-alternate *ngIf="itemMasterId" [itemMastId]="itemMasterId"\r\n                          [isViewItemMasterTLA]="isViewItemMasterTLA"></app-ntae-alternate>\r\n                      </div>\r\n                    </div>\r\n                    <div class="form-row">\r\n                      <div class="col-md-6">\r\n                        <app-ntae-alternate *ngIf="itemMasterId" [itemMastId]="itemMasterId"\r\n                          [isViewItemMasterAlternate]="isViewItemMasterAlternate"></app-ntae-alternate>\r\n                      </div>\r\n                      <div class="col-md-6">\r\n                        <app-ntae-alternate *ngIf="itemMasterId" [itemMastId]="itemMasterId"\r\n                          [isViewItemMasterEquivalency]="isViewItemMasterEquivalency"></app-ntae-alternate>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="panel panel-default">\r\n              <div class="panel-heading">\r\n                <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step7">Exchange and\r\n                    Loans</a> </h4>\r\n              </div>\r\n              <div id="step7" class="panel-collapse collapse">\r\n                <div class="panel-body">\r\n                  <div class="modal-content p-1">\r\n                    <div class="form-row">\r\n                      <div class="col-sm-6">\r\n                        <h4 class="po-head">Exchange</h4>\r\n                        <p><span class="label"><b>Currency: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.exchangeCurrencyName ? exchangeLoanInfo.exchangeCurrencyName : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Exchange List Price: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.exchangeListPrice ? exchangeLoanInfo.exchangeListPrice : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Core Price: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.exchangeCorePrice ? exchangeLoanInfo.exchangeCorePrice : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Overhaul Price: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.exchangeOverhaulPrice ? exchangeLoanInfo.exchangeOverhaulPrice : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Outright Price: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.exchangeOutrightPrice ? exchangeLoanInfo.exchangeOutrightPrice : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Core Cost: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.exchangeCoreCost ? exchangeLoanInfo.exchangeCoreCost : \'-\'}}</span>\r\n                        </p>\r\n                      </div>\r\n                      <div class="col-sm-6">\r\n                        <h4 class="po-head">Loan</h4>\r\n                        <p><span class="label"><b>Currency: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.loanCurrencyName ? exchangeLoanInfo.loanCurrencyName : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Loan Fees: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.loanFees ? exchangeLoanInfo.loanFees : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Core Price: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.loanCorePrice ? exchangeLoanInfo.loanCorePrice : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Outright Price: </b></span><span\r\n                            class="value">{{exchangeLoanInfo.loanOutrightPrice ? exchangeLoanInfo.loanOutrightPrice : \'-\'}}</span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div class="panel panel-default">\r\n              <div class="panel-heading">\r\n                <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" href="#step8">Export\r\n                    Information</a> </h4>\r\n              </div>\r\n              <div id="step8" class="panel-collapse collapse">\r\n                <div class="panel-body">\r\n                  <div class="modal-content p-1">\r\n                    <div class="form-row">\r\n                      <div class="col-sm-6">\r\n                        <p><span class="label"><b>ECCN: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.exportECCN ? viewItemMaster.exportECCN : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>ITAR Num: </b></span><span\r\n                            class="value">{{viewItemMaster.itarNumber ? viewItemMaster.itarNumber : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Country: </b></span><span\r\n                            class="value">{{viewItemMaster.exportCountryName ? viewItemMaster.exportCountryName : \'-\'}}</span>\r\n                        </p>\r\n                        <p><span class="label"><b>Value: </b></span><span\r\n                            class="value">{{viewItemMaster.exportValue ? viewItemMaster.exportValue : \'-\'}}</span></p>\r\n                        <p><span class="label"><b>Currency: </b></span><span\r\n                            class="value">{{viewItemMaster.exportCurrencyName ? viewItemMaster.exportCurrencyName : \'-\'}}</span>\r\n                        </p>\r\n                      </div>\r\n                      <div class="col-sm-6">\r\n                        <div class="form-row">\r\n                          <div class="col-sm-6">\r\n                            <p><span class="label"><b>Weight: </b></span><span\r\n                                class="value">{{viewItemMaster.exportWeight ? viewItemMaster.exportWeight : \'-\'}}</span>\r\n                            </p>\r\n                          </div>\r\n                          <div class="col-sm-6">\r\n                            <p><span class="label"><b>UOM: </b></span><span\r\n                                class="value">{{viewItemMaster.exportWeightUnitName ? viewItemMaster.exportWeightUnitName : \'-\'}}</span>\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <p><span class="label"><b>Export UOM: </b></span><span\r\n                            class="value">{{viewItemMaster.exportUomName ? viewItemMaster.exportUomName : \'-\'}}</span>\r\n                        </p>\r\n                        <div class="form-row">\r\n                          <div class="col-sm-6">\r\n                            <p><span class="label"><b>Size (L,W,H): </b></span><span class="value">\r\n                                {{viewItemMaster.exportSizeLength ? viewItemMaster.exportSizeLength : \'-\'}},\r\n                                {{viewItemMaster.exportSizeWidth ? viewItemMaster.exportSizeWidth : \'-\'}},\r\n                                {{viewItemMaster.exportSizeHeight ? viewItemMaster.exportSizeHeight : \'-\'}}\r\n                              </span></p>\r\n                          </div>\r\n                          <div class="col-sm-6">\r\n                            <p><span class="label"><b>UOM: </b></span><span\r\n                                class="value">{{viewItemMaster.exportSizeUnitOfMeasureName ? viewItemMaster.exportSizeUnitOfMeasureName : \'-\'}}</span>\r\n                            </p>\r\n                          </div>\r\n                        </div>\r\n                        <p><span class="label"><b>Classification: <span class="text-danger">*</span> </b></span><span\r\n                            class="value">{{viewItemMaster.exportClassificationIdName ? viewItemMaster.exportClassificationIdName : \'-\'}}</span>\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="modal-footer">\r\n        <button type="button" class="btn btn-danger" (click)="dismissItemMasterModel()">Close</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="preloader" *ngIf="isSpinnerVisible">\r\n  <div class="loading">\r\n    <div class="lds-roller">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </div>\r\n</div>'},"w/wX":function(t,e,r){var n=r("QqLw"),i=r("ExA7");t.exports=function(t){return i(t)&&"[object Set]"==n(t)}},wJg7:function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},wrZu:function(t,e,r){var n=r("+K+b"),i=r("XYm9"),a=r("b2z7"),o=r("otv/"),s=r("yP5f");t.exports=function(t,e,r){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return n(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return a(t);case"[object Set]":return new l;case"[object Symbol]":return o(t)}}},y1pI:function(t,e,r){var n=r("ljhN");t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},yGk4:function(t,e,r){var n=r("Cwc5")(r("Kz5y"),"Set");t.exports=n},yHx3:function(t,e){var r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&r.call(t,"index")&&(n.index=t.index,n.input=t.input),n}},yP5f:function(t,e,r){var n=r("+K+b");t.exports=function(t,e){var r=e?n(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}},zEVN:function(t,e,r){var n=r("Gi0A"),i=r("sEf8"),a=r("mdPL"),o=a&&a.isMap,s=o?i(o):n;t.exports=s}}]);