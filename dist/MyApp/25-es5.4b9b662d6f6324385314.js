function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,s=function(){};return{s:s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"5cD9":function(e,t,r){"use strict";r.r(t),t.default="<router-outlet></router-outlet>"},B7lA:function(e,t,r){"use strict";r.r(t),t.default='<div>\r\n    <div class="col-md-12">\r\n        <div class="x_panel" style="">\r\n            <div class="x_content">\r\n                <nav aria-label="breadcrumb">\r\n                    <ol class="breadcrumb">\r\n                        <li class="breadcrumb-item" aria-current="page">Admin</li>\r\n                        <li class="breadcrumb-item" aria-current="page">Employee</li>\r\n                        <li class="breadcrumb-item active" aria-current="page">User Role Mapping</li>\r\n                    </ol>\r\n                </nav>\r\n                <div class="pheading">\r\n                    <h4 class="page-heading">Add New Role</h4>\r\n                    \x3c!--<form id="" class="lgrey-bg div8 filters" name="" action="#" method="post" onsubmit="return false;">--\x3e\r\n                    <div class="col-sm-2 emp-filter">\r\n                        <label>User Name</label>\r\n                        <br>\r\n                        <select class="form-control" (change)="onUserChange($event.target.value)" [(ngModel)]="selectedUserId">\r\n                            <option value="0">--All--</option>\r\n                            <option *ngFor="let user of Users" value={{user.id}}>\r\n                                {{user.userName}}\r\n                            </option>\r\n                        </select>\r\n                    </div>\r\n                    <div class="col-sm-2 emp-filter">\r\n                        <label>User Role</label>\r\n                        <br>\r\n                        <p-multiSelect [options]="UserRoles" \r\n                                       [(ngModel)]="selectedRoles" \r\n                                       optionLabel="name"\r\n                                       [style]="{minWidth: \'200px\'}" \r\n                                       defaultLabel="Roles" \r\n                                       style="float:left">\r\n\r\n                        </p-multiSelect>\r\n\r\n                    </div>\r\n                    <div class="col-sm-2 emp-filter">\r\n                        <br>\r\n                        <button (click)="assignRole()" class="btn btn-success">Assign Role</button>\r\n                    </div>\r\n                    \x3c!--</form>--\x3e\r\n                </div>\r\n                <div class="clear"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n</div>'},CzrU:function(e,t,r){"use strict";r.r(t);var n=r("mrSG"),s=r("8Y7J"),a=r("u9T3"),i=r("s7LF"),l=r("TSSN"),o=r("1+r1"),d=r("iInd"),c=function e(){_classCallCheck(this,e)};c=n.b([Object(s.Component)({selector:"app-rolespages",template:n.c(r("5cD9")).default,styles:[n.c(r("nsGu")).default]})],c);var u=function e(){_classCallCheck(this,e)};u=n.b([Object(s.Component)({selector:"app-roles-list",template:n.c(r("JkqO")).default,styles:[n.c(r("bTWo")).default]})],u);var h=function e(){_classCallCheck(this,e)};h=n.b([Object(s.Component)({selector:"app-roles-list-by-module",template:n.c(r("rrPZ")).default,styles:[n.c(r("OjC9")).default]})],h);var p=r("8rEH"),m=r("s6ns"),v=r("OIZN"),f=r("7kcP"),g=r("sYxu"),y=r("d8Wx"),b=r("90vJ"),k=r("IheW"),M=r("lGQG"),R=r("G0yt"),S=r("3LUQ"),w=r("RSnv"),I=function e(t,r,n,s,a,i,l,o,d){_classCallCheck(this,e),this.userRoleLevelId=r,this.description=n,this.masterCompanyId=s,this.createdBy=a,this.createdDate=i,this.updatedDate=l,this.updatedBy=o,this.masterCompany=t,this.isActive=d},C=r("JdNi"),x=r("h55p"),U=function(){function e(t,r,n,s,a,i,l,o,d,c,u,h,m,v){_classCallCheck(this,e),this.workFlowtService=t,this.breadCrumb=r,this.manageMentService=n,this.http=s,this.ataservice=a,this.changeDetectorRef=i,this.router=l,this.authService=o,this.modalService=d,this.activeModal=c,this._fb=u,this.alertService=h,this.dialog=m,this.masterComapnyService=v,this.createdBy="",this.updatedBy="",this.createdDate="",this.updatedDate="",this.isEditMode=!1,this.isDeleteMode=!1,this.closeCmpny=!0,this.action_name="",this.allComapnies=[],this.auditHisory=[],this.displayedColumns=["description","createdBy","updatedBy","updatedDate","createdDate"],this.selectedColumn={},this.localSelectedManagement=[],this.sourceUserRoleLevel={},this.allRoles=[],this.allWorkFlows=[],this.dataSource=new p.a,this.sourceUserRoleLevel=new I}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}},{key:"ngOnInit",value:function(){this.cols=[{field:"description",header:"Role Name"}],this.loadData(),this.loadManagementdata(),this.selectedColumns=this.cols,this.breadCrumb.currentUrl="/rolesmodule/rolespages/app-roles-management-structure",this.breadCrumb.bredcrumbObj.next(this.breadCrumb.currentUrl),this.selectedColumns=this.cols}},{key:"closethis",value:function(){this.closeCmpny=!1}},{key:"loadData",value:function(){var e=this;this.alertService.startLoadingMessage(),this.loadingIndicator=!0,this.workFlowtService.getRolesList().subscribe((function(t){return e.onDataLoadSuccessful(t[0])}),(function(t){return e.onDataLoadFailed(t)})),this.selectedColumns=this.cols}},{key:"loadManagementdata",value:function(){var e=this;this.alertService.startLoadingMessage(),this.loadingIndicator=!0,this.manageMentService.getManagemententity().subscribe((function(t){return e.onManagemtntdataLoad(t[0])}),(function(t){return e.onDataLoadFailed(t)})),this.selectedColumns=this.cols}},{key:"onManagemtntdataLoad",value:function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,this.allManagemtninfo=e,this.allManagemtninfo&&(this.gridData=this.makeNestedObj(this.allManagemtninfo,null)),this.cols1=[{field:"code",header:"Code"},{field:"description",header:"Description"},{field:"legalEntityId",header:"ID"}]}},{key:"makeNestedObj",value:function(e,t){var r=[];for(var n in e)if(e[n].parentId==t){var s=this.makeNestedObj(e,e[n].managementStructureId);e[n]={data:e[n]},s.length&&(e[n].children=s),r.push(e[n])}return r}},{key:"makeNestedObj1",value:function(e,t,r){var n=[];if(e)for(var s=0;s<e.length;s++)for(var a=0;a<t.length;a++)if(t[a].data){if(e[s].managementStructureId==t[a].data.managementStructureId){t[a].data.userRoleManagementStructureId=e[s].userRoleManagementStructureId,t[a].data.userRoleLevelId=e[s].userRoleLevelId,n.push(t[a]),console.log(t[a].data);break}}else if(e[s].managementStructureId==t[a].managementStructureId){t[a].data.userRoleManagementStructureId=e[s].userRoleManagementStructureId,t[a].data.managementStructureId=e[s].managementStructureId,n.push(t[a]),console.log(t[a].data);break}return n}},{key:"saveManagement",value:function(e,t){for(var r=this,n=0;n<t.length;n++)null!=t[n].data.managementStructureId&&(t[n].data.UserRoleLevelId=e,this.workFlowtService.newRolesManagementStructure(t[n].data).subscribe((function(e){r.localManagementSiteCollection=e})))}},{key:"applyFilter",value:function(e){this.dataSource.filter=e}},{key:"refresh",value:function(){this.applyFilter(this.dataSource.filter)}},{key:"onDataLoadSuccessful",value:function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,this.dataSource.data=e,this.allRoles=e}},{key:"onDataLoadFailed",value:function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1}},{key:"onDataMasterCompaniesLoadSuccessful",value:function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,this.allComapnies=e}},{key:"loadMasterCompanies",value:function(){var e=this;this.alertService.startLoadingMessage(),this.loadingIndicator=!0,this.masterComapnyService.getMasterCompanies().subscribe((function(t){return e.onDataMasterCompaniesLoadSuccessful(t[0])}),(function(t){return e.onDataLoadFailed(t)}))}},{key:"open",value:function(e){this.isEditMode=!1,this.isDeleteMode=!1,this.isSaving=!0,this.loadMasterCompanies(),this.loadManagementdata(),this.sourceUserRoleLevel=new I,this.description="",this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"openDelete",value:function(e,t){this.isEditMode=!1,this.isDeleteMode=!0,this.sourceUserRoleLevel=t,this.modal=this.modalService.open(e,{size:"sm"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"localManagementSiteCollectionEdit",value:function(e){console.log(e)}},{key:"openEdit",value:function(e,t){var r=this;this.isEditMode=!0,this.isSaving=!0,this.loadMasterCompanies(),this.sourceUserRoleLevel=t,this.description=this.sourceUserRoleLevel.description,this.workFlowtService.getRoleManagementStructureEditData(this.sourceUserRoleLevel.userRoleLevelId).subscribe((function(e){r.localManagementRoleEditCollection=e,r.localManagementRoleEditCollection&&(r.gridData?r.gridData1=r.makeNestedObj1(r.localManagementRoleEditCollection,r.allManagemtninfo,null):r.gridData=r.makeNestedObj(r.allManagemtninfo,null)),r.selectedNodeTest=r.gridData1})),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"openHist",value:function(e,t){var r=this;this.alertService.startLoadingMessage(),this.loadingIndicator=!0,this.sourceUserRoleLevel=t,this.workFlowtService.historyRoles(this.sourceUserRoleLevel.UserRoleLevelId).subscribe((function(t){return r.onHistoryLoadSuccessful(t[0],e)}),(function(e){return r.saveFailedHelper(e)}))}},{key:"openView",value:function(e,t){this.sourceUserRoleLevel=t,this.description=t.description,this.createdBy=t.createdBy,this.updatedBy=t.updatedBy,this.createdDate=t.createdDate,this.updatedDate=t.updatedDate,this.loadMasterCompanies(),this.modal=this.modalService.open(e,{size:"lg"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"openHelpText",value:function(e){this.modal=this.modalService.open(e,{size:"sm"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"eventHandler",value:function(e){var t=e.target.value.toLowerCase();this.selectedActionName&&(t==this.selectedActionName.toLowerCase()?this.disableSave=!0:this.disableSave=!1)}},{key:"deleteItemAndCloseModel",value:function(){var e=this;this.isSaving=!0,this.sourceUserRoleLevel.updatedBy=this.userName,this.workFlowtService.deleteRole(this.sourceUserRoleLevel.userRoleLevelId).subscribe((function(t){return e.saveCompleted(e.sourceUserRoleLevel)}),(function(t){return e.saveFailedHelper(t)}))}},{key:"saveFailedHelper",value:function(e){this.isSaving=!1,this.alertService.stopLoadingMessage(),this.alertService.showStickyMessage("Save Error","The below errors occured while saving your changes:",S.d.error,e),this.alertService.showStickyMessage(e,null,S.d.error)}},{key:"editItemAndCloseModel",value:function(){var e=this;this.isSaving=!0,0==this.isEditMode?(this.sourceUserRoleLevel.createdBy=this.userName,this.sourceUserRoleLevel.updatedBy=this.userName,this.sourceUserRoleLevel.masterCompanyId=1,this.sourceUserRoleLevel.description=this.description,this.sourceUserRoleLevel.name=this.name,this.workFlowtService.newRole(this.sourceUserRoleLevel).subscribe((function(t){e.roleInfo=t,null!=t&&e.saveManagement(t.userRoleLevelId,e.selectedNodeTest)})),this.loadData()):(this.sourceUserRoleLevel.updatedBy=this.userName,this.sourceUserRoleLevel.description=this.description,this.sourceUserRoleLevel.name=this.name,this.sourceUserRoleLevel.masterCompanyId=1,this.workFlowtService.updateRole(this.sourceUserRoleLevel).subscribe((function(t){return e.saveCompleted(e.sourceUserRoleLevel)}),(function(t){return e.saveFailedHelper(t)})),this.workFlowtService.deleteManagementRole(this.selectedNodeTest).subscribe((function(e){})),this.saveManagement(this.selectedNodeTest[0].data.userRoleLevelId,this.selectedNodeTest),this.selectedNodeTest=[]),this.modal.close(),this.loadData()}},{key:"saveCompleted",value:function(e){this.isSaving=!1,1==this.isDeleteMode?(this.alertService.showMessage("Success","Action was deleted successfully",S.d.success),this.isDeleteMode=!1):this.alertService.showMessage("Success","Action was edited successfully",S.d.success),this.loadData()}},{key:"dismissModel",value:function(){this.isDeleteMode=!1,this.isEditMode=!1,this.modal.close(),this.loadData()}},{key:"onHistoryLoadSuccessful",value:function(e,t){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,this.auditHisory=e,this.modal=this.modalService.open(t,{size:"lg"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"handleChange",value:function(e,t){}},{key:"partnmId",value:function(e){}},{key:"userName",get:function(){return this.authService.currentUser?this.authService.currentUser.userName:""}}]),e}();U.ctorParameters=function(){return[{type:w.a},{type:C.a},{type:x.a},{type:k.HttpClient},{type:b.a},{type:s.ChangeDetectorRef},{type:d.Router},{type:M.a},{type:R.c},{type:R.b},{type:i.FormBuilder},{type:S.b},{type:m.b},{type:y.a}]},n.b([Object(s.ViewChild)(v.a,{static:!1})],U.prototype,"paginator",void 0),n.b([Object(s.ViewChild)(f.a,{static:!1})],U.prototype,"sort",void 0),U=n.b([Object(s.Component)({selector:"app-roles-management-structure",template:n.c(r("IsWz")).default,animations:[g.a],styles:[n.c(r("N6KH")).default]})],U);var D=r("MKys"),L=r("24Yq"),A=r("vaEg"),P=function e(){_classCallCheck(this,e)},N=function e(){_classCallCheck(this,e)},H=function e(){_classCallCheck(this,e)},V=function(){function e(t,r,n,s){_classCallCheck(this,e),this.messageService=t,this.authService=r,this.alertService=n,this.userRoleService=s,this.sortedHierarchy=[],this.selectedHierarchy=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAllModuleHierarchies(),this.currentUserRole=new P,this.currentUserRole.rolePermissions=[],this.pages=[]}},{key:"getAllModuleHierarchies",value:function(){var e=this;this.userRoleService.getAllModuleHierarchies().subscribe((function(t){e.moduleHierarchy=t[0],e.sortModules()}))}},{key:"sortModules",value:function(){var e=this.moduleHierarchy.filter((function(e){return null==e.parentId}));if(null!=e&&e.length>0){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.level=0,n.visible=!0,n.rolePermission=new N,n.rolePermission.canAdd=!1,n.rolePermission.canView=!1,n.rolePermission.canDelete=!1,n.rolePermission.canUpdate=!1,this.sortedHierarchy.push(n),this.hasChild(n)}}catch(s){r.e(s)}finally{r.f()}}}},{key:"resetRolePermission",value:function(e){e.canAdd=!1,e.canView=!1,e.canDelete=!1,e.canUpdate=!1}},{key:"hasChild",value:function(e){var t=this.moduleHierarchy.filter((function(t){return t.parentId==e.id}));if(null!=t&&t.length>0){e.hasChildren=!0;var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var s=r.value;s.level=e.level+1,s.visible=!1,s.parentId=e.id,s.rolePermission=new N,this.resetRolePermission(s.rolePermission),this.sortedHierarchy.push(s),this.hasChild(s)}}catch(a){n.e(a)}finally{n.f()}}}},{key:"showChildModules",value:function(e,t){if(!e.isPage){var r=!1,n="td"==t.target.localName?t.target.children[0]:t.target;n.classList.contains("fa-caret-down")?(n.classList.remove("fa-caret-down"),n.classList.add("fa-caret-right"),r=!0):(n.classList.remove("fa-caret-right"),n.classList.add("fa-caret-down")),r?this.sortedHierarchy.filter((function(t){return t.parentId==e.id})).forEach((function(e){e.visible=r})):(this.pagesToHide=[],this.loadAllChildModule(e.id),this.pagesToHide.forEach((function(e){e.visible=r})))}}},{key:"setPermissionByType",value:function(e,t,r){"canView"==t&&(e.rolePermission.canView=r),"canAdd"==t&&(e.rolePermission.canAdd=r),"canUpdate"==t&&(e.rolePermission.canUpdate=r),"canDelete"==t&&(e.rolePermission.canDelete=r)}},{key:"uncheckAllParentModule",value:function(e,t){var r=this.sortedHierarchy.filter((function(t){return t.id==e&&0==t.isPage}))[0];this.setPermissionByType(r,t,!1),null!=r.parentId&&this.uncheckAllParentModule(r.parentId,t)}},{key:"loadAllChildModule",value:function(e){var t,r=_createForOfIteratorHelper(this.sortedHierarchy.filter((function(t){return t.parentId==e})));try{for(r.s();!(t=r.n()).done;){var n=t.value;this.pagesToHide.push(n),null==n.parentId||n.isPage||this.loadAllChildModule(n.id)}}catch(s){r.e(s)}finally{r.f()}}},{key:"permissionChecked",value:function(e,t,r){var n=e.target.checked;if(0==n&&(this.setPermissionByType(t,r,n),null!=t.parentId&&this.uncheckAllParentModule(t.parentId,r)),t.isPage)this.setPermissionByType(t,r,n),this.setModuleHierarchyPermission(t);else{this.setPermissionByType(t,r,n),this.pages=[],this.hasPages(t,r,n);var s,a=_createForOfIteratorHelper(this.pages);try{for(a.s();!(s=a.n()).done;){var i=s.value;this.setModuleHierarchyPermission(i)}}catch(l){a.e(l)}finally{a.f()}}console.log(this.currentUserRole.rolePermissions)}},{key:"setModuleHierarchyPermission",value:function(e){var t=this.currentUserRole.rolePermissions.filter((function(t){return t.moduleHierarchyMasterId==e.id}))[0];if(null!=t){(n=Object.assign({},e.rolePermission)).moduleHierarchyMasterId=e.id;var r=this.currentUserRole.rolePermissions.indexOf(t);this.updatePermission(this.currentUserRole.rolePermissions[r],e.rolePermission)}else{var n;(n=Object.assign({},e.rolePermission)).moduleHierarchyMasterId=e.id,this.currentUserRole.rolePermissions.push(n)}}},{key:"updatePermission",value:function(e,t){e.canView=t.canView,e.canAdd=t.canAdd,e.canUpdate=t.canUpdate,e.canDelete=t.canDelete}},{key:"hasPages",value:function(e,t,r){var n=this.sortedHierarchy.filter((function(t){return t.parentId==e.id}));if(null!=n&&n.length>0){var s,a=_createForOfIteratorHelper(n);try{for(a.s();!(s=a.n()).done;){var i=s.value;this.setPermissionByType(i,t,r),i.isPage&&this.pages.push(i),this.hasPages(i,t,r)}}catch(l){a.e(l)}finally{a.f()}}}},{key:"addUserRole",value:function(){var e=this;this.userRoleService.add(this.currentUserRole).subscribe((function(t){e.alertService.showMessage("User Role",e.currentUserRole.name+" Role added successfully.",S.d.success);var r,n=_createForOfIteratorHelper(e.sortedHierarchy);try{for(n.s();!(r=n.n()).done;){var s=r.value;e.resetRolePermission(s.rolePermission)}}catch(a){n.e(a)}finally{n.f()}e.currentUserRole=new P,e.currentUserRole.rolePermissions=[],e.pages=[]}),(function(t){var r;r=t.error.constructor==Array?t.error[0].errorMessage:t.error.Message,e.alertService.showMessage("User Role",r,S.d.error)}))}}]),e}();V.ctorParameters=function(){return[{type:L.MessageService},{type:M.a},{type:S.b},{type:A.a}]},V=n.b([Object(s.Component)({selector:"app-roles-setup",template:n.c(r("REh4")).default,animations:[g.a]})],V);var T=function(){function e(t,r,n,s){_classCallCheck(this,e),this.messageService=t,this.authService=r,this.alertService=n,this.userRoleService=s,this.pageTitle="User Role Mapping"}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadUserAndRoles(),this.selectedUserId="0"}},{key:"loadUserAndRoles",value:function(){var e=this;this.getAllUsers().subscribe((function(t){e.Users=t[0],e.getAllUserRoles().subscribe((function(t){e.UserRoles=t[0]}))}))}},{key:"getAllUsers",value:function(){return this.userRoleService.getAllUsers()}},{key:"getAllUserRoles",value:function(){return this.userRoleService.getAllUserRole()}},{key:"onUserChange",value:function(e){this.selectedUserId=e,this.getUserRoleByUserId()}},{key:"getUserRoleByUserId",value:function(){var e=this;this.userRoleService.getUserRoleByUserId(this.selectedUserId).subscribe((function(t){e.selectedRoles=[];var r,n=_createForOfIteratorHelper(t[0]);try{var s=function(){var t=r.value;a=e.UserRoles.filter((function(e){return e.id==t.id}))[0],e.selectedRoles.push(a)};for(n.s();!(r=n.n()).done;){var a;s()}}catch(i){n.e(i)}finally{n.f()}}),(function(t){var r;r=t.error.constructor==Array?t.error[0].errorMessage:t.error.Message,e.alertService.showMessage(e.pageTitle,r,S.d.error)}))}},{key:"assignRole",value:function(){var e=this;if("0"!=this.selectedUserId)if(this.selectedRoles.length>0){var t,r=[],n=_createForOfIteratorHelper(this.selectedRoles);try{for(n.s();!(t=n.n()).done;){var s=t.value,a=new H;a.userId=this.selectedUserId,a.userRoleId=s.id,r.push(a)}}catch(i){n.e(i)}finally{n.f()}this.userRoleService.assignRoleToUser(r).subscribe((function(t){e.alertService.showMessage(e.pageTitle,"Roles assigned successfully",S.d.success),e.selectedUserId="0",e.selectedRoles=[]}),(function(t){var r;r=t.error.constructor==Array?t.error[0].errorMessage:t.error.Message,e.alertService.showMessage(e.pageTitle,r,S.d.error)}))}else this.alertService.showMessage("User Role Mapping","Atleast one role needs to be assigned",S.d.error);else this.alertService.showMessage("User Role Mapping","Please select User Name",S.d.error)}}]),e}();T.ctorParameters=function(){return[{type:L.MessageService},{type:M.a},{type:S.b},{type:A.a}]},T=n.b([Object(s.Component)({selector:"app-roles-mapping",template:n.c(r("B7lA")).default,animations:[g.a]})],T);var B=function(){function e(t,r,n,s){_classCallCheck(this,e),this.messageService=t,this.authService=r,this.alertService=n,this.userRoleService=s,this.sortedHierarchy=[],this.selectedHierarchy=[],this.userRoles=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getAllModuleHierarchies(),this.getAllUserRoles(),this.currentUserRole=new P,this.currentUserRole.rolePermissions=[],this.pages=[],this.currentUserRole.id=0}},{key:"getAllModuleHierarchies",value:function(){var e=this;this.userRoleService.getAllModuleHierarchies().subscribe((function(t){e.moduleHierarchy=t[0],e.sortModules()}))}},{key:"sortModules",value:function(){this.sortedHierarchy=[];var e=this.moduleHierarchy.filter((function(e){return null==e.parentId}));if(null!=e&&e.length>0){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;n.level=0,n.visible=!0,n.rolePermission=new N,n.rolePermission.canAdd=!1,n.rolePermission.canView=!1,n.rolePermission.canDelete=!1,n.rolePermission.canUpdate=!1,this.sortedHierarchy.push(n),this.hasChild(n)}}catch(s){r.e(s)}finally{r.f()}}}},{key:"hasChild",value:function(e){var t=this.moduleHierarchy.filter((function(t){return t.parentId==e.id}));if(null!=t&&t.length>0){e.hasChildren=!0;var r,n=_createForOfIteratorHelper(t);try{for(n.s();!(r=n.n()).done;){var s=r.value;s.level=e.level+1,s.visible=!0,s.parentId=e.id,s.rolePermission=new N,this.resetRolePermission(s.rolePermission),this.sortedHierarchy.push(s),this.hasChild(s)}}catch(a){n.e(a)}finally{n.f()}}}},{key:"resetRolePermission",value:function(e){e.canAdd=!1,e.canView=!1,e.canDelete=!1,e.canUpdate=!1}},{key:"showChildModules",value:function(e,t){if(!e.isPage){var r=!1,n="td"==t.target.localName?t.target.children[0]:t.target;n.classList.contains("fa-caret-down")?(n.classList.remove("fa-caret-down"),n.classList.add("fa-caret-right"),r=!0):(n.classList.remove("fa-caret-right"),n.classList.add("fa-caret-down")),r?this.sortedHierarchy.filter((function(t){return t.parentId==e.id})).forEach((function(e){e.visible=r})):(this.pagesToHide=[],this.loadAllChildModule(e.id),this.pagesToHide.forEach((function(e){e.visible=r})))}}},{key:"getAllUserRoles",value:function(){var e=this;return this.userRoleService.getAllUserRole().subscribe((function(t){e.userRoles=t[0]}))}},{key:"userRoleChanged",value:function(e){var t=this;if(this.sortModules(),this.currentUserRole.rolePermissions=[],0!=this.currentUserRole.id){var r=this.currentUserRole.id,n=this.userRoles.filter((function(e){return e.id==r}))[0];this.currentUserRole.name=n.name;var s,a=_createForOfIteratorHelper(this.sortedHierarchy);try{var i=function(){var e=s.value,r=n.rolePermissions.filter((function(t){return t.moduleHierarchyMasterId==e.id}));null!=r&&r.length>0?(e.rolePermission.canAdd=r[0].canAdd,e.rolePermission.canUpdate=r[0].canUpdate,e.rolePermission.canDelete=r[0].canDelete,e.rolePermission.canView=r[0].canView,r[0].id=0,t.currentUserRole.rolePermissions.push(Object.assign({},r[0]))):(e.rolePermission.canAdd=!1,e.rolePermission.canUpdate=!1,e.rolePermission.canDelete=!1,e.rolePermission.canView=!1)};for(a.s();!(s=a.n()).done;)i()}catch(l){a.e(l)}finally{a.f()}}}},{key:"setPermissionByType",value:function(e,t,r){"canView"==t&&(e.rolePermission.canView=r),"canAdd"==t&&(e.rolePermission.canAdd=r),"canUpdate"==t&&(e.rolePermission.canUpdate=r),"canDelete"==t&&(e.rolePermission.canDelete=r)}},{key:"uncheckAllParentModule",value:function(e,t){var r=this.sortedHierarchy.filter((function(t){return t.id==e&&0==t.isPage}))[0];this.setPermissionByType(r,t,!1),null!=r.parentId&&this.uncheckAllParentModule(r.parentId,t)}},{key:"loadAllChildModule",value:function(e){var t,r=_createForOfIteratorHelper(this.sortedHierarchy.filter((function(t){return t.parentId==e})));try{for(r.s();!(t=r.n()).done;){var n=t.value;this.pagesToHide.push(n),null==n.parentId||n.isPage||this.loadAllChildModule(n.id)}}catch(s){r.e(s)}finally{r.f()}}},{key:"permissionChecked",value:function(e,t,r){var n=e.target.checked;if(0==n&&(this.setPermissionByType(t,r,n),null!=t.parentId&&this.uncheckAllParentModule(t.parentId,r)),t.isPage)this.setPermissionByType(t,r,n),this.setModuleHierarchyPermission(t);else{this.setPermissionByType(t,r,n),this.pages=[],this.hasPages(t,r,n);var s,a=_createForOfIteratorHelper(this.pages);try{for(a.s();!(s=a.n()).done;){var i=s.value;this.setModuleHierarchyPermission(i)}}catch(l){a.e(l)}finally{a.f()}}console.log(this.currentUserRole.rolePermissions)}},{key:"setModuleHierarchyPermission",value:function(e){var t=this.currentUserRole.rolePermissions.filter((function(t){return t.moduleHierarchyMasterId==e.id}))[0];if(null!=t){(n=Object.assign({},e.rolePermission)).moduleHierarchyMasterId=e.id;var r=this.currentUserRole.rolePermissions.indexOf(t);this.updatePermission(this.currentUserRole.rolePermissions[r],e.rolePermission)}else{var n;(n=Object.assign({},e.rolePermission)).userRoleId=this.currentUserRole.id,n.moduleHierarchyMasterId=e.id,n.id=0,this.currentUserRole.rolePermissions.push(n)}}},{key:"updatePermission",value:function(e,t){e.canView=t.canView,e.canAdd=t.canAdd,e.canUpdate=t.canUpdate,e.canDelete=t.canDelete}},{key:"hasPages",value:function(e,t,r){var n=this.sortedHierarchy.filter((function(t){return t.parentId==e.id}));if(null!=n&&n.length>0){var s,a=_createForOfIteratorHelper(n);try{for(a.s();!(s=a.n()).done;){var i=s.value;this.setPermissionByType(i,t,r),i.isPage&&this.pages.push(i),this.hasPages(i,t,r)}}catch(l){a.e(l)}finally{a.f()}}}},{key:"UpdateUserRole",value:function(){var e=this;this.userRoleService.update(this.currentUserRole).subscribe((function(t){e.alertService.showMessage("User Role",e.currentUserRole.name+" Role updated successfully.",S.d.success);var r,n=_createForOfIteratorHelper(e.sortedHierarchy);try{for(n.s();!(r=n.n()).done;){var s=r.value;e.resetRolePermission(s.rolePermission)}}catch(a){n.e(a)}finally{n.f()}e.currentUserRole=new P,e.currentUserRole.id=0,e.currentUserRole.rolePermissions=[],e.pages=[],e.userRoleService.getAllUserRole().subscribe((function(t){e.userRoles=t[0]}))}),(function(t){var r;r=t.error.constructor==Array?t.error[0].errorMessage:t.error.Message,e.alertService.showMessage("User Role",r,S.d.error)}))}}]),e}();B.ctorParameters=function(){return[{type:L.MessageService},{type:M.a},{type:S.b},{type:A.a}]};var E=[{path:"rolespages",component:c,children:[{path:"app-roles-list",component:u,data:{title:"Roles List"}},{path:"app-roles-list-by-module",component:h,data:{title:"Roles List By Module"}},{path:"app-roles-setup",component:V,data:{title:"Roles Setup"}},{path:"edit-app-roles",component:B=n.b([Object(s.Component)({selector:"edit-app-roles",template:n.c(r("K+Zu")).default,animations:[g.a]})],B),data:{title:"Edit Roles"}},{path:"app-roles-management-structure",component:U,data:{title:"Roles Management Structure"}},{path:"app-roles-mapping",component:T,data:{title:"User Role Management"}}]}],F=function e(){_classCallCheck(this,e)};F=n.b([Object(s.NgModule)({imports:[d.RouterModule.forChild(E)],exports:[d.RouterModule],providers:[M.a,D.a]})],F);var O=r("pjuo"),_=r("Ph3x"),W=function(){function e(t,r,n,s,a,i,l,o,d,c){_classCallCheck(this,e),this.itemMasterService=t,this.employeeService=r,this.messageService=n,this.authService=s,this._fb=a,this.alertService=i,this.modalService=l,this.activeModal=o,this.dialog=d,this.masterComapnyService=c,this.allRolesInfoByRoleId=[],this.selectedRoles=[],this.tagNameCollection=[],this.modelValue=!1,this.display=!1,this.showicon=!1,this.treeindex=1,this.header=!0,this.headerofMS="",this.childCollection=[],this.sourceLegalEntity={},this.allComapnies=[],this.allATAMaininfo=[],this.isEditMode=!1,this.sourceAction=[],this.GeneralInformationValue=!0,this.LockboxValue=!1,this.domesticWireValue=!1,this.internationalValue=!1,this.GeneralInformationStyle=!0,this.LockboxStyle=!1,this.domesticWireStyle=!1,this.internationalStyle=!1,this.allWorkFlows=[],this.dataSource=new p.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadManagementdata()}},{key:"SetViewValue",value:function(e,t){if(t.node)for(var r=this.updateChildValue([t.node],e,t.node.data[e]),n=0;n<r.length;n++){for(var s=r[n],a=!1,i=0;i<this.selectedRoles.length;i++)this.selectedRoles[i].uiRoleEntityId==s.uiRoleEntityId&&(this.selectedRoles[i]=s,a=!0);a||this.selectedRoles.push(s)}else for(var l=this.updateChildValue([t],e,t.data[e]),o=0;o<l.length;o++){for(var d=l[o],c=!1,u=0;u<this.selectedRoles.length;u++)this.selectedRoles[u].uiRoleEntityId==d.uiRoleEntityId&&(this.selectedRoles[u]=d,c=!0);c||this.selectedRoles.push(d)}console.log(this.selectedRoles)}},{key:"updateChildValue",value:function(e,t,r){for(var n=[],s=0;s<e.length;s++)e[s].data&&(e[s].data[t]=r,n.push(e[s].data)),e[s].children&&(n=n.concat(this.updateChildValue(e[s].children,t,r)));return n}},{key:"ngAfterViewInit",value:function(){}},{key:"contextMenu",value:function(e,t){e&&t.hide()}},{key:"loadMasterCompanies",value:function(){var e=this;this.alertService.startLoadingMessage(),this.loadingIndicator=!0,this.masterComapnyService.getMasterCompanies().subscribe((function(t){return e.onDataMasterCompaniesLoadSuccessful(t[0])}),(function(t){return e.onDataLoadFailed(t)}))}},{key:"expandAll",value:function(e){this.gridData.map((function(t){t.expanded=e}))}},{key:"loadManagementdata",value:function(){var e=this;this.alertService.startLoadingMessage(),this.loadingIndicator=!0,this.employeeService.getRolesSetupData().subscribe((function(t){return e.onManagemtntdataLoad(t[0])}),(function(t){return e.onDataLoadFailed(t)})),this.employeeService.getUserRolelevel().subscribe((function(t){return e.onUserLevelRolelist(t[0])}),(function(t){return e.onDataLoadFailed(t)})),this.cols=[{field:"code",header:"Code"},{field:"description",header:"Description"},{field:"createdBy",header:"Created By"},{field:"updatedBy",header:"Updated By"},{field:"updatedDate",header:"Updated Date"},{field:"createdDate",header:"createdDate"}],this.selectedColumns=this.cols}},{key:"nodeSelect",value:function(e){this.messageService.add({severity:"info",summary:"Node Selected",detail:e.node.data.name})}},{key:"nodeUnselect",value:function(e){this.messageService.add({severity:"info",summary:"Node Unselected",detail:e.node.data.name})}},{key:"onManagemtntdataLoad",value:function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,this.dataSource.data=e,this.allManagemtninfo=e;for(var t=0;t<this.allManagemtninfo.length;t++)null!=this.allManagemtninfo[t].tagName&&this.tagNameCollection.push(this.allManagemtninfo[t]);this.allManagemtninfo&&(this.gridData=this.makeNestedObj(this.allManagemtninfo,null)),this.cols1=[{field:"entityName",header:"Entity Name"},{field:"moduleName",header:"Module Name"},{field:"screenName",header:"Screen Name"},{field:"fieldName",header:"Field Name"}]}},{key:"onUserLevelRolelist",value:function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,this.allUserRoleLevelList=e}},{key:"openDelete",value:function(e,t){this.isEditMode=!1,this.isDeleteMode=!0,this.sourceAction=t,this.modal=this.modalService.open(e,{size:"sm"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"deleteItemAndCloseModel",value:function(){}},{key:"makeNestedObj",value:function(e,t){var r=[];for(var n in e)if(e[n].parentId==t){var s=this.makeNestedObj(e,e[n].uiRoleEntityId);e[n]={data:e[n]},s.length&&(e[n].children=s),r.push(e[n])}return r}},{key:"GeneralInformation",value:function(){this.GeneralInformationValue=!0,this.LockboxValue=!1,this.domesticWireValue=!1,this.internationalValue=!1,this.ACHValue=!1,this.GeneralInformationStyle=!0,this.LockboxStyle=!1,this.domesticWireStyle=!1,this.internationalStyle=!1,this.ACHStyle=!1}},{key:"Lockbox",value:function(){this.GeneralInformationValue=!1,this.LockboxValue=!0,this.domesticWireValue=!1,this.internationalValue=!1,this.ACHValue=!1,this.GeneralInformationStyle=!1,this.LockboxStyle=!0,this.domesticWireStyle=!1,this.internationalStyle=!1,this.ACHStyle=!1}},{key:"DomesticWire",value:function(){this.GeneralInformationValue=!1,this.LockboxValue=!1,this.domesticWireValue=!0,this.internationalValue=!1,this.ACHValue=!1,this.GeneralInformationStyle=!1,this.LockboxStyle=!1,this.domesticWireStyle=!0,this.internationalStyle=!1,this.ACHStyle=!1}},{key:"InternationalWire",value:function(){this.GeneralInformationValue=!1,this.LockboxValue=!1,this.domesticWireValue=!1,this.internationalValue=!0,this.ACHValue=!1,this.GeneralInformationStyle=!1,this.LockboxStyle=!1,this.domesticWireStyle=!1,this.internationalStyle=!0,this.ACHStyle=!1}},{key:"ACH",value:function(){this.GeneralInformationValue=!1,this.LockboxValue=!1,this.domesticWireValue=!1,this.internationalValue=!1,this.ACHValue=!0,this.GeneralInformationStyle=!1,this.LockboxStyle=!1,this.domesticWireStyle=!1,this.internationalStyle=!1,this.ACHStyle=!0}},{key:"showDomesticWire",value:function(){this.DomesticWire()}},{key:"openContentEdit",value:function(e,t){1==t.isLastChild&&(this.sourceLegalEntity.isAssignable=!0),this.sourceLegalEntity=t,this.modal1=this.modalService.open(e,{size:"sm"}),this.modal1.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"open",value:function(e){this.headerofMS="Add Root Entity",this.sourceLegalEntity={},this.isEditMode=!1,this.isDeleteMode=!1,this.isSaving=!0,this.loadMasterCompanies(),this.sourceLegalEntity.isActive=!0,this.entityName="",this.modal=this.modalService.open(e,{size:"sm"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"onDataMasterCompaniesLoadSuccessful",value:function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1,this.allComapnies=e}},{key:"onDataLoadFailed",value:function(e){this.alertService.stopLoadingMessage(),this.loadingIndicator=!1}},{key:"getRolesyuserRolelevelId",value:function(e){var t=this;this.itemMasterService.getRolesDataByUserId(e).subscribe((function(e){return t.onRolesLoadSuccessfull(e[0])}),(function(e){return t.onDataLoadFailed(e)}))}},{key:"onRolesLoadSuccessfull",value:function(e){if(this.selectedRoles=[],this.allRolesInfoByRoleId=e,this.allRolesInfoByRoleId.length>0)for(var t=0;t<this.allManagemtninfo.length;t++)for(var r=0;r<this.allRolesInfoByRoleId.length;r++)if(this.allManagemtninfo[t].data.uiRoleEntityId==this.allRolesInfoByRoleId[r].uiRoleEntityId){if(console.log(this.allRolesInfoByRoleId[r]),"Add"==this.allRolesInfoByRoleId[r].permittedEditActionDescription){this.allManagemtninfo[t].data.isAdd=!0;this.allManagemtninfo[t].data.userRoleLevelId=this.allRolesInfoByRoleId[r].userRoleLevelId,this.SetViewValue("isAdd",this.allManagemtninfo[t])}if("View"==this.allRolesInfoByRoleId[r].permittedEditActionDescription){this.allManagemtninfo[t].data.isViewed=!0;this.allManagemtninfo[t].data.userRoleLevelId=this.allRolesInfoByRoleId[r].userRoleLevelId,this.SetViewValue("isViewed",this.allManagemtninfo[t])}if("Update"==this.allRolesInfoByRoleId[r].permittedEditActionDescription){this.allManagemtninfo[t].data.isUpdate=!0;this.allManagemtninfo[t].data.userRoleLevelId=this.allRolesInfoByRoleId[r].userRoleLevelId,this.SetViewValue("isUpdate",this.allManagemtninfo[t])}if("Delete"==this.allRolesInfoByRoleId[r].permittedEditActionDescription){this.allManagemtninfo[t].data.isDelete=!0;this.allManagemtninfo[t].data.userRoleLevelId=this.allRolesInfoByRoleId[r].userRoleLevelId,this.SetViewValue("isDelete",this.allManagemtninfo[t])}}}},{key:"editItemAndCloseModel",value:function(){for(var e=0;e<this.selectedRoles.length;e++)this.selectedRoles[e].createdBy=this.userName,this.selectedRoles[e].updatedBy=this.userName,this.selectedRoles[e].userRoleLevelId=this.userRolelevelId,this.selectedRoles[e].masterCompanyId=1,this.employeeService.AddRolesData(this.selectedRoles[e]).subscribe((function(e){}));this.saveSuccessHelper(this.selectedRoles[0])}},{key:"saveSuccessHelper",value:function(e){this.isSaving=!1,this.alertService.showMessage("Success","Action was created successfully",S.d.success)}},{key:"saveCompleted",value:function(e){this.isSaving=!1,1==this.isDeleteMode?(this.alertService.showMessage("Success","Action was deleted successfully",S.d.success),this.isDeleteMode=!1):this.alertService.showMessage("Success","Action was edited successfully",S.d.success)}},{key:"saveFailedHelper",value:function(e){this.isSaving=!1,this.alertService.stopLoadingMessage(),this.alertService.showStickyMessage("Save Error","The below errors occured whilst saving your changes:",S.d.error,e),this.alertService.showStickyMessage(e,null,S.d.error)}},{key:"dismissModel",value:function(){this.modal&&this.modal.close(),this.modal1&&this.modal1.close()}},{key:"onNodeExpand",value:function(e){null==e.node.parent&&(this.treeindex,this.treeindex++,4==this.treeindex&&(this.showicon=!0,alert(this.showicon)))}},{key:"openEdit",value:function(e,t){this.headerofMS=t.code,this.sourceLegalEntity={},this.isSaving=!0,this.loadMasterCompanies(),this.sourceLegalEntity.parentId=t.managementStructureId,this.loadMasterCompanies(),this.modal=this.modalService.open(e,{size:"sm"}),this.modal.result.then((function(){console.log("When user closes")}),(function(){console.log("Backdrop click")}))}},{key:"userName",get:function(){return this.authService.currentUser?this.authService.currentUser.userName:""}}]),e}();W.ctorParameters=function(){return[{type:_.a},{type:O.a},{type:L.MessageService},{type:M.a},{type:i.FormBuilder},{type:S.b},{type:R.c},{type:R.b},{type:m.b},{type:y.a}]},W=n.b([Object(s.Component)({selector:"app-roles-setup",template:n.c(r("qxN5")).default,animations:[g.a],styles:[n.c(r("zgjS")).default]})],W);var j=r("SVse"),G=r("8YFm"),z=r("MCl+"),$=r("CYTX"),J=r("bv+N"),K=r("Jfay"),Y=r("I0ai"),q=r("3/N/"),Z=r("sa3O"),Q=r("ByPc"),X=r("NGzr"),ee=r("FfGd"),te=r("ldMm"),re=r("wB/n"),ne=r("gxFD");r.d(t,"RolesPagesModule",(function(){return se}));var se=function e(){_classCallCheck(this,e)};se=n.b([Object(s.NgModule)({imports:[a.a,i.FormsModule,i.ReactiveFormsModule,o.a,l.b,j.CommonModule,G.TableModule,z.ButtonModule,$.SelectButtonModule,J.InputTextModule,K.MultiSelectModule,F,Y.InputSwitchModule,q.CheckboxModule,Z.AutoCompleteModule,Q.GMapModule,ee.RadioButtonModule,X.FileUploadModule,te.TreeTableModule,re.TreeModule],declarations:[c,u,h,W,U,V,T,B],providers:[ne.a,A.a],entryComponents:[]})],se)},IsWz:function(e,t,r){"use strict";r.r(t),t.default='<div [@fadeInOut] class="page-content">\r\n\t<div class="right_col" role="main">\r\n\t\t<div class="x_panel">\r\n\t\t\t<div class="x_content">\r\n\r\n\t\t\t\t<h4 class="page-heading clr-green">Role to Management Structure Linking</h4>\r\n\t\t\t\t<span class="help-icon" data-original-title="Help" data-toggle="tooltip"><i class="fa fa-info" data-toggle="modal" data-target="#help-popup"></i></span>\r\n\t\t\t\t<p-table #dt [value]="allRoles" [rows]="20" [paginator]="true" [metaKeySelection]="true" [pageLinks]="3" [rowsPerPageOptions]="[20,50,100]" [columns]="selectedColumns" selectionMode="multiple" [resizableColumns]="true" [reorderableColumns]="true">\r\n\t\t\t\t\t<ng-template pTemplate="caption">\r\n\t\t\t\t\t\t<div style="text-align: right">\r\n\t\t\t\t\t\t\t<p-multiSelect [options]="cols" [(ngModel)]="selectedColumns" optionLabel="header"\r\n\t\t\t\t\t\t\t\t\t\t   selectedItemsLabel="{0} columns selected" [style]="{minWidth: \'200px\'}" defaultLabel="Choose Columns" style="float:left"></p-multiSelect>\r\n\t\t\t\t\t\t\t\x3c!--Filter Global Search do--\x3e\r\n\t\t\t\t\t\t\t<div class="inner-addon right-addon w200 inline-block">\r\n\t\t\t\t\t\t\t\t<i class="fa fa-search"></i>\r\n\t\t\t\t\t\t\t\t<input type="text" pInputText size="50" class="form-control ui-autocomplete-input" (input)="dt.filterGlobal($event.target.value, \'contains\')" placeholder=" Filter">\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<a (click)="open(contentEdit)" matTooltip="Add Action" class="btn btn-success nobg"><span><i class="fa fa-plus"></i></span></a>\r\n\r\n\t\t\t\t\t\t\t\x3c!--<app-company></app-company>--\x3e\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</ng-template>\r\n\r\n\t\t\t\t\t<ng-template pTemplate="header" let-columns>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th *ngFor="let col of columns" pResizableColumn pReorderableColumn [pSortableColumn]="col.field">\r\n\t\t\t\t\t\t\t\t{{col.header}}\r\n\t\t\t\t\t\t\t\t<p-sortIcon [field]="col.field"></p-sortIcon>\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t<th></th>\r\n\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</ng-template>\r\n\r\n\t\t\t\t\t<ng-template pTemplate="body" let-rowData let-columns="columns">\r\n\t\t\t\t\t\t<tr [pSelectableRow]="rowData">\r\n\r\n\t\t\t\t\t\t\t<td *ngFor="let col of columns" [ngSwitch]="col.field" class="ui-resizable-column" pReorderableRowHandle>\r\n\t\t\t\t\t\t\t\t{{col.field == \'createdDate\'?  (rowData[col.field] | date: \'MM/dd/yyyy h:mm:ss a\'):rowData[col.field] && col.field == \'updatedDate\'?  (rowData[col.field] | date: \'MM/dd/yyyy h:mm:ss a\'):rowData[col.field]}}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<p-inputSwitch *ngIf="rowData[\'isActive\']==true" matTooltip="Active" onLabel="on" offLabel="off" (onChange)="handleChange(rowData,$event)" [(ngModel)]="rowData[\'isActive\']"></p-inputSwitch>\r\n\t\t\t\t\t\t\t\t<p-inputSwitch *ngIf="rowData[\'isActive\']==false" matTooltip="In Active" onLabel="on" offLabel="off" (onChange)="handleChange(rowData,$event)" [(ngModel)]="rowData[\'isActive\']"></p-inputSwitch>\r\n\t\t\t\t\t\t\t\t<p-inputSwitch *ngIf="rowData[\'isActive\']==null" matTooltip="In Active" onLabel="on" offLabel="off" (onChange)="handleChange(rowData,$event)" [(ngModel)]="rowData[\'isActive\']"></p-inputSwitch>\r\n\r\n\t\t\t\t\t\t\t\t<span data-toggle="modal" data-target="#view"> <a class="btn btn-info boxed-float-btn nobg" data-toggle="tooltip" (click)="openView(view,rowData)" title="View"><i class="fa fa-eye"></i></a> </span>\r\n\r\n\t\t\t\t\t\t\t\t<button class="btn-edit" mat-icon-button (click)="openEdit(contentEdit,rowData)" matTooltip="Edit">\r\n\t\t\t\t\t\t\t\t\t<mat-icon>edit</mat-icon>\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t<button class="btn-delete" mat-icon-button matTooltip="Delete" (click)="openDelete(content,rowData)">\r\n\t\t\t\t\t\t\t\t\t<mat-icon color="warn">delete</mat-icon>\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t<button class="btn-history" mat-icon-button matTooltip="History">\r\n\t\t\t\t\t\t\t\t\t<mat-icon color="green">history</mat-icon>\r\n\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t</ng-template>\r\n\t\t\t\t</p-table>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<ng-template #contentEdit let-c="close" let-d="dismiss" style="width:auto" data-backdrop="static">\r\n\t<div class="modal-header">\r\n\t\t<h4 class="modal-title" *ngIf="isEditMode">Edit Management Structure</h4>\r\n\t\t<h4 class="modal-title" *ngIf="!isEditMode">Add Management Structure</h4>\r\n\t\t<button type="button" class="close" aria-label="Close" (click)="dismissModel()">\r\n\t\t\t<span aria-hidden="true">&times;</span>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<div class="modal-body">\r\n\t\t<form #userForm="ngForm" class="form-horizontal" (ngSubmit)="editItemAndCloseModel()">\r\n\t\t\t<div class="row">\r\n\r\n\t\t\t\t<div class="col-6">\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label for="actionname" class="control-label">Role Name<span class="clr-red">*</span></label>\r\n\t\t\t\t\t\t<p-autoComplete (onSelect)="partnmId($event)" [(ngModel)]="description" [ngModelOptions]="{standalone: true}" (onKeyUp)=eventHandler($event) [suggestions]="localCollection" [size]="30"\r\n\t\t\t\t\t\t\t\t\t\t[minLength]="2" [dropdown]="true">\r\n\t\t\t\t\t\t</p-autoComplete>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="form-group">\r\n\t\t\t\t\t\t<label for="" class="control-label">Memo</label>\r\n\t\t\t\t\t\t<div class="control-data">\r\n\t\t\t\t\t\t\t<input placeholder="Memo" minlength="2" required>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="clear"></div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class="col-6">\r\n\t\t\t\t\t<p-treeTable [value]="gridData" [columns]="cols1" [(selection)]="selectedNodeTest" selectionMode="checkbox">\r\n\t\t\t\t\t\t<ng-template pTemplate="header" let-columns>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th *ngFor="let col of columns">\r\n\t\t\t\t\t\t\t\t\t{{col.header}}\r\n\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template pTemplate="body" let-rowNode let-rowData="rowData" let-columns="columns">\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td *ngFor="let col of columns; let i = index">\r\n\t\t\t\t\t\t\t\t\t<p-treeTableToggler [rowNode]="rowNode" *ngIf="i == 0"></p-treeTableToggler>\r\n\t\t\t\t\t\t\t\t\t<p-treeTableCheckbox [value]="rowNode" *ngIf="i == 0"></p-treeTableCheckbox>\r\n\t\t\t\t\t\t\t\t\t{{rowData[col.field]}}\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template pTemplate="summary">\r\n\t\t\t\t\t\t\t<div style="text-align: left">\r\n\t\t\t\t\t\t\t\tSelected Nodes: <span *ngIf="!selectedNodeTest || selectedNodeTest.length === 0" style="font-weight: normal">none</span>\r\n\t\t\t\t\t\t\t\t<ul *ngIf="selectedNodeTest && selectedNodeTest.length">\r\n\t\t\t\t\t\t\t\t\t<li *ngFor="let node of selectedNodeTest">\r\n\t\t\t\t\t\t\t\t\t\t<span style="font-weight: normal">{{\'Management Id:\'+node.managementStructureId }}</span>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</p-treeTable>\r\n\t\t\t\t\t\x3c!-- Check box Management Date End --\x3e\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div class="modal-footer">\r\n\t\t\t\t<button class="btn btn-success" [disabled]="disableSave">Submit</button>\r\n\t\t\t\t<button type="button" class="btn btn-danger" (click)="dismissModel()">Close</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t</div>\r\n</ng-template>\r\n\x3c!-- Delete --\x3e\r\n<ng-template #content let-c="close" let-d="dismiss" data-backdrop="static">\r\n\t<div class="modal-header">\r\n\t\t<h4 class="modal-title">Are You Sure Want to Delete ?</h4>\r\n\t\t<button type="button" class="close" aria-label="Close" (click)="dismissModel()">\r\n\t\t\t<span aria-hidden="true">&times;</span>\r\n\t\t</button>\r\n\t</div>\r\n\r\n\t<div class="modal-footer">\r\n\t\t<button type="button" class="btn btn-success" (click)="deleteItemAndCloseModel()">Yes</button>\r\n\t\t<button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>\r\n\t</div>\r\n\r\n</ng-template>\r\n\x3c!-- History --\x3e\r\n<ng-template #contentHist let-c="close" let-d="dismiss" style="width:auto" data-backdrop="static">\r\n\t<div class="modal-header">\r\n\r\n\t\t<h4 class="modal-title">History of Role Management Structure</h4>\r\n\t\t<button type="button" class="close" aria-label="Close" (click)="dismissModel()">\r\n\t\t\t<span aria-hidden="true">&times;</span>\r\n\t\t</button>\r\n\r\n\r\n\t</div>\r\n\t<div class="modal-body">\r\n\r\n\t\t<table class="table table-bordered">\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th>userRoleLevelId</th>\r\n\t\t\t\t\t<th>Description</th>\r\n\t\t\t\t\t<th>Previous Value</th>\r\n\t\t\t\t\t<th>New Value</th>\r\n\t\t\t\t\t<th>Last Updated By</th>\r\n\t\t\t\t\t<th>Last Updated Time</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tr *ngFor="let audit of auditHisory">\r\n\t\t\t\t<td>{{audit.auditHistoryId}}</td>\r\n\t\t\t\t<td>{{audit.columnName}}</td>\r\n\t\t\t\t<td>{{audit.previousValue}}</td>\r\n\t\t\t\t<td>{{audit.newValue}}</td>\r\n\t\t\t\t<td>{{audit.updatedBy}}</td>\r\n\t\t\t\t<td>{{audit.updatedDate | date: \'MM/dd/yyyy h:mm:ss a\'}}</td>\r\n\t\t\t</tr>\r\n\t\t</table>\r\n\t</div>\r\n\t<div class="modal-footer">\r\n\t\t<button type="button" class="btn btn-danger" (click)="dismissModel()">Close</button>\r\n\t</div>\r\n</ng-template>\r\n\x3c!-- View --\x3e\r\n<ng-template #view class="modal fade " id="view" role="dialog" data-backdrop="static">\r\n\r\n\t<div class="modal-content">\r\n\t\t<div class="modal-header">\r\n\t\t\t<button type="button" class="close" (click)="dismissModel()" data-dismiss="modal" id="" name="">\xd7</button>\r\n\t\t\t<h4 class="modal-title">Role Management Structure Details</h4>\r\n\t\t</div>\r\n\t\t<div class="modal-body viewform">\r\n\t\t\t<div class="col-sm-6">\r\n\t\t\t\t<p><span class="label"><b> Description : </b></span><span class="value">{{description}}</span></p>\r\n\t\t\t\t<p><span class="label"><b>Memo: </b></span><span class="value"></span></p>\r\n\t\t\t\t<p><span class="label"><b>Created By: </b></span><span class="value">{{createdBy}}</span></p>\r\n\t\t\t\t<p><span class="label"><b>Created Date: </b></span><span class="value">{{createdDate | date: \'MM/dd/yyyy h:mm:ss a\'}}</span></p>\r\n\t\t\t\t<p><span class="label"><b>Updated By: </b></span><span class="value">{{updatedBy}}</span></p>\r\n\t\t\t\t<p><span class="label"><b>Updated Date: </b></span><span class="value">{{updatedDate | date: \'MM/dd/yyyy h:mm:ss a\'}}</span></p>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class="clear"></div>\r\n\t\t</div>\r\n\t\t<div class="modal-footer">\r\n\t\t\t<button type="button" class="btn btn-info" data-dismiss="modal" id="" name="" (click)="dismissModel()">Close</button>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</ng-template>\r\n'},JkqO:function(e,t,r){"use strict";r.r(t),t.default='<div style="border: 1px solid red">roles-list Component</div>\r\n\x3c!--<h1>Page will Done Soon</h1>--\x3e'},"K+Zu":function(e,t,r){"use strict";r.r(t),t.default='<style type="text/css">\r\n    .level1 td {\r\n        background-color: #7cb5d2;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level2 td {\r\n        background-color: #bc94b7;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level3 td {\r\n        background-color: #fde05e;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level4 td {\r\n        background-color: #f68e51;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level5 td {\r\n        background-color: #bcd74a;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level6 td {\r\n        background-color: #f8e0c8;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level1 {\r\n    }\r\n\r\n    .level2 td:first-child {\r\n        padding-left: 25px;\r\n    }\r\n\r\n    .level3 td:first-child {\r\n        padding-left: 50px;\r\n    }\r\n\r\n    .level4 td:first-child {\r\n        padding-left: 75px;\r\n    }\r\n\r\n    .level5 td:first-child {\r\n        padding-left: 100px;\r\n    }\r\n\r\n    .level6 td:first-child {\r\n        padding-left: 125px;\r\n    }\r\n\r\n    \r\n</style>\r\n<div>\r\n    <div class="col-md-12">\r\n        <div class="x_panel" style="">\r\n            <div class="x_content">\r\n                <nav aria-label="breadcrumb">\r\n                    <ol class="breadcrumb">\r\n                        <li class="breadcrumb-item" aria-current="page">Admin</li>\r\n                        <li class="breadcrumb-item" aria-current="page">Roles</li>\r\n                        <li class="breadcrumb-item active" aria-current="page">Edit Role</li>\r\n                    </ol>\r\n                </nav>\r\n                <div class="pheading">\r\n                    <h4 class="page-heading">Edit User Role</h4>\r\n                    \x3c!--<form id="" class="lgrey-bg div8 filters" name="" action="#" method="post" onsubmit="return false;">--\x3e\r\n                        <div class="col-sm-3 emp-filter">\r\n                            <label>Edit User Role</label>\r\n                            <br>\r\n                            <select [(ngModel)]="currentUserRole.id" (change)="userRoleChanged($event)">\r\n                                <option value="0">Select</option>\r\n                                <option *ngFor="let role of userRoles"  [value]="role.id">{{role.name}}</option>\r\n                            </select>\r\n                        </div>\r\n                        \r\n                    \x3c!--</form>--\x3e\r\n                </div>\r\n                <div class="clear"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-12 col-sm-12 col-xs-12 po-ro-setup">\r\n        <div class="x_panel">\r\n            <div class="tab-content">\r\n                <div id="" class="table-responsive default-bg clear">\r\n                    <table class="table table-bordered table-striped role-setup-table">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Modules</th>\r\n                                <th>View</th>\r\n                                <th>Add</th>\r\n                                <th>Delete</th>\r\n                                <th>Update</th>\r\n                                <th>Reports</th>\r\n                                <th>Excell Upload</th>\r\n                                <th>Download</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-container *ngFor="let module of sortedHierarchy;index as i">\r\n                                <tr class="level{{module.level}}" [hidden]="!module.visible">\r\n                                    <td (click)="showChildModules(module,$event)" style="cursor:pointer;">\r\n                                        {{module.name}}\r\n\r\n                                        <i  *ngIf="!module.isPage"  class="fa fa-caret-right"></i>\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type="checkbox" [checked]="module.rolePermission.canView == true" (change)="permissionChecked($event,module,\'canView\')"/>\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type="checkbox" [checked]="module.rolePermission.canAdd == true" (change)="permissionChecked($event,module,\'canAdd\')"  />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type="checkbox" [checked]="module.rolePermission.canDelete == true" (change)="permissionChecked($event,module,\'canDelete\')"  />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type="checkbox" [checked]="module.rolePermission.canUpdate == true" (change)="permissionChecked($event,module,\'canUpdate\')"  />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input *ngIf="!module.isPage" type="checkbox" />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input *ngIf="!module.isPage" type="checkbox" />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input *ngIf="!module.isPage" type="checkbox" />\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-container>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class="clear"></div>\r\n                    <div style="margin-top: 10px;"></div>\r\n                    <button class="btn btn-success pull-right" (click)="UpdateUserRole()">Save Changes</button>\r\n                    <div class="clear"></div>\r\n                    <br>\r\n                    <div class="padding5">\r\n                        <div class="pull-right"> \xa9 <span class="currentyear">2019</span> <a href="#">PAS</a> </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="clear"></div>\r\n            <br>\r\n            <br>\r\n            <br>\r\n            <br>\r\n        </div>\r\n    </div>\r\n</div>'},N6KH:function(e,t,r){"use strict";r.r(t),t.default=""},OjC9:function(e,t,r){"use strict";r.r(t),t.default=""},REh4:function(e,t,r){"use strict";r.r(t),t.default='<style type="text/css">\r\n    .level1 td {\r\n        background-color: #7cb5d2;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level2 td {\r\n        background-color: #bc94b7;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level3 td {\r\n        background-color: #fde05e;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level4 td {\r\n        background-color: #f68e51;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level5 td {\r\n        background-color: #bcd74a;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level6 td {\r\n        background-color: #f8e0c8;\r\n        padding-top: 3px !important;\r\n        padding-bottom: 3px !important;\r\n        font-weight: bold;\r\n    }\r\n\r\n    .level1 {\r\n    }\r\n\r\n    .level2 td:first-child {\r\n        padding-left: 25px;\r\n    }\r\n\r\n    .level3 td:first-child {\r\n        padding-left: 50px;\r\n    }\r\n\r\n    .level4 td:first-child {\r\n        padding-left: 75px;\r\n    }\r\n\r\n    .level5 td:first-child {\r\n        padding-left: 100px;\r\n    }\r\n\r\n    .level6 td:first-child {\r\n        padding-left: 125px;\r\n    }\r\n\r\n    \r\n</style>\r\n<div>\r\n    <div class="col-md-12">\r\n        <div class="x_panel" style="">\r\n            <div class="x_content">\r\n                <nav aria-label="breadcrumb">\r\n                    <ol class="breadcrumb">\r\n                        <li class="breadcrumb-item" aria-current="page">Admin</li>\r\n                        <li class="breadcrumb-item" aria-current="page">Roles</li>\r\n                        <li class="breadcrumb-item active" aria-current="page">Create Role</li>\r\n                    </ol>\r\n                </nav>\r\n                <div class="pheading">\r\n                    <h4 class="page-heading">Add New Role</h4>\r\n                    \x3c!--<form id="" class="lgrey-bg div8 filters" name="" action="#" method="post" onsubmit="return false;">--\x3e\r\n                        <div class="col-sm-3 emp-filter">\r\n                            <label>Role Name</label>\r\n                            <br>\r\n                            <input type="text" [(ngModel)]="currentUserRole.name" class="form-control">\r\n                        </div>\r\n                        <div class="col-sm-3 emp-filter">\r\n                            <label>Memo</label>\r\n                            <br>\r\n                            <input type="text" [(ngModel)]="currentUserRole.memo" class="form-control">\r\n                        </div>\r\n                    \x3c!--</form>--\x3e\r\n                </div>\r\n                <div class="clear"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-12 col-sm-12 col-xs-12 po-ro-setup">\r\n        <div class="x_panel">\r\n            <div class="tab-content">\r\n                <div id="" class="table-responsive default-bg clear">\r\n                    <table class="table table-bordered table-striped role-setup-table">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Modules</th>\r\n                                <th>View</th>\r\n                                <th>Add</th>\r\n                                <th>Delete</th>\r\n                                <th>Update</th>\r\n                                <th>Reports</th>\r\n                                <th>Excell Upload</th>\r\n                                <th>Download</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <ng-container *ngFor="let module of sortedHierarchy;index as i">\r\n                                <tr class="level{{module.level}}" [hidden]="!module.visible">\r\n                                    <td (click)="showChildModules(module,$event)" style="cursor:pointer;">\r\n                                        {{module.name}}\r\n\r\n                                        <i  *ngIf="!module.isPage"  class="fa fa-caret-down"></i>\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type="checkbox" [checked]="module.rolePermission.canView == true" (change)="permissionChecked($event,module,\'canView\')"/>\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type="checkbox" [checked]="module.rolePermission.canAdd == true" (change)="permissionChecked($event,module,\'canAdd\')"  />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type="checkbox" [checked]="module.rolePermission.canDelete == true" (change)="permissionChecked($event,module,\'canDelete\')"  />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input type="checkbox" [checked]="module.rolePermission.canUpdate == true" (change)="permissionChecked($event,module,\'canUpdate\')"  />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input *ngIf="!module.isPage" type="checkbox" />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input *ngIf="!module.isPage" type="checkbox" />\r\n                                    </td>\r\n                                    <td>\r\n                                        <input *ngIf="!module.isPage" type="checkbox" />\r\n                                    </td>\r\n                                </tr>\r\n                            </ng-container>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class="clear"></div>\r\n                    <div style="margin-top: 10px;"></div>\r\n                    <button class="btn btn-success pull-right" (click)="addUserRole()">Add Role Details</button>\r\n                    <div class="clear"></div>\r\n                    <br>\r\n                    <div class="padding5">\r\n                        <div class="pull-right"> \xa9 <span class="currentyear">2019</span> <a href="#">PAS</a> </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="clear"></div>\r\n            <br>\r\n            <br>\r\n            <br>\r\n            <br>\r\n        </div>\r\n    </div>\r\n</div>'},bTWo:function(e,t,r){"use strict";r.r(t),t.default=""},nsGu:function(e,t,r){"use strict";r.r(t),t.default=""},qxN5:function(e,t,r){"use strict";r.r(t),t.default='<div [@fadeInOut] class="page-content">\r\n\r\n\t<div class="right_col" role="main">\r\n\t\t<div class="x_panel">\r\n\t\t\t<div class="x_content">\r\n\t\t\t\t<div style="text-align:center">\r\n\t\t\t\t\t<h4 class="page-heading clr-green">Roles Structure</h4>\r\n\r\n\r\n\t\t\t\t\t\x3c!--<a (click)="open(contentEdit)" matTooltip="Add Root Entity" class="btn btn-success nobg"><span><i class="fa fa-plus"></i></span></a>--\x3e\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr />\r\n\t\t\t\t\x3c!--<p-toast [style]="{marginTop: \'80px\'}"></p-toast>--\x3e\r\n\t\t\t\t\x3c!--<button (click)="expandAll($event)">Toggle</button>--\x3e\r\n\t\t\t\t<div>\r\n\t\t\t\t<select [(ngModel)]="userRolelevelId" (change)="getRolesyuserRolelevelId(userRolelevelId)">\r\n\t\t\t\t\t<option *ngFor="let pow of allUserRoleLevelList" [value]="pow.userRoleLevelId">{{pow.description}}</option>\r\n\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p-treeTable [value]="gridData" [columns]="cols1" selectionMode="checkbox" [(selection)]="selectedNode">\r\n\r\n\t\t\t\t\t\t<ng-template pTemplate="header" let-columns>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Entity Name</th>\r\n\t\t\t\t\t\t\t\t<th>Screen Name</th>\r\n\t\t\t\t\t\t\t\t<th>Field Name</th>\r\n\t\t\t\t\t\t\t\t<th>View</th>\r\n\t\t\t\t\t\t\t\t<th>Add</th>\r\n\t\t\t\t\t\t\t\t<th>Delete</th>\r\n\t\t\t\t\t\t\t\t<th>Update</th>\r\n\t\t\t\t\t\t\t\t<th>No Access</th>\r\n\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t\t<ng-template pTemplate="body" let-rowNode let-rowNode1 let-rowData="rowData" let-columns="columns">\r\n\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<p-treeTableToggler [rowNode]="rowNode"></p-treeTableToggler>\r\n\t\t\t\t\t\t\t\t\t<div *ngIf="rowData.screenName==null || !rowData.screenName ">\r\n\t\t\t\t\t\t\t\t\t\t{{rowData.entityName}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<div *ngIf="rowData.fieldName==null || !rowData.fieldName ">\r\n\t\t\t\t\t\t\t\t\t\t{{rowData.screenName}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>{{rowData.fieldName}}</td>\r\n\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<input type="checkbox" value="4" [(ngModel)]="rowData.isViewed" (change)="SetViewValue(\'isViewed\',rowNode)" />\r\n\t\t\t\t\t\t\t\t\t\x3c!--<p-treeTableCheckbox [value]="rowNode"  (click)="SetViewValue(selectedNode,rowData,\'View\')"></p-treeTableCheckbox>--\x3e\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<input type="checkbox" value="4" [(ngModel)]="rowData.isAdd" (change)="SetViewValue(\'isAdd\',rowNode)" />\r\n\t\t\t\t\t\t\t\t\t\x3c!--<p-treeTableCheckbox [value]="rowNode1" (click)="SetViewValue(selectedNode,rowData,\'Add\')"></p-treeTableCheckbox>--\x3e\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<input type="checkbox" value="4" [(ngModel)]="rowData.isDelete" (change)="SetViewValue(\'isDelete\',rowNode)" />\r\n\t\t\t\t\t\t\t\t\t\x3c!--<p-treeTableCheckbox [value]="rowNode" (click)="SetViewValue(selectedNode,rowData,\'Delete\')"></p-treeTableCheckbox>--\x3e\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<input type="checkbox" value="4" [(ngModel)]="rowData.isUpdate" (change)="SetViewValue(\'isUpdate\',rowNode)" />\r\n\r\n\t\t\t\t\t\t\t\t\t\x3c!--<p-treeTableCheckbox [value]="rowNode" (click)="SetViewValue(selectedNode,rowData,\'Update\')"></p-treeTableCheckbox>--\x3e\r\n\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t<input type="checkbox" value="4" [(ngModel)]="rowData.isNoAccess" (change)="SetViewValue(\'isNoAccess\', rowNode)" />\r\n\r\n\t\t\t\t\t\t\t\t\t\x3c!--<p-treeTableCheckbox [value]="rowNode" (click)="SetViewValue(selectedNode,rowData,\'No Access\')"></p-treeTableCheckbox>--\x3e\r\n\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\r\n\t\t\t\t\t\t</ng-template>\r\n\t\t\t\t\t</p-treeTable>\r\n\t\t\t\t\t\x3c!--<p-tree [value]="gridData" selectionMode="single" [(selection)]="selectedFile"></p-tree>--\x3e\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<button (click)="editItemAndCloseModel()" >Save</button>\r\n\t\t</div>\r\n\t</div>\r\n</div>'},rrPZ:function(e,t,r){"use strict";r.r(t),t.default='<div style="border: 1px solid red">roles-list-by-module Component</div>'},zgjS:function(e,t,r){"use strict";r.r(t),t.default=""}}]);