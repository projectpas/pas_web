
<div role="main" style="padding: 2px 6px;">
    <div>
      <div class="x_content">
            <div *ngIf="isViewMode == false">
                <div class="col-md-12 shadow-box-cstm">
                    <div class="col-md-4">
                        <p class="fs12">
                            <label class="control-label labels-font-header"
                             style="width: auto;font-weight:normal !important">Legal Entity Name: </label>
                            <span class="span-header-red"
                             style="text-transform: capitalize"> {{legalEntityName }}
                             </span>
                        </p>
                    </div>
                    <div class="col-md-4">
                        <p class="fs12">
                            <label class="control-label labels-font-header"
                             style="width: auto;font-weight:normal !important">Company Code: </label>
                            <span class="span-header-red" 
                            style="text-transform: capitalize"> {{legalEntityCode }} 
                        </span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="card new-card">
                <div class="card-header header" >
                  <div class="row">
                    <div class="col">
                      <h4 class="header-name">  Documents List</h4>
                    </div>
                    <div>
                        
                        <a *ngIf="isViewMode == false"
                            data-toggle="modal"
                            data-target="#addDocumentDetails">
                            <button type="button"
                            class="btn-sm header-button"                              
                            (click)="addDocumentDetails()"
                            matTooltipPosition="above" 
                            matTooltip="Add Documents">
                            Add Documents
                    </button>
                        </a>
                    </div>
                    </div>
                </div>
                <div class="clear"></div>
                <hr />

                <div class="card-body header-body">

                    <p-table #dt class="rpo-table-cstm"
                     [value]="legalEntityDocumentsData" 
                     [rows]="10" [paginator]="true" 
                     [pageLinks]="3"
                      [rowsPerPageOptions]="[10,20,50,100]" 
                      [columns]="selectedColumns"
                       selectionMode="multiple"
                        [resizableColumns]="true"
                         [reorderableColumns]="true" 
                         [scrollable]="true" 
                         scrollHeight="450px">

                        <ng-template pTemplate="colgroup" let-columns>
                            <colgroup>
                                <col *ngFor="let col of columns" class="table-column-width">
                            </colgroup>
                        </ng-template>

                        <ng-template pTemplate="caption" >
                            <div class="row">
                                <div class="col">
                                <p-multiSelect *ngIf="isViewMode == false" [options]="legalEntityDocumentsColumns" [(ngModel)]="selectedColumns" [ngModelOptions]="{standalone: true}" optionLabel="header" selectedItemsLabel="{0} columns selected" [style]="{minWidth: '200px'}" defaultLabel="Choose Columns" style="float:left"></p-multiSelect>
                            </div>
                            <div class="col">
                              <div
                                style="width: auto !important; float: right;"
                                class="inner-addon right-addon w50 inline-block g-filter-search-cstm"
                              >
                                    <i class="fa fa-search"></i>
                                    <input type="text" pInputText size="50" 
                                    class="form-control" (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder=" Filter" style="height: 28px !important;">
                                </div>
                            </div>
                          </div>
                          <div class="row"   >
                            <div class="col">
                                <button type="button"  *ngIf="isViewMode == false"  class="btn btn-primary  new-table-button" pButton icon="fa-download" matTooltip="Download  Data" matTooltipPosition="above" iconPos="left" label="Export  Data" (click)="dt.exportCSV()" style="padding: 5px 10px !important;"></button>
                                <button type="button"  *ngIf="isViewMode == false"  class="btn btn-primary  new-table-button" pButton icon="fa-download" matTooltip="Download Selected Data" matTooltipPosition="above" iconPos="left" label="Export Selected Data" (click)="dt.exportCSV({selectionOnly:true})" style="padding: 5px 10px !important;"></button>
                                <!-- <div class="excel-upload excel-upload-cstm">
                                    <input type="file" name="upload[]" id="upload" class="uploaddoc upload-file" data-multiple-caption="{count} files selected" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet">
                                    <label for="upload">
                                        <span matTooltip="Upload Data (Excel)"><i class="fa fa-upload"></i></span>
                                    </label>
                                </div> -->
                            </div>
                            
                           


                            <div class="col">
                                <div 
                                  style="text-align: end;padding-right: 2%;"
                                >
                                  <div class="form-group" style="float: right;"> 
                                    <!-- <div
                                      class="pull-left"
                                      style="margin-top: 4px; margin-right: 15px;"
                                    >
                                    <p-radioButton class="custom_set" name="groupname" 
                                    value="Active" label="Active"></p-radioButton>
                                </div>
                                <div class="pull-left" style="margin-top: 4px; margin-right: 15px;">
                                    <p-radioButton class="custom_set" name="groupname"
                                     value="InActive" label="In-active"></p-radioButton>
                                </div>
                                <div class="pull-left" style="margin-top: 4px; margin-right: 15px;">
                                    <p-radioButton class="custom_set" name="groupname"
                                     value="ALL" label="All"></p-radioButton>
                                </div> -->
                                    <div class="checkbox-cstm" style="margin-left: 0;">
                                        <label style="width: auto !important;margin-top: 3px;">
                                            <input type="checkbox" [(ngModel)]="deletedStatusInfo" name="cparent55" id="cparent55" (click)="getDeleteListByStatus($event.target.checked)" />
                                            <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                            Show  Deleted List
                                        </label>
                                    </div>
                                    </div>
              
                              </div>
                          </div>
                      </div>
                            </ng-template>

                        <ng-template pTemplate="header" let-columns>
                            <tr>
                                <ng-container *ngFor="let col of columns">
                                    <th class="table-column-width" *ngIf="col.field !== 'documents'" pResizableColumn pReorderableColumn [pSortableColumn]="col.field">
                                        {{col.header}}
                                        <p-sortIcon [field]="col.field"></p-sortIcon>
                                    </th>
                                    <th class="table-column-width" *ngIf="col.field == 'documents'">
                                        Documents
                                    </th>
                                    <!--
                                                                    <th *ngIf="isViewMode == false">Actions</th> -->


                                </ng-container>
                                <th class="table-actions-column">Actions</th>
                            </tr>
                            <tr>
                                <th class="table-column-width" *ngFor="let col of columns" [ngSwitch]="col.field">
                                    <input class="table-header-input-width" pInputText type="text" (input)="dt.filter($event.target.value, col.field, 'contains')">
                                </th>
                                <th class="table-actions-column"></th>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="body" let-rowData let-columns="columns">

                            <tr [pSelectableRow]="rowData" [pSelectableRowDblClick]="rowData" (dblclick)="docviewdblclick(rowData)">

                                <ng-container *ngFor="let col of columns">
                                    <td class="table-column-width" *ngIf="col.field != 'documents' && col.field !='docMemo'" class="ui-resizable-column" pReorderableRowHandle>
                                        {{col.field == 'createdDate'?  (rowData[col.field] | date: 'MM/dd/yyyy h:mm a '):rowData[col.field] && col.field == 'updatedDate'?  (rowData[col.field] | date: 'MM/dd/yyyy h:mm a '):rowData[col.field]}}
                                    </td>
                                
                                    <td class="table-column-width" *ngIf="col.field == 'documents'">

                            <tr *ngFor="let x of rowData.attachmentDetails">
                                <a class="filelink" (click)="downloadFileUpload(x)"> {{x.fileName}},</a>
                            </tr>

                            </td>
                            <td class="table-column-width" *ngIf="col.field == 'docMemo'">
                                <div [innerHTML]="rowData[col.field]"></div>
                            </td>
                          
                            </ng-container>

                            <td class="action-icons-cstm table-column-width" *ngIf="isViewMode == false">
<div *ngIf="deletedStatusInfo==false">
                                <span>
                                    <a class="btn btn-info boxed-float-btn nobg" data-toggle="modal" data-target="#docView" (click)="openDocument(rowData)" matTooltipPosition="above"  matTooltip="View">
                                        <i class="fa fa-eye"></i>
                                    </a>
                                </span>

                                <span data-target="#addDocumentDetails" data-toggle="modal"><a class="btn nobg" 
                                    (click)="editlegalEntityDocument(rowData)" 
                                    matTooltip="Edit" 
                                    matTooltipPosition="above"><i class="fa fa-pencil">
              
                                    </i></a> </span>
                                
                                
                                <span  data-target="#delete" data-toggle="modal">
                                    <a class="btn nobg" 
                                    (click)=" openDelete(deleteContent, rowData)"
                                    matTooltip="Delete"  matTooltipPosition="above">
                                    <i class="fa fa-trash"></i></a> </span>
                            
                                <span data-target="#contentHistDocs" data-toggle="modal"><a class="btn nobg" 
                                    (click)="openHistory(rowData)"
                                     matTooltip="History"  matTooltipPosition="above">
                                     <i class="fa fa-history"></i></a></span>
</div>
                                     <div *ngIf="deletedStatusInfo==true">
                                        <span>
                                            <a class="btn btn-info boxed-float-btn nobg" data-toggle="modal" data-target="#docView" (click)="openDocument(rowData)" matTooltipPosition="above"  matTooltip="View">
                                                <i class="fa fa-eye"></i>
                                            </a>
                                        </span>
                                        <span ><a class="btn nobg" (click)="restore(restoreId,rowData);"  matTooltip="Restore Record"  matTooltipPosition="above"><i class="fa fa-undo" aria-hidden="true"></i></a> </span>
                                        <span data-target="#contentHistDocs" data-toggle="modal"><a class="btn nobg" 
                                            (click)="openHistory( rowData)"
                                             matTooltip="History"  matTooltipPosition="above">
                                             <i class="fa fa-history"></i></a></span>
                                     </div>
                            </td>
                            <td class="action-icons-cstm table-column-width" *ngIf="isViewMode == true">

                                <span>
                                    <a class="btn btn-info boxed-float-btn nobg" data-toggle="modal" data-target="#docView" (click)="openDocument(rowData)" matTooltipPosition="above"  matTooltip="View">
                                        <i class="fa fa-eye"></i>
                                    </a>
                                </span>
                                <span data-target="#contentHistDocs" data-toggle="modal"><a class="btn nobg" 
                                    (click)="openHistory( rowData)"
                                     matTooltip="History"  matTooltipPosition="above">
                                     <i class="fa fa-history"></i></a></span>

                            </td>

                            </tr>
                        </ng-template>
                        <ng-template pTemplate="emptymessage" let-columns *ngIf="legalEntityDocumentsData?.length == 0">
                            <tr>
                                <td [attr.colspan]="9" *ngIf="isViewMode == false" class="no-records-cstm no-records-msg">
                                    No records found
                                </td>
                                <td [attr.colspan]="9" *ngIf="isViewMode == true" class="no-records-cstm no-records-msg">
                                    No records found
                                </td>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="summary" id="footer">
                            <label id="footer" class="footer">Total:</label>
                            <input class="footer-input-width" [(ngModel)]="dt._totalRecords" [disabled]="true" pInputText type="text" /> &nbsp;&nbsp;
                            <label id="footer" class="footer1">Pages Count:</label>

                            <input class="footer-input-width" [ngModel]="getPageCount(dt._totalRecords,pageSize)" [disabled]="true" pInputText type="text" />
                        </ng-template>


                    </p-table>
                </div>
                <div style="margin-top:10px" *ngIf="isViewMode == false">

                    <button type="button" class="btn btn-primary pull-right submit-btn"
                    (click)="savedocument()" [routerLink]="[
                    '/generalledgermodule/generalledgerpage/app-legal-entity-list'
                  ]">{{ editMode ? 'Update' : 'Save' }}</button>

                    <button type="button" class="btn btn-primary pull-right submit-btn"
                     (click)="backClick()" *ngIf="isViewMode == false">Previous</button>

                    
                </div>
            </div>
        </div>
    </div>
   
</div>
<ng-template #deleteContent let-c="close" let-d="dismiss" data-backdrop="static">
    <div class="modal-header">
        <h4 class="modal-title">Are You Sure Want to Delete?</h4>
        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body">
        <strong>
            Document  Name:
            <span class="new-label">{{selectedRowForDelete.docName}}</span>
        </strong>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="deleteItemAndCloseModel()">Yes</button>
        <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
    </div>
</ng-template>

<div id="docView" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" (click)="closeView()">&times;</button>
                <h4 class="modal-title">Details of Legal Entity Document</h4>
            </div>
            <div class="modal-body" *ngIf="sourceViewforDocument">
                <div class="col-sm-12">
                    <p><span class="label"><b>Name<span class="clr-red">*</span> : </b></span><span class="value">{{sourceViewforDocument.docName}}</span></p>
                    <p><span class="label"><b>Description : </b></span><span class="value">{{sourceViewforDocument.docDescription}}</span></p>
                    <p><span class="label"><b>Memo : </b></span>
                        <span class="value">
                            <!-- {{sourceViewforDocument.docMemo}} -->
                            <p class="p-0 m-0 p_textEditor" [innerHTML]="sourceViewforDocument.docMemo">
                            </p>
                        
                        </span></p>
                    <div class="mt-3">
                        <h4 class="panel-title">Attachment Details:</h4>
                        <p-table #dt class="table-responsive ptable-cus-pma" [paginator]="sourceViewforDocumentList.length > 0" [value]="sourceViewforDocumentList" [rows]="3" [columns]="sourceViewforDocumentListColumns">
                            <ng-template pTemplate="header" let-columns>
                                <tr>
                                    <th *ngFor="let col of columns">
                                        {{col.header}} <span class="clr-red">*</span>
                                    </th>
                                    <th>
                                        Download
                                    </th>
                                </tr>
                                <tr>
                                    <th style="width:auto" *ngFor="let col of columns" [ngSwitch]="col.field">
                                        <input style="width:100%;" pInputText type="text" (input)="dt.filter($event.target.value, col.field, 'contains')">
                                    </th>
                                    <th></th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-part let-rowData let-columns="columns" let-i="rowIndex">
                                <tr>
                                    <td *ngFor="let col of columns">
                                        <ng-container *ngIf="col.field=='fileName'">
                                            {{part[col.field]}}
                                        </ng-container>

                                    </td>
                                    <td style="text-align: center;">
                                        <a (click)="downloadFileUpload(part)" matTooltipPosition="above" matTooltip="Download" class="btn nobg btn-cstm"><span><i class="fa fa-download"></i></span></a>
                                    </td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="emptymessage" let-columns *ngIf="sourceViewforDocumentList.length == 0">
                                <tr>
                                    <td [attr.colspan]="2" style="color: red; font-weight: bold; text-align: center">
                                        No records found
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                        <!-- <table class="table table-bordered ">
                            <tr>
                                <th>File Name</th>
                                <th>Actions</th>
                            </tr>
                            <tr *ngFor="let f of sourceViewforDocumentList ">
                                <td>{{f.fileName}}</td>

                                 <td><a (click)="downloadFileUpload(f)" matTooltip="Download" class="btn nobg btn-cstm"><span><i class="fa fa-download"></i></span></a> </td>


                            </tr>

                        </table> -->


                    </div>
                    <div class="clear"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" (click)="closeView()">Close</button>
            </div>
        </div>

    </div>
</div>


<div class="modal fade" id="addDocumentDetails" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-sm">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" (click)="closeMyModel('#addDocumentDetails')">
                    &times;</button>
                <h4 class="modal-title">
                    {{isEditButton ? 'Edit' : 'Add' }} Document Details</h4>

                <div class="col-md-12 shadow-box-cstm">
                    <div class="col-md-6">
                        <p class="fs12">
                            <label class="control-label labels-font-header" style="width: auto;font-weight:normal !important">Legal Entity Name: </label>
                            <span class="span-header-red" style="text-transform: capitalize"> {{legalEntityName }} </span>
                        </p>
                    </div>
                    <div class="col-md-6">
                        <p class="fs12">
                            <label class="control-label labels-font-header" style="width: auto;font-weight:normal !important">Legal Entity Code: </label>
                            <span class="span-header-red" style="text-transform: capitalize"> {{legalEntityCode }} </span>
                        </p>
                    </div>
                </div>
            </div>
            <form #addDocumentForm="ngForm" class="form-horizontal">
                <div class="modal-body">
                    <div class="form-row">
                        <div class="col-md-6">

                            <div class="form-group">
                                <label>Name <span class="clr-red">*</span></label>
                                <input class="form-control" type="text" name="name" (ngModelChange)="enableSave()"
                                       [(ngModel)]="documentInformation.docName" required>
                            </div>
                            <div class="form-group">
                                <label>Description  </label>
                                <textarea class="form-control" name="description" (ngModelChange)="enableSave()"
                                [(ngModel)]="documentInformation.docDescription">
                                </textarea>
                            </div>
                            <div class="form-group">
                                <span class="label">Memo </span>
                                <div class="col-sm-11">
                                  <span>                    
                                    <div class="form-group memo-popup-cstm mat_emo">
                                      <div
                                      (ngModelChange)="enableSave()"
                                        [innerHTML]=" documentInformation.docMemo.trim()"
                                        [matTooltip]="parsedText(documentInformation.docMemo)"
                                        matTooltipPosition="above"
                                        class="form-control"
                                        style="width: 109% !important;"
                                        class="text_editor_box"
                                      ></div>
                                    </div>
                                  </span> 
                                </div>
                                <div class="col-sm-1">
                                  <span style="margin-left:10px">
                                    <a
                                    class="btn nobg contoel_v"
                                    data-toggle="modal"
                                    (ngModelChange)="enableSave()"
                                    data-target="#memo-popup-Doc"
                                    (click)="onClickMemo()"
                                    matTooltip="Add Memo"
                                    matTooltipPosition="above"><i class="fa fa-pencil"></i>
                                    </a>
                                  </span>
                                </div>
                              </div>
                        </div>

                        <div class="col-md-12">
                            <div class="form-group">
                                <label style="float: none;">Attachments <span class="clr-red">*</span></label>
                                <p-fileUpload #fileUploadInput name="fileupload[]"
                                              multiple="multiple"
                                              [showCancelButton]="false"
                                              [showUploadButton]="false"
                                              customUpload="true"  required="true"
                                              (ngModelChange)="enableSave()"
                                              (onSelect)="fileUpload($event)"
                                              (onRemove)="removeFile($event)"></p-fileUpload>
                            </div>
                        </div>
                        <div class="table-responsive table-overflow" *ngIf="sourceViewforDocumentList.length > 0">
                            <h4 class="panel-title" style="padding-left: 10px;">Attachment Details:</h4>
                            <p-table class="table-responsive ptable-cus-pma" [paginator]="sourceViewforDocumentList.length > 0"
                                 [value]="sourceViewforDocumentList" [rows]="3" [columns]="sourceViewforDocumentListColumns">
                                <ng-template pTemplate="header" let-columns>
                                    <tr>
                                        <th *ngFor="let col of columns">
                                            {{col.header}}
                                        </th>
                                        <th>
                                            Download
                                        </th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-part let-rowData let-columns="columns" let-i="rowIndex">
                                    <tr>
                                        <td *ngFor="let col of columns">
                                            <ng-container *ngIf="col.field=='fileName'">
                                                {{part[col.field]}}
                                            </ng-container>

                                        </td>
                                        <td style="text-align:center;">
                                            <a (click)="downloadFileUpload(part)" matTooltip="Download" matTooltipPosition="above" class="btn nobg btn-cstm"><span><i class="fa fa-download"></i></span></a>
                                            <span>
                                                <a class="btn nobg"
                                                   (click)="openDeletes(content,rowData)"
                                                   matTooltip="Delete" matTooltipPosition="above">
                                                    <i class="fa fa-trash"></i>
                                                </a>
                                            </span>

                                        </td>
                                    </tr>
                                </ng-template>
                                <ng-template #content let-c="close" let-d="dismiss">
                                    <div class="modal-header">
                                        <h4 class="modal-title">Are You Sure Want to Delete?</h4>
                                        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <strong>
                                            Delete File:
                                            <span class="new-label">{{selectedRowForDelete.name}}</span>
                                        </strong>
                                    </div>

                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" (click)="deletesItemAndCloseModel()">Yes</button>
                                        <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
                                    </div>
                                </ng-template>
                                <ng-template pTemplate="emptymessage" let-columns *ngIf="sourceViewforDocumentList.length == 0">
                                    <tr>
                                        <td [attr.colspan]="2" style="color: red; font-weight: bold; text-align: center">
                                            No records found
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>

                            <!-- <table class="table table-bordered ">
                        <tr>
                            <th>File Name</th>
                            <th>Actions</th>
                        </tr>
                        <tr *ngFor="let f of sourceViewforDocumentList ">
                            <td>{{f.fileName}}</td>
                             <td><a (click)="downloadFileUpload(f)" matTooltip="Download" class="btn nobg btn-cstm"><span><i class="fa fa-download"></i></span></a> </td>


                        </tr>

                    </table> -->
                        </div>


                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button"
                     *ngIf="!isEditButton"
                      class="btn btn-primary pull-right submit-btn"
                     style="text-align:center" 
                     data-dismiss="modal" 
                     (click)="saveDocumentInformation()"
                      [disabled]="!addDocumentForm.valid || disableSave">Save</button>
                    <button type="button" *ngIf="isEditButton" 
                    class="btn btn-primary pull-right submit-btn"
                     style="text-align:center" data-dismiss="modal"
                      (click)="saveDocumentInformation()" 
                      [disabled]="!addDocumentForm.valid || disableSave">Update</button>
                    <button type="button" class="btn btn-danger" 
                    data-dismiss="modal">Close</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="memo-popup-Doc" style="z-index: 15000 !important;"  role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">
            &times;
          </button>
          <h4 class="modal-title">Edit Memo</h4>
        </div>
        <div class="modal-body">
          <table class="table table-bordered table-fixed workflow-table-material">
            <thead>
              <th style="color: #fff;">Memo</th>
            </thead>
            <tbody>
              <tr>
                <td style="white-space: inherit">
                  <p-editor
                   spellcheck="true"
                    [(ngModel)]="memoPopupContent"
                    [style]="{ height: '320px' }"
                    name="memoPopupContent"
                    (ngModelChange)="enableSave()"
                    required
                  ></p-editor>
                </td>
              </tr>
            </tbody>
          </table>
          <div style="float: right;">
            <button
              type="button"
              class="btn btn-primary"
              style="padding: 6px 12px !important; margin-top: 10px;" [disabled]="isDocsMemoEnable"
              (click)="onClickPopupSave()">
              Save
            </button>
            <button
              type="button"
              class="btn btn-danger"
              style="padding: 6px 12px !important; margin-top: 10px;"
              (click)="closeMemoModel()" >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- </div> -->

<!-- <ng-template #contentAuditHist id="contentAuditHist" let-c="close" let-d="dismiss" style="width:auto" data-backdrop="static">
    <div class="modal-header">

        <h4 class="modal-title">History of Legal Entity Documents</h4>
        <button type="button" class="close" aria-label="Close" (click)="dismissModelHistory()">
            <span aria-hidden="true">&times;</span>
        </button>


    </div>
    <div class="modal-body">
        <div class="col-md-12 shadow-box-cstm">
            <div class="col-md-4">
                <p class="fs12">
                    <label class="control-label labels-font-header"
                     style="width: auto;">Legal Entity Name: </label>
                    <span class="span-header-red"
                     style="text-transform: capitalize"> {{legalEntityName }}
                     </span>
                </p>
            </div>
            <div class="col-md-4">
                <p class="fs12">
                    <label class="control-label labels-font-header"
                     style="width: auto;">Company Code: </label>
                    <span class="span-header-red" 
                    style="text-transform: capitalize"> {{legalEntityCode }} 
                </span>
                </p>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Document Name</th>
                        <th>Description</th>
                        <th>Memo</th>
                        <th>File Name</th>
                        <th>Created Time</th>
                        <th>Created By</th>
                        <th>Last Updated Time</th>
                        <th>Updated By</th>
                        <th>Is Deleted</th>


                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let audit of documentauditHisory">
                    <tr *ngFor="let audit of documentauditHisory; let i = index;">
                        <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'docName', audit.docName)  ? 'black' : 'red'  }">{{audit.docName}}</td>
                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'docDescription', audit.docDescription)  ? 'black' : 'red'  }">{{audit.docDescription}}</td>
                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'docMemo', audit.docMemo)  ? 'black' : 'red'  }">
                            <p [innerHTML]="audit.docMemo"></p>
                        </td>
                        <td [ngStyle]="{'color': getColorCodeForHistory(i, 'fileName', audit.fileName)  ? 'black' : 'red'  }">{{audit.fileName}}</td>

                        <td>{{audit.createdDate | date: 'MM/dd/yyyy h:mm a '}}</td>
                        <td>{{audit.createdBy}}</td>
                        <td>{{audit.updatedDate | date: 'MM/dd/yyyy h:mm a '}}</td>
                        <td>{{audit.updatedBy}}</td>
                        <td style="text-align: center;">
                            <span class="value">
                              <label class="wauto">
                                  <input type="checkbox" name="isDeleted" [checked]="audit.isDeleted == true" disabled>
                              </label>
                            </span>
                          </td>
                    </tr>
                </tbody>

            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-danger" (click)="dismissModelHistory()">Close</button>
    </div>
</ng-template>  -->

<div  id="contentHistDocs" #contentHistDocs class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-xlg">
        <div class="modal-content">
            <div class="modal-header">

                <h4 class="modal-title">History of Legal Entity Documents</h4>
                <button type="button" class="close" aria-label="Close" (click)="dismissModelHistory()">
                    <span aria-hidden="true">&times;</span>
                </button>
        
        
            </div>
            <div class="modal-body">
                <div class="col-md-12 shadow-box-cstm">
                    <div class="col-md-4">
                        <p class="fs12">
                            <label class="control-label labels-font-header"
                             style="width: auto;">Legal Entity Name: </label>
                            <span class="span-header-red"
                             style="text-transform: capitalize"> {{legalEntityName }}
                             </span>
                        </p>
                    </div>
                    <div class="col-md-4">
                        <p class="fs12">
                            <label class="control-label labels-font-header"
                             style="width: auto;">Company Code: </label>
                            <span class="span-header-red" 
                            style="text-transform: capitalize"> {{legalEntityCode }} 
                        </span>
                        </p>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Name <span class="clr-red">*</span></th>
                                <th>Description</th>
                                <th>Memo</th>
                                <th>File Name <span class="clr-red">*</span></th>
                                <th>Created Date</th>
                                <th>Created By</th>
                                <th> Updated Date</th>
                                <th>Updated By</th>
                                <th>Is Deleted</th>
        
        
                            </tr>
                        </thead>
                        <tbody>
                            <!-- <tr *ngIf="documentauditHisory && documentauditHisory.length !=0"> -->
                            <tr *ngFor="let audit of documentauditHisory; let i = index;">
                                <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'docName', audit.docName)  ? 'black' : 'red'  }">{{audit.docName}}</td>
                                <td [ngStyle]="{'color': getColorCodeForHistory(i, 'docDescription', audit.docDescription)  ? 'black' : 'red'  }">{{audit.docDescription}}</td>
                                <td [ngStyle]="{'color': getColorCodeForHistory(i, 'docMemo', audit.docMemo)  ? 'black' : 'red'  }">
                                    <p [innerHTML]="audit.docMemo"></p>
                                </td>
                                <td [ngStyle]="{'color': getColorCodeForHistory(i, 'fileName', audit.fileName)  ? 'black' : 'red'  }">{{audit.fileName}}</td>
        
                                <td>{{audit.createdDate | date: 'MM/dd/yyyy h:mm a '}}</td>
                                <td>{{audit.createdBy}}</td>
                                <td>{{audit.updatedDate | date: 'MM/dd/yyyy h:mm a '}}</td>
                                <td>{{audit.updatedBy}}</td>
                                <td style="text-align: center;">
                                    <span class="value">
                                      <label class="wauto">
                                          <input type="checkbox" name="isDeleted" [checked]="audit.isDeleted == true" disabled>
                                      </label>
                                    </span>
                                  </td>
                            </tr>

                        </tbody>
        
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" (click)="dismissModelHistory()">Close</button>
            </div>
        </div>

    </div>
</div>
<ng-template #restoreId let-c="close" let-d="dismiss" data-backdrop="static">
    
    <div class="modal-header">
        <h4 class="modal-title">Are You Sure Want to Restore?</h4>
  
        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <strong>
            File Name:
            <span class="new-label">{{restorerecord.docName}}</span>
        </strong>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="restoreRecord()">Yes</button>
        <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
    </div>
  </ng-template> 
  <div class="preloader" *ngIf="isSpinnerVisible">
    <div class="loading">
        <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
    </div>
</div>