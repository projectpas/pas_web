﻿<div class="card new-card">
  <div class="card-body padding-1-5">
    <div class="x_content">
      <div class="col-md-12 shadow-box-cstm" *ngIf="!isViewMode">
        <div class="col-md-4">
          <p class="fs12">
            <label class="control-label labels-font-header wauto">Vendor Name:
            </label>
            <span class="span-header-red text-capital">
              {{ vendorCodeandName?.vendorName }}
            </span>
          </p>
        </div>
        <div class="col-md-4">
          <p class="fs12">
            <label class="control-label labels-font-header wauto">Vendor Code:
            </label>
            <span class="span-header-red text-capital">
              {{ vendorCodeandName?.vendorCode }}
            </span>
          </p> 
        </div>
      </div>

      <div class="card new-card">
          <div>

              <div class="card-header header">
                  <div class="row">
                      <div class="col">
                          <h4 class="header-name">Contacts</h4>
                      </div>
                      <div>
                          <a *ngIf="isViewMode == false" data-toggle="modal" data-target="#addContactInfo">
                              <button type="button" class="btn-sm header-button" matTooltip="Add Contacts" matTooltipPosition="above" (click)="onAddContactInfo();">
                                  Add Contacts
                              </button>
                          </a>
                      </div>
                  </div>
              </div>           

              <div class="clear"></div>
              <!-- <hr /> -->
          </div>
              <div class="card-body header-body">
                  <p-table #dt class="ptable-custom lastcol-fix" [value]="allActions" [metaKeySelection]="true" [rows]="pageSize"
                           [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[10, 20, 50, 100]" [columns]="selectedColumns"
                           [style]="{ width: '100%' }" selectionMode="multiple" [(selection)]="selectedColumn"
                           [resizableColumns]="true" [reorderableColumns]="true" [scrollable]="true" (onPage)="pageIndexChange($event)">
                      <ng-template pTemplate="caption" *ngIf="!isViewMode">
                          <div class="row">
                              <div class="col">
                                  <p-multiSelect [options]="vendorContactsColumns" [(ngModel)]="selectedColumns"
                                                 [ngModelOptions]="{ standalone: true }" optionLabel="header" selectedItemsLabel="{0} columns selected"
                                                 class="multiselect-field" defaultLabel="Choose Columns" 
                                              ></p-multiSelect>
                              </div>
                              <div class="col">
                                <div					
                                class="global-search-field inner-addon right-addon inline-block"
                                >
                                      <i class="fa fa-search"></i>
                                      <input type="text" pInputText size="50"
                                             class="form-control"
                                             (input)="dt.filterGlobal($event.target.value, 'contains')" placeholder=" Filter"
                                             />
                                  </div>
                              </div>
                          </div>
                          <div class="row">
                              <div class="col">
                                  <button type="button" class="btn btn-primary exports-button" matTooltip="Download Data" matTooltipPosition="above"
                                          pButton icon="fa-download" iconPos="left" label="Export Data"
                                          data-toggle="modal" 
                                          (click)="selectedOnly = false; targetData = dt;"
                                           data-target="#downloadConfirmation"></button>
                                  <button type="button" class="btn btn-primary exports-button" matTooltip="Download Selected Data"
                                          matTooltipPosition="above" pButton icon="fa-download" iconPos="left" label="Export Selected Data"
                                          (click)="dt.exportCSV({ selectionOnly: true })" 
                                          ></button>

                                  <!-- <div class="excel-upload excel-upload-cstm">
                                      <button type="button" class="btn btn-primary  new-table-button" matTooltip="Download Sample File"
                                              matTooltipPosition="above" (click)="sampleExcelDownload()" style="padding: 5px 10px !important; width: 130px !important;">
                                          Sample File Download
                                      </button>

                                      <input type="file" name="upload[]" id="upload" (change)="customExcelUpload($event)"
                                             class="uploaddoc upload-file" accept=".xlsx, .xls, .csv" />
                                      <label for="upload">
                                          <span matTooltip="Upload Data (Excel)" matTooltipPosition="above">
                                              <i class="fa fa-upload"></i>
                                          </span>
                                      </label>
                                  </div> -->
                              </div>                             

                              <div class="pull-right buttons-div-align">
                                <div class="col">
                                <div class="col buttons-top-padding">


                                          <div class="form-group">

                                              <div class="pull-left radio-buttons-align">
                                                  <p-radioButton class="custom_set" name="contactstatus" value="Active" label="Active"
                                                                 [(ngModel)]="currentstatus" (click)="geListByStatus('Active')"></p-radioButton>
                                              </div>
                                              <div class="pull-left radio-buttons-align">
                                                  <p-radioButton class="custom_set" name="contactstatus" value="InActive" label="In-Active"
                                                                 [(ngModel)]="currentstatus" (click)="geListByStatus('InActive')"></p-radioButton>
                                              </div>
                                              <div class="pull-left radio-buttons-align">
                                                  <p-radioButton class="custom_set" name="contactstatus" value="ALL" label="All"
                                                                 [(ngModel)]="currentstatus" (click)="geListByStatus('ALL')"></p-radioButton>
                                              </div>
                                              <div class="checkbox-cstm pull-left checkbox-align">
                                                <label class="checkbox-label-align">
                                                      <input type="checkbox" [(ngModel)]="currentDeletedstatus" name="cparent" id="cparent"
                                                             (click)="getDeleteListByStatus($event.target.checked)" />
                                                      <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                                      Show  Deleted List
                                                  </label>
                                              </div>
                                          </div>
                                      </div>

                                  </div>
                              </div>
                          </div>
                      </ng-template>
                      <ng-template pTemplate="caption" *ngIf="isViewMode == true">
                          <div class="row">
                            <div class="col">
                              <div class="">
                                  <div class="col" style="width: 350px; float: right; padding-top: 3px;">
                                        <div class="form-group">
                                            <div class="pull-left radio-buttons-align">
                                                <p-radioButton class="custom_set" name="contactstatus" value="Active" label="Active"
                                                               [(ngModel)]="currentstatus" (click)="geListByStatus('Active')"></p-radioButton>
                                            </div>
                                            <div class="pull-left radio-buttons-align">
                                                <p-radioButton class="custom_set" name="contactstatus" value="InActive" label="In-Active"
                                                               [(ngModel)]="currentstatus" (click)="geListByStatus('InActive')"></p-radioButton>
                                            </div>
                                            <div class="pull-left radio-buttons-align">
                                                <p-radioButton class="custom_set" name="contactstatus" value="ALL" label="All"
                                                               [(ngModel)]="currentstatus" (click)="geListByStatus('ALL')"></p-radioButton>
                                            </div>
                                            <div class="checkbox-cstm pull-right checkbox-align">
                                              <label class="checkbox-label-align">
                                                    <input type="checkbox" [(ngModel)]="currentDeletedstatus" name="cparent" id="cparent"
                                                           (click)="getDeleteListByStatus($event.target.checked)" />
                                                    <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                                                    Show  Deleted List
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                      </ng-template>
                      <ng-template pTemplate="colgroup" let-columns>
                          <colgroup>
                              <col *ngFor="let col of columns" class="table-column-width"
                                   [ngClass]="{ update_withFlag: col.field == 'isDefaultContact' }" />
                          </colgroup>
                      </ng-template>
                      <ng-template pTemplate="header" let-columns>
                          <tr>
                              <th class="table-column-width">Flag</th>
                              <th class="table-column-width" *ngFor="let col of columns" [hidden]="col.header == 'IsPrimary'" pResizableColumn pReorderableColumn
                                  [pSortableColumn]="col.field">
                                  {{ col.header }}
                                  <p-sortIcon [field]="col.field"></p-sortIcon>
                              </th>

                              <th class="table-actions-column">Actions</th>
                          </tr>
                          <tr>
                              <th class="table-column-width"></th>
                              <th class="table-column-width" *ngFor="let col of columns" [ngSwitch]="col.field"
                                  [hidden]="col.field == 'isDefaultContact'">
                                  <input class="table-header-input-width" pInputText type="text" (input)="
                                    dt.filter($event.target.value, col.field, 'contains') " />
                              </th>                              
                              <th class="table-actions-column"></th>
                          </tr>
                      </ng-template>
                      <ng-template pTemplate="body" let-rowData let-columns="columns" let-rowIndex="rowIndex">
                          <tr [pSelectableRow]="rowData" [pSelectableRowDblClick]="rowData" pReorderableRowHandle
                              (dblclick)="opencontactView(view, rowData)">
                              <td class="table-column-width">
                                  <span class="flag">
                                      <i *ngIf="rowData.isDefaultContact == true" [ngStyle]="{color: rowData.isDefaultContact == true ? 'green' : 'none'
                                  }" class="fa fa-flag" aria-hidden="true" matTooltip="Primary " matTooltipPosition="above">
                                      </i>
                                  </span>
                              </td>
                              <td class="table-column-width" *ngFor="let col of columns" [hidden]="col.field == 'isDefaultContact'"
                                  class=" uiTable_td_ovrflw_control" pReorderableRowHandle>
                                  {{
                                  col.field == 'createdDate'
                                    ? (rowData[col.field] | date: 'MM/dd/yyyy h:mm a ')
                                    : rowData[col.field] && col.field == 'updatedDate'
                                    ? (rowData[col.field] | date: 'MM/dd/yyyy h:mm a ')
                                    : rowData[col.field]
                                  }}
                              </td>
                              <td class="action-icons-cstm table-column-width">
                                  <div *ngIf="currentDeletedstatus==false">
                                      <p-inputSwitch *ngIf="!isViewMode" name="isActive{{ rowIndex }}" matTooltip="Active" [disabled]="rowData.isDefaultContact == true"
                                                  matTooltipPosition="above" onLabel="on" offLabel="off" (onChange)="handleChanges(rowData, $event)"
                                                     [(ngModel)]="rowData['isActive']">
                                      </p-inputSwitch>
                                      <span data-toggle="modal" data-target="#view">
                                          <a class="btn btn-info boxed-float-btn nobg" data-toggle="tooltip"
                                             (click)="opencontactView(view, rowData)" matTooltip="View" matTooltipPosition="above">
                                              <i class="fa fa-eye"></i>
                                          </a>
                                      </span>
                                      <span *ngIf="!isViewMode" data-target="#addContactInfo" data-toggle="modal">
                                          <a class="btn nobg"
                                             (click)="openEdit(rowData)" matTooltip="Edit"
                                             matTooltipPosition="above"><i class="fa fa-pencil"></i></a>
                                      </span>
                                      <span *ngIf="!isViewMode" requirePermission="canDelete" >
                                          <a class="btn nobg" matTooltip="Delete"
                                          (click)="openDelete(deleteContent, rowData);dt.reset();" 
                                          matTooltipPosition="above"><i class="fa fa-trash"></i></a>
                                      </span>
                                      <span data-target="#ATAADD" data-toggle="modal">
                                          <a class="btn nobg btn-users-cstm"
                                             matTooltip="ATA Chapters"
                                             matTooltipPosition="above"
                                             (click)="addATAChapter(rowData);getAllATAChapter(); ">
                                              <i class="fa fa-plane"
                                                 aria-hidden="true"></i>
                                          </a>
                                      </span>
                                      <span>
                                          <a class="btn nobg"
                                             (click)="openHist(contentAuditHist, rowData)"
                                             matTooltip="History" matTooltipPosition="above"><i class="fa fa-history"></i></a>
                                      </span>
                                  </div>
                                  <div *ngIf="currentDeletedstatus==true">
                                    <ng-container *ngIf="!isViewMode">
                                          <p-inputSwitch *ngIf="!isViewMode" name="isActive{{ rowIndex }}" matTooltip="Active" 
                                          matTooltipPosition="above" onLabel="on" [disabled]="true" offLabel="off" 
                                          [(ngModel)]="rowData['isActive']">
                                          </p-inputSwitch>
                                    </ng-container>
                                      <span data-toggle="modal" data-target="#view">
                                          <a class="btn btn-info boxed-float-btn nobg" data-toggle="tooltip"
                                             (click)="opencontactView(view, rowData)" matTooltip="View" matTooltipPosition="above">
                                              <i class="fa fa-eye"></i>
                                          </a>
                                      </span>
                                      <span>
                                        <a class="btn nobg"
                                           (click)="openHist(contentAuditHist, rowData)"
                                           matTooltip="History" matTooltipPosition="above"><i class="fa fa-history"></i></a>
                                      </span>
                                      <span *ngIf="!isViewMode"><a class="btn nobg" (click)="restore(restoreId,rowData);" matTooltip="Restore Record" matTooltipPosition="above"><i class="fa fa-undo" aria-hidden="true"></i></a> </span>
                                  </div>
                              </td>
                          </tr>
                      </ng-template>
                      <ng-template pTemplate="emptymessage" let-columns>
                          <tr>
                              <td [attr.colspan]="13" class="no-records-cstm no-records-msg">
                                  No records found
                              </td>
                          </tr>
                      </ng-template>
                      <ng-template pTemplate="summary" id="footer">
                          <label id="footer" class="footer">Total:</label>
                          <input class="footer-input-width" [(ngModel)]="dt._totalRecords" [disabled]="true" pInputText type="text" />
                          &nbsp;&nbsp;
                          <label id="footer" class="footer1">Pages Count:</label>

                          <input class="footer-input-width" [ngModel]="getPageCount(dt._totalRecords, pageSize)" [disabled]="true"
                                 pInputText type="text" />
                      </ng-template>
                  </p-table>
              </div>
              <div *ngIf="!isViewMode">
                  <button type="button" class="btn btn-primary pull-right submit-btn" (click)="nextClick()">
                      Next
                  </button>
                  <button type="button" class="btn btn-primary pull-right submit-btn" (click)="previousClick()">
                      Previous
                  </button>
              </div>
          </div>
  </div>
</div>

<div class="modal fade" id="downloadConfirmation" role="dialog" data-backdrop="static" data-keyboard="false">
	<div class="modal-dialog modal-sm">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" (click)="closeDeleteModal()">&times;</button>
				<h4 class="modal-title">Are You Sure Want to Download?</h4>
			</div>
			<div class="modal-body" *ngIf="targetData">
				<strong>
					<span>
						You are attempting to export {{targetData.totalRecords}} of records. 
					</span> 
				</strong>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" (click)="(selectedOnly)?targetData.exportCSV({ selectionOnly: true }):exportCSV(targetData); closeDeleteModal();">Confirm</button>
				<button type="button" class="btn btn-danger" (click)="closeDeleteModal()">Cancel</button>
			</div>
		</div>
	</div>
</div>

<ng-template #deleteContent let-c="close" let-d="dismiss" data-backdrop="static">
  <div class="modal-header">
    <h4 class="modal-title">Are You Sure Want to Delete ?</h4>
    <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
      <span aria-hidden="true">&times;</span>
    </button>
    <div class="col-md-12 shadow-box-cstm">
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header" style="width: auto;">Vendor Name:
          </label>
          <span class="span-header-red" style="text-transform: capitalize">
            {{ vendorCodeandName?.vendorName }}
          </span>
        </p>
      </div>
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header" style="width: auto;">Vendor Code:
          </label>
          <span class="span-header-red" style="text-transform: capitalize">
            {{ vendorCodeandName?.vendorCode }}
          </span>
        </p>
      </div>
    </div>
 
  </div>
  <div class="modal-body">
    <strong>Contact Name:
      <span class="new-label">{{ selectedRowforDelete.firstName }}</span>
    </strong>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="deleteItemAndCloseModel()">
      Yes
    </button>
    <button type="button" class="btn btn-danger" (click)="dismissModel()">
      No
    </button>
  </div>
</ng-template>

<ng-template #contentAuditHist let-c="close" let-d="dismiss" style="width:auto" data-backdrop="static">
  <div class="modal-header">
    <h4 class="modal-title">History of Vendor Contact</h4>
    <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
      <span aria-hidden="true">&times;</span>
    </button>
    <div class="col-md-12 shadow-box-cstm">
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header wauto">Vendor Name:
          </label>
          <span class="span-header-red text-capital">
              {{ vendorCodeandName?.vendorName }}
          </span>
        </p>
      </div>
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header wauto">Vendor Code:
          </label>
          <span class="span-header-red text-capital">
              {{ vendorCodeandName?.vendorCode }}
          </span>
        </p>
      </div>
    </div>
 
  </div>
  <div class="modal-body" *ngIf="contactauditHisory">
    <div class="table-responsive pas-table-cstm poro-table-cstm parts-list-table-align">
      <div class="tableFixHead">  
      <table class="table table-bordered header-table-width" *ngIf="contactauditHisory.length > 0; else noDatavailable">
        <thead>
          <tr>
            <th >Is Primary</th>
            <th>Prefix</th>
            <th>First Name</th>
            <th>Middle Name</th>
            <th>Last Name</th>
            <th>Suffix</th>
            <th>Contact Title</th>
            <th>Email</th>
            <th >Tag</th>
            <th >Attention</th>
            <th >Work Phone</th>
            <th >Mobile Phone</th>
            <th >Alternate Phone</th>
            <th>Fax</th>           
            <th>Memo</th>
            <th>Is Active</th>
            <th>Created Date</th>
            <th >Created By</th>
            <th >Updated Date</th>
            <th >Updated By</th>            
            <th >Is Deleted</th>
          </tr>
        </thead>
        <tbody class="audithistory-cstm">
          <!--*ngIf="auditHistory.length> 0"-->
          <tr *ngFor="let audit of contactauditHisory; let i = index">
            <td style="background-color: #fff !important; text-align: center;"><p style="width: 50px;"> <input type="checkbox" name="isDefaultContact" [(ngModel)]="audit.isDefaultContact" disabled></p></td>
            <td [ngStyle]="{
                color: getColorCodeForHistory(i, 'prefix', audit.prefix)
                  ? 'black'
                  : 'red'
              }">
              {{ audit.prefix }}
            </td>

            <td [ngStyle]="{
                color: getColorCodeForHistory(i, 'firstName', audit.firstName)
                  ? 'black'
                  : 'red'
              }">
              {{ audit.firstName }}
            </td>
            <td [ngStyle]="{
                color: getColorCodeForHistory(i, 'middleName', audit.middleName)
                  ? 'black'
                  : 'red'
              }">
              {{ audit.middleName }}
            </td>

            <td [ngStyle]="{
                color: getColorCodeForHistory(i, 'lastName', audit.lastName)
                  ? 'black'
                  : 'red'
              }">
              {{ audit.lastName }}
            </td>
            <td [ngStyle]="{
                color: getColorCodeForHistory(i, 'suffix', audit.suffix)
                  ? 'black'
                  : 'red'
              }">
              {{ audit.suffix }}
            </td>

            <td [ngStyle]="{
                color: getColorCodeForHistory(
                  i,
                  'contactTitle',
                  audit.contactTitle
                )
                  ? 'black'
                  : 'red'
              }">
              {{ audit.contactTitle }}
            </td>
            <td [ngStyle]="{
                color: getColorCodeForHistory(i, 'email', audit.email)
                  ? 'black'
                  : 'red'
              }">
              {{ audit.email }}
            </td>

            <td [ngStyle]="{
                color: getColorCodeForHistory(
                  i,
                  'tagName',
                  audit.tagName
                )
                  ? 'black'
                  : 'red'
              }">
              {{ audit.tagName }}
            </td>
            <td [ngStyle]="{
              color: getColorCodeForHistory(
                i,
                'attention',
                audit.attention
              )
                ? 'black'
                : 'red'
            }">
            {{ audit.attention }}
          </td>
          <td [ngStyle]="{
            color: getColorCodeForHistory(
              i,
              'fullContact',
              audit.fullContact
            )
              ? 'black'
              : 'red'
          }">
          {{ audit.fullContact }}
        </td>
            <td [ngStyle]="{
                color: getColorCodeForHistory(
                  i,
                  'mobilePhone',
                  audit.mobilePhone
                )
                  ? 'black'
                  : 'red'
              }">
              {{ audit.mobilePhone }}
            </td>
            <td [ngStyle]="{
                color: getColorCodeForHistory(
                  i,
                  'alternatePhone',
                  audit.alternatePhone
                )
                  ? 'black'
                  : 'red'
              }">
              {{ audit.alternatePhone }}
            </td>

            <td [ngStyle]="{
                color: getColorCodeForHistory(i, 'fax', audit.fax)
                  ? 'black'
                  : 'red'
              }">
              {{ audit.fax }}
            </td>
            <td [ngStyle]="{'color': getColorCodeForHistory(i, 'notes', audit.notes)  ? 'black' : 'red'  }" [innerHTML]="audit.notes"></td>
            <td style="background-color: #fff !important; text-align: center;"><p style="width: 50px;"> <input type="checkbox" name="isActive" [(ngModel)]="audit.isActive" disabled></p></td>
            <td>{{ audit.createdDate | date: 'MM/dd/yyyy h:mm a ' }}</td>
            <td [ngStyle]="{
                    color: getColorCodeForHistory(i, 'createdBy', audit.createdBy)
                      ? 'black'
                      : 'red'
                  }">
                  {{ audit.createdBy }}
            </td>
            <td>{{ audit.updatedDate | date: 'MM/dd/yyyy h:mm a ' }}</td>
            <td [ngStyle]="{
                    color: getColorCodeForHistory(i, 'updatedBy', audit.updatedBy)
                      ? 'black'
                      : 'red'
                  }">
                  {{ audit.updatedBy }}
            </td>
            <td style="background-color: #fff !important; text-align: center;"><p style="width: 60px;"> <input type="checkbox" name="isDeleted" [(ngModel)]="audit.isDeleted" disabled></p></td>
          </tr>
        </tbody>
      </table>
      </div>
      <ng-template #noDatavailable>
        <div class="text-center">
          <img src="../../../assets/images/binoculars.png" class="no-history-found-image" />
          <h4 class="no-history-found-msg">No History Found</h4>
        </div>
      </ng-template>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="dismissModel()">
      Close
    </button>
  </div>
</ng-template>

<ng-template #view class="modal fade " id="view" role="dialog">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" (click)="dismissModel()" data-dismiss="modal" id="" name="">
        ×
      </button>
      <h4 class="modal-title">Details of Vendor Contact</h4>
      <div class="col-md-12 shadow-box-cstm">
        <div class="col-md-6">
          <p class="fs12">
            <label class="control-label labels-font-header wauto">Vendor Name:
            </label>
            <span class="span-header-red text-capital">
              {{ vendorCodeandName?.vendorName }}
            </span>
          </p>
        </div>
        <div class="col-md-6">
          <p class="fs12">
            <label class="control-label labels-font-header wauto">Vendor Code:
            </label>
            <span class="span-header-red text-capital">
              {{ vendorCodeandName?.vendorCode }}
            </span>
          </p>
        </div>
      </div>
    </div>
    <div class="modal-body viewform">
      <p>
        <span class="label"><b>Primary Contact: </b></span><span
          class="value">
          <div *ngIf="sourceVendorforView.isDefaultContact === true ">
            <input type="checkbox" name="isPrimary" checked disabled>                                   
        </div>

            <div *ngIf="sourceVendorforView.isDefaultContact === false ">
                <input type="checkbox" name="isPrimary" disabled>
            </div>
        </span>
      </p>
      <p>
        <span class="label"><b>Prefix: </b></span><span class="value">{{ sourceVendorforView.prefix }}</span>
      </p>
      <p>
        <span class="label"><b>First Name: <span class="clr-red">*</span> </b></span><span
          class="value">{{ sourceVendorforView.firstName }}</span>
      </p>
      <p>
        <span class="label"><b>Middle Name: </b></span><span class="value">{{ sourceVendorforView.middleName }}</span>
      </p>
      <p>
        <span class="label"><b>Last Name: <span class="clr-red">*</span> </b></span><span
          class="value">{{ sourceVendorforView.lastName }}</span>
      </p>
      <p>
        <span class="label"><b>Suffix: </b></span><span class="value">{{ sourceVendorforView.suffix }}</span>
      </p>
      <p>
        <span class="label"><b>Contact Title: </b></span><span
          class="value">{{ sourceVendorforView.contactTitle }}</span>
      </p>
      <p>
        <span class="label"><b>Work Phone: <span class="clr-red">*</span> </b></span><span class="value">
          {{ sourceVendorforView.workPhone }}
          <span *ngIf="sourceVendorforView.workPhoneExtn">-</span>
          {{ sourceVendorforView.workPhoneExtn }}
        </span>
      </p>
      <p>
        <span class="label"><b>Email: <span class="clr-red">*</span> </b></span><span
          class="value">{{ sourceVendorforView.email }}</span>
      </p>
      <p>
        <span class="label"><b>Tag: <span class="clr-red">*</span> </b></span><span
          class="value">{{ sourceVendorforView.tagName }}</span>
      </p>
      <p>
        <span class="label"><b>Attention: <span class="clr-red">*</span> </b></span><span
          class="value">{{ sourceVendorforView.attention }}</span>
      </p>
      <p>
        <span class="label"><b>Mobile Phone : </b></span><span
          class="value">{{ sourceVendorforView.mobilePhone }}</span>
      </p>
      <p>
        <span class="label"><b>Alternate Phone : </b></span><span
          class="value">{{ sourceVendorforView.alternatePhone }}</span>
      </p>
      <p>
        <span class="label"><b>Fax: </b></span><span class="value">{{ sourceVendorforView.fax }}</span>
      </p>
      <p>
        <span class="label"><b>Memo : </b></span><span class="value" [innerHTML]="sourceVendorforView.notes"> </span>
      </p>

      <div class="clear"></div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="dismissModel()">
        Close
      </button>
    </div>
  </div>
</ng-template>

<p-dialog header="Alert" [(visible)]="display" [modal]="true" [dismissableMask]="true" maximizedLeft="140px"
  maximizedTop="140px" [width]="350" [minWidth]="200" [responsive]="true" [minY]="1050" [baseZIndex]="1100000">
  <h5 [ngStyle]="{ color: 'red' }">
    Please Enter (*) Mandatory Fields
  </h5>
</p-dialog>

<div class="modal fade" id="addContactInfo" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">
          {{ isEditContactInfo ? 'Edit' : 'Add' }} Contact Details
        </h4>
        <div class="col-md-12 shadow-box-cstm">
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header wauto">Vendor Name:
              </label>
              <span class="span-header-red text-capital">
                  {{ vendorCodeandName?.vendorName }}
              </span>
            </p>
          </div>
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header wauto">Vendor Code:
              </label>
              <span class="span-header-red text-capital">
                {{ vendorCodeandName?.vendorCode }}
              </span>
            </p>
          </div>
        </div>
      </div>
      <form #addContactForm="ngForm" class="form-horizontal">
        <div class="modal-body">
          <div class="form-group">
            <div class="col-sm-12">
                <div class="col-sm-4">
                <label> Primary Contact </label>
                </div>
                <div class="col-sm-5">
                  <input type="checkbox" name="isDefaultContact" (ngModelChange)="enableSave()" [disabled]="sourceVendor.tempIsDefaultContact == true"
                    [(ngModel)]="sourceVendor.isDefaultContact" />
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Tag <span class="clr-red">*</span></label>
              </div>
              <div class="col-sm-5">
                <div class="inner-addon right-addon inline-block" style="width: 100%">
                  <p-autoComplete class="autocomp-customer-cstm" [(ngModel)]="sourceVendor.tagName"
                    (ngModelChange)="enableSave()" name="tagName" field="tagName" [suggestions]="tagNamesList"
                    (completeMethod)="filterTagNames($event)" [size]="30" [minLength]="1" [dropdown]="true"
                    [inputStyle]="{ width: '100%' }" [forceSelection]="true" required>
                  </p-autoComplete>
                </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Attention </label>
              </div>
              <div class="col-sm-5">
                <input class="form-control" type="text" name="attention" (ngModelChange)="enableSave()"
                  [(ngModel)]="sourceVendor.attention" />
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Prefix</label>
              </div>
              <div class="col-sm-5">
                <select name="preifx" [(ngModel)]="sourceVendor.prefix" (ngModelChange)="enableSave()">
                  <option value="Dr.">Dr.</option>
                  <option value="Mr.">Mr.</option>
                  <option value="Mrs.">Mrs.</option>
                  <option value="Ms.">Ms.</option>
                  <option value="None selected">None selected</option>
                </select>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>First Name <span class="clr-red">*</span></label>
              </div>
              <div class="col-sm-5">
                <div class="inner-addon right-addon inline-block" style="width: 100%">
                  <p-autoComplete class="autocomp-customer-cstm" [(ngModel)]="sourceVendor.firstName"
                    (ngModelChange)="enableSave()" name="firstName" field="firstName" [suggestions]="firstNamesList"
                    (completeMethod)="filterFirstNames($event)" [size]="30" [minLength]="1" [dropdown]="true"
                    [inputStyle]="{ width: '100%' }" required>
                  </p-autoComplete>
                </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Middle Name</label>
              </div>
              <div class="col-sm-5">
                <div class="inner-addon right-addon inline-block" style="width: 100%">
                  <p-autoComplete class="autocomp-customer-cstm" [(ngModel)]="sourceVendor.middleName"
                    (ngModelChange)="enableSave()" name="middleName" [suggestions]="middleNamesList" field="middleName"
                    (completeMethod)="filterMiddleNames($event)" [size]="30" [minLength]="1" [dropdown]="true"
                    [inputStyle]="{ width: '100%' }">
                  </p-autoComplete>
                </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Last Name <span class="clr-red">*</span></label>
              </div>
              <div class="col-sm-5">
                <div class="inner-addon right-addon inline-block" style="width: 100%">
                  <p-autoComplete class="autocomp-customer-cstm" [(ngModel)]="sourceVendor.lastName"
                    (ngModelChange)="enableSave()" name="lastName" [suggestions]="lastNamesList" field="lastName"
                    (completeMethod)="filterLastNames($event)" [size]="30" [minLength]="1" [dropdown]="true"
                    [inputStyle]="{ width: '100%' }" required>
                  </p-autoComplete>
                </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Suffix</label>
              </div>
              <div class="col-sm-5">
                <select name="suffix" [(ngModel)]="sourceVendor.suffix" (ngModelChange)="enableSave()">
                  <option value="II">II</option>
                  <option value="III">III</option>
                  <option value="Jr.">Jr.</option>
                  <option value="Sr.">Sr.</option>
                  <option value="None selected">None selected</option>
                </select>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Title</label>
              </div>
              <div class="col-sm-5">
                <input class="form-control" type="text" name="contactTitle" (ngModelChange)="enableSave()"
                  [(ngModel)]="sourceVendor.contactTitle" />
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Work Phone <span class="clr-red">*</span></label>
              </div>
              <div class="col-sm-5">
                <div>
                  <input class="form-control" type="text" minlength="6" maxlength="14" [pattern]="phonePattern"
                    (keypress)="patternMobilevalidationWithSpl($event)" (ngModelChange)="enableSave()" name="workPhone" #workPhone="ngModel"
                    [(ngModel)]="sourceVendor.workPhone" style="width: calc(100% - 63px) !important;" required />
                  -
                  <input class="form-control w50" type="text" pKeyFilter="pint" name="workPhoneExtn" (ngModelChange)="enableSave()"
                    [(ngModel)]="sourceVendor.workPhoneExtn" maxlength="15" />
                </div>
                <div *ngIf="workPhone.errors" [ngClass]="'error'">
                  <div *ngIf="workPhone.errors.pattern">
                    <span class="clr-red">Please enter atleast 6 digits</span>
                  </div>
                </div>
              </div>
            </div>
              <div class="col-sm-12">
                  <div class="col-sm-4">
                <label>Email <span class="clr-red">*</span></label>
                  </div>
                  <div class="col-sm-5">
                <input class="form-control" email type="text" name="email" (ngModelChange)="enableSave()"
                  [(ngModel)]="sourceVendor.email" #contactEmail="ngModel" [pattern]="emailPattern" required />
                  <div *ngIf="contactEmail.errors" [ngClass]="'error'">
                    <div *ngIf="contactEmail.errors.pattern">
                      <span class="clr-red">Email address is not valid</span>
                    </div>
                  </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Mobile Phone</label>
              </div>
              <div class="col-sm-5">
                <input class="form-control" type="text" minlength="10" maxlength="14" [pattern]="mobilePattern" (ngModelChange)="enableSave()"
                  (keypress)="patternMobilevalidationWithSpl($event)" name="mobilePhone" #mobilePhone="ngModel"
                  [(ngModel)]="sourceVendor.mobilePhone" />
                  <div *ngIf="mobilePhone.errors" [ngClass]="'error'">
                    <div *ngIf="mobilePhone.errors.pattern">
                      <span class="clr-red">Please enter atleast 10 digits</span>
                    </div>
                  </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Alternate Phone</label>
              </div>
              <div class="col-sm-5">
                <input class="form-control" type="text" minlength="6" maxlength="14" (ngModelChange)="enableSave()" [pattern]="phonePattern"
                  (keypress)="patternMobilevalidationWithSpl($event)" name="alternatePhone" #alternatePhone="ngModel"
                  [(ngModel)]="sourceVendor.alternatePhone" />
                  <div *ngIf="alternatePhone.errors" [ngClass]="'error'">
                    <div *ngIf="alternatePhone.errors.pattern">
                      <span class="clr-red">Please enter atleast 6 digits</span>
                    </div>
                  </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Fax</label>
              </div>
              <div class="col-sm-5">
                <input class="form-control" type="text" minlength="6" maxlength="14" (ngModelChange)="enableSave()" [pattern]="phonePattern"
                  (keypress)="patternMobilevalidationWithSpl($event)" name="fax" #fax="ngModel" [(ngModel)]="sourceVendor.fax" />
                  <div *ngIf="fax.errors" [ngClass]="'error'">
                    <div *ngIf="fax.errors.pattern">
                      <span class="clr-red">Please enter atleast 6 digits</span>
                    </div>
                  </div>
              </div>
            </div>
            <div class="col-sm-12">
              <div class="col-sm-4">
                <label>Memo</label>
              </div>
              <div class="col-sm-5">
                <!-- <textarea class="form-control" name="notes"
                 (ngModelChange)="enableSave()"
                  [(ngModel)]="sourceVendor.notes"></textarea> -->
                  <span>                    
                    <div class="form-group memo-popup-cstm mat_emo">
                      <div
                      (ngModelChange)="enableSave()"
                        [innerHTML]="sourceVendor.notes"
                        [matTooltip]="parsedText(sourceVendor.notes)"
                        matTooltipPosition="above"
                        class="form-control"
                        style="width: 100%;"
                        class="text_editor_box"
                      ></div>
                    </div>
                  </span>
              </div>
              <div class="col-sm-1">
                <span style="margin-left:-10px">
                  <a
                  class="btn nobg"
                  data-toggle="modal"
                  (ngModelChange)="enableSave()"
                  data-target="#memo-popup-Doc"
                  (click)="onClickMemo()"
                  matTooltip="Add Memo"
                  matTooltipPosition="above">
                  <i style="color: #337ab7" class="fa fa-pencil"></i>
                  </a>
                </span>
              </div>
            </div>           
          </div>
        </div>
        <div class="modal-footer"> 
          <button type="button" requirePermission="canAdd"
            *ngIf="!isEditContactInfo"
            class="btn btn-primary pull-right submit-btn" (click)="editItemAndCloseModel()" data-dismiss="modal"
            [disabled]="!addContactForm.valid">
            Save
          </button>
          <button type="button" requirePermission="canUpdate" *ngIf="isEditContactInfo" class="btn btn-primary pull-right submit-btn" (click)="editItemAndCloseModel()" data-dismiss="modal"
            [disabled]="!addContactForm.valid ||
            disableSave">
            Update
          </button>
          <button type="button" class="btn btn-danger" data-dismiss="modal">
            Close
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<div id="deleteoops" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">Alert !</h4>
        <div class="col-md-12 shadow-box-cstm">
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header wauto">Vendor Name:
              </label>
              <span class="span-header-red text-capital">
                {{ vendorCodeandName?.vendorName }}
              </span>
            </p>
          </div>
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header wauto">Vendor Code:
              </label>
              <span class="span-header-red text-capital">
                {{ vendorCodeandName?.vendorCode }}
              </span>
            </p>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <p>
          Primary Record Cannot be Deleted
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<div id="ATAADD" class="modal fade custom-popup" role="dialog" #ATAADD data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-full">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">×</button>
        <h4 class="modal-title">Add ATA Information</h4>

        <div class="col-md-12 shadow-box-cstm">
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header wauto">Vendor Name:
              </label>
              <span class="span-header-red text-capital">
                {{ vendorCodeandName?.vendorName }}
              </span>
            </p>
          </div>
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header wauto">Vendor Code:
              </label>
              <span class="span-header-red text-capital">
                {{ vendorCodeandName?.vendorCode }}
              </span>
            </p>
          </div>
        </div>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-row">
            <div class="modal-body">
              <form *ngIf="!isViewMode">
                <div class="form-row">
                  <div class="col-md-5">
                    <div class="form-group">
                      <div class="col-md-12">
                        <label class="popup-plusicon-cstm">
                          ATA Chapter
                        </label>
                      </div>
                      <div class="col-md-12 info_max">
                        <p-dropdown name="ataPopUp" placeholder="Select ATA Chapter"
                          class="p-dropdown-cus-fullwidth" 
                          [(ngModel)]="add_SelectedId"
                          (onChange)="getATASubChapterByATAChapter()"
                           [options]="add_ataChapterList"></p-dropdown>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-5">
                    <div class="form-group">
                      <label class="popup-plusicon-cstm" style="width: 170px !important;">
                        ATA Sub-Chapters
                      </label>
                      <p-multiSelect class="imstock-pmselect p-multi-aircraft-dash" 
                      [options]="add_ataSubChapterList" [disabled]="!add_SelectedId"
                        [(ngModel)]="add_SelectedModels" name="popUpATASubchapter" 
                        [panelStyle]="{ minWidth: '12em' }">
                      </p-multiSelect>
                    </div>
                  </div>

                  <div class="col-md-2"> 
                    <button style="margin-top: 20px;" type="button" class="btn btn-primary" [disabled]="!add_SelectedId" (click)="addATAMapping()">
                      Save
                    </button>
                  </div>
                </div>
              </form>
              <div class="checkbox-cstm" style="text-align: right !important; margin-right: 20 px !important;">
                <label style="width: auto !important; margin-right: 10px !important; margin-top: 3px;">
                  <input type="checkbox" [(ngModel)]="currentATADeletedstatus" name="ataDelete" id="ataDelete"  (click)="getATADeleteListByStatus($event.target.checked)"
                    />
                  <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                  Show  Deleted List 
                </label>
              </div>
              <p-table #ata [value]="ataListDataValues" [scrollable]="true" [style]="{ width: '100%' }"
                [paginator]="true" [pageLinks]="3" [columns]="ataHeaders" [rowsPerPageOptions]="[10, 20, 50, 100]"
                [rows]="pageSizeForATA" [resizableColumns]="true" [reorderableColumns]="true"
                (onPage)="pageIndexChangeForInt($event)">
                <ng-template pTemplate="header" let-columns>
                  <tr>
                    <th class="table-column-width" *ngFor="let col of ataHeaders">
                      {{ col.header }}
                    </th>
                    <th class="table-actions-column">Actions</th>
                  </tr>
                  <tr>
                    <th class="table-column-width" *ngFor="let col of columns" [ngSwitch]="col.field">
                      <input class="table-header-input-width" pInputText type="text" (input)="
                        ata.filter(
                          $event.target.value,
                          col.field,
                          'contains'
                        )" />
                    </th>
                    <th class="table-actions-column"></th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-i="rowIndex" let-rowData let-columns="columns">
                  <tr>
                    <td class="table-column-width" *ngFor="let col of ataHeaders">
                      {{ rowData[col.field] }}
                    </td>
                    <td class="action-icons-cstm table-column-width">
                      <div *ngIf="currentATADeletedstatus == false">

                          <span *ngIf="!isViewMode" data-toggle="modal" data-target="#editATAChapter"><a class="btn nobg"
                            (click)="editContactATAChapters(rowData)" matTooltip="Edit" matTooltipPosition="above"><i
                              class="fa fa-pencil"></i></a>
                        </span>

                        <button *ngIf="!isViewMode" class="btn btn-danger nobg" (click)="deleteATAMapped(deleteContent1, rowData)"
                          matTooltip="Delete" matTooltipPosition="above">
                          <i class="fa fa-trash"></i>
                        </button>
                        
                        <span data-toggle="modal" data-target="#contentATAChapterHist"><a class="btn nobg"
                            (click)="getATAAuditHistoryById(rowData)" matTooltip="History" matTooltipPosition="above"><i
                              class="fa fa-history"></i></a></span>
                      </div>

                      <div *ngIf="currentATADeletedstatus == true">
                        <span data-toggle="modal" data-target="#contentATAChapterHist"><a class="btn nobg"
                          (click)="getATAAuditHistoryById(rowData)" matTooltip="History" matTooltipPosition="above"><i
                            class="fa fa-history"></i></a></span>
                        <span *ngIf="isViewMode == false" ><a class="btn nobg" (click)="restoreATAMapped(restoreATAContent,rowData);" matTooltip="Restore Record"  matTooltipPosition="above"><i class="fa fa-undo" aria-hidden="true"></i></a> </span>
                      </div>
                    </td>
                  </tr>

                </ng-template>
                <ng-template pTemplate="emptymessage" let-columns *ngIf="ataListDataValues?.length == 0">
                  <tr>
                    <td [attr.colspan]="8" class="no-records-msg no-records-cstm">
                      No records found
                    </td>
                  </tr>
                </ng-template>
                <ng-template pTemplate="summary" id="footer">
                  <label id="footer" class="footer">Total:</label>
                  <input class="footer-input-width" [(ngModel)]="ata._totalRecords" pInputText name="noofrecordsata" type="text"
                    disabled />
                  &nbsp;&nbsp;
                  <label id="footer" class="footer1">Pages Count:</label>

                  <input class="footer-input-width" name="pagecountata"
                    [ngModel]="getPageCount(ata._totalRecords, pageSizeForATA)" pInputText type="text" disabled />
                </ng-template>
              </p-table>
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="resetfileds()">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="memo-popup-Doc" style="z-index: 15000 !important;"  role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close">
          &times;
        </button>
        <h4 class="modal-title">Edit Memo</h4>
      </div>
      <div class="modal-body">
        <!-- <table class="table table-bordered table-fixed workflow-table-material">
          <thead>
            <th style="color: #fff;">Memo</th>
          </thead>
          <tbody>
            <tr>
              <td style="white-space: inherit">
                <p-editor
                 spellcheck="true"
                 (ngModelChange)="enableSaveMemo()"
                  [(ngModel)]="memoPopupContent"
                  [style]="{ height: '320px' }"
                  name="memoPopupContent"
                  required
                ></p-editor>
              </td>
            </tr>
          </tbody>
        </table> -->
        <p-editor
        spellcheck="true"
        (ngModelChange)="enableSaveMemo()"
         [(ngModel)]="memoPopupContent"
         [style]="{ height: '320px' }"
         name="memoPopupContent"
         required
       ></p-editor>
        <div class="editor-buttons">
          <button
            type="button"
            class="btn btn-primary editor-buttons-margin"
            (click)="onClickPopupSave()" [disabled]="disableSaveMemo">
            Save
          </button>
          <button
            type="button"
            class="btn btn-danger editor-buttons-margin"
            (click)="closeMemoModel()" >
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
</div>


<div id="editATAChapter" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">Edit Contact ATA Chapters</h4>
      </div>
      <div class="modal-body" *ngIf="ataChapterEditData">
        <div class="card">
          <div class="form-row">
            <div class="col-md-4">
              <div class="form-group">
                <label class="fs12">
                  ATA Chapter
                </label>
                <select name="ataChapter" [(ngModel)]="ataChapterEditData.ataChapterId" (ngModelChange)="enableSaveATA()"
                  (change)="getATASubChapterByATAChapterID(ataChapterEditData.ataChapterId)">
                  <option value="">select</option>
                  <option *ngFor="let atalist of search_ataChapterList" [ngValue]="atalist.value">{{ atalist.label }}
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-group">
                <label label class="popup-plusicon-cstm" style="width: 170px !important;">
                  ATA Sub Chapters
                </label>
                <select name="ataSubChapter" [(ngModel)]="ataChapterEditData.ataSubChapterId" (ngModelChange)="enableSaveATA()">
                  <option value="">select</option>
                  <option *ngFor="let atasublist of search_ataSubChapterList" [ngValue]="atasublist.value">
                    {{ atasublist.label }}</option>
                </select>
              </div>
            </div>
            <div class="col-md-3">
              <div class="form-group">
                <button class="btn btn-primary" (click)="updateATAChapters()" disabled = '' data-dismiss="modal" [disabled]="disableSaveATA"
                  style="margin-top:20px;">
                  Update
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<ng-template #deleteContent1 let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Are You Sure Want to Delete?</h4>
    <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
      <span aria-hidden="true">&times;</span>
    </button>
    <div class="col-md-12 shadow-box-cstm">
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header wauto">Vendor Name:
          </label>
          <span class="span-header-red text-capital">
            {{ vendorCodeandName?.vendorName }}
          </span>
        </p>
      </div>
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header wauto">Vendor Code:
          </label>
          <span class="span-header-red text-capital">
            {{ vendorCodeandName?.vendorCode }}
          </span>
        </p>
      </div>
    </div>
    
  </div>
  <div class="modal-body">
    <strong>
      ATA Chapter:
      <span class="new-label">{{ selectedAtappedRowforDelete.ataChapterCode }} -
        {{ selectedAtappedRowforDelete.ataChapterName }}</span>
    </strong>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="deleteItemAndCloseModel1()">
      Yes
    </button>
    <button type="button" class="btn btn-danger" (click)="dismissModel()">
      No
    </button>
  </div>
</ng-template> 

<ng-template #restoreATAContent let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Are You Sure Want to Restore?</h4>
    <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
      <span aria-hidden="true">&times;</span>
    </button>
    <div class="col-md-12 shadow-box-cstm">
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header wauto">Vendor Name:
          </label>
          <span class="span-header-red text-capital">
            {{ vendorCodeandName?.vendorName }}
          </span>
        </p>
      </div>
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header wauto">Vendor Code:
          </label>
          <span class="span-header-red text-capital">
            {{ vendorCodeandName?.vendorCode }}
          </span>
        </p>
      </div>
    </div>
    
  </div>
  <div class="modal-body">
    <strong>
      AtaChapter Name:
      <span class="new-label">{{ selectedAtappedRowforRestore.ataChapterCode }} -
        {{ selectedAtappedRowforRestore.ataChapterName }}</span>
    </strong>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="restoreItemAndCloseModel()">
      Yes
    </button>
    <button type="button" class="btn btn-danger" (click)="dismissModel()">
      No
    </button>
  </div>
</ng-template> 

<div id="contentATAChapterHist" #contentATAChapterHist class="modal fade" role="dialog" data-backdrop="static"
  data-keyboard="false">
  <div class="modal-dialog modal-xl">
    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">History of ATA Chapter</h4>
        <div class="col-md-12 shadow-box-cstm">
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header wauto">Vendor Name:
              </label>
              <span class="span-header-red text-capital">
                {{ vendorCodeandName?.vendorName }}
              </span>
            </p>
          </div>
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header wauto">Vendor Code:
              </label>
              <span class="span-header-red text-capital">
                {{ vendorCodeandName?.vendorCode }}
              </span>
            </p>
          </div>
        </div>
      </div>
      <div class="modal-body" *ngIf="auditHistoryATA">
        <div class="table-responsive pas-table-cstm poro-table-cstm parts-list-table-align">
					<div class="tableFixHead">  
					<table class="table table-bordered header-table-width" *ngIf="auditHistoryATA.length > 0; else noDatavailable">
            <thead>
              <tr>
                <!-- <th>Contact</th> -->
                <th>ATA Chapter Code</th>
                <th>ATA Chapter Name</th>
                <th>ATA Sub Chapter</th>
                <th>ATA Sub Code</th>
                <th>Created Date</th>
                <th>Created By</th>
                <th>Updated Date</th>
                <th>Updated By</th>     
                <th>Is Deleted</th>        
              </tr>
            </thead>
            <tbody *ngIf="auditHistoryATA.length > 0">
              <tr *ngFor="let audit of auditHistoryATA; let i = index">

                <td [ngStyle]="{
                    color: getColorCodeForHistoryATA(
                      i,
                      'ataChapterCode',
                      audit.ataChapterCode
                    )
                      ? 'black'
                      : 'red'
                  }">
                  {{ audit.ataChapterCode }}
                </td>

                <td [ngStyle]="{
                    color: getColorCodeForHistoryATA(
                      i,
                      'ataChapterName',
                      audit.ataChapterName
                    )
                      ? 'black'
                      : 'red'
                  }">
                  {{ audit.ataChapterName }}
                </td>
                <td [ngStyle]="{
                    color: getColorCodeForHistoryATA(
                      i,
                      'ataSubChapterDescription',
                      audit.ataSubChapterDescription
                    )
                      ? 'black'
                      : 'red'
                  }">
                  {{ audit.ataSubChapterDescription }}
                </td>
                <td [ngStyle]="{
                    color: getColorCodeForHistoryATA(
                      i,
                      'ataSubChapterCode',
                      audit.ataSubChapterCode
                    )
                      ? 'black'
                      : 'red'
                  }">{{audit.ataSubChapterCode}}</td>
                <td>{{ audit.createdDate | date: 'dd-MM-yyyy h:mm a ' }}</td>
                <td [ngStyle]="{
                    color: getColorCodeForHistoryATA(
                      i,
                      'createdBy',
                      audit.createdBy
                    )
                      ? 'black'
                      : 'red'
                    }">{{audit.createdBy}}</td>
               
                <td>{{ audit.updatedDate | date: 'dd-MM-yyyy h:mm a ' }}</td>
                <td [ngStyle]="{
                    color: getColorCodeForHistoryATA(
                      i,
                      'updatedBy',
                      audit.updatedBy
                    )
                      ? 'black'
                      : 'red'
                    }">{{audit.updatedBy}}</td>
                  <td style="background-color: #fff !important; text-align: center;"><p style="width: 50px;"> <input type="checkbox" name="isDeleted" [(ngModel)]="audit.isDeleted" disabled></p></td>
              </tr>
            </tbody>
          </table>
          </div>
          <ng-template #noDatavailable>
            <div class="text-center">
              <h4 class="no-history-found-msg">No History Found</h4>
            </div>
          </ng-template>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>
<ng-template #restoreId let-c="close" let-d="dismiss" data-backdrop="static">    
  <div class="modal-header">
      <h4 class="modal-title">Are You Sure Want to Restore ?</h4>

      <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
          <span aria-hidden="true">&times;</span>
      </button>
      <div class="col-md-12 shadow-box-cstm">
        <div class="col-md-6">
          <p class="fs12">
            <label class="control-label labels-font-header wauto">Vendor Name:
            </label>
            <span class="span-header-red text-capital">
              {{ vendorCodeandName?.vendorName }}
            </span>
          </p>
        </div>
        <div class="col-md-6">
          <p class="fs12">
            <label class="control-label labels-font-header wauto">Vendor Code:
            </label>
            <span class="span-header-red text-capital">
              {{ vendorCodeandName?.vendorCode }}
            </span>
          </p>
        </div>
      </div>
  </div>
  <div class="modal-body">
      <strong>
          Contact Name:
          <span class="new-label">{{restorerecord.firstName}}</span>
      </strong>
  </div>
  <div class="modal-footer">
      <button type="button" class="btn btn-primary" (click)="restoreRecord()">Yes</button>
      <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
  </div>
</ng-template>  

<div class="preloader" *ngIf="isSpinnerVisible">
  <div class="loading">
      <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
  </div>
</div>