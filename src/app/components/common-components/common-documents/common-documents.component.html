<div class="right_col" role="main" style="padding: 2px 6px;">
  <div>
    <div>
      <!-- <div *ngIf="isViewMode == false">
        <div class="col-md-12 shadow-box-cstm">
          <div class="col-md-4">
            <p class="fs12">
              <label
                class="control-label labels-font-header"
                style="width: auto;"
                >Customer Name:
              </label>
              <span class="span-header-red" style="text-transform: capitalize">
                {{ customerName }}
              </span>
            </p>
          </div>
          <div class="col-md-4">
            <p class="fs12">
              <label
                class="control-label labels-font-header"
                style="width: auto;"
                >Customer Code:
              </label>
              <span class="span-header-red" style="text-transform: capitalize">
                {{ customerCode }}
              </span>
            </p>
          </div>
        </div>
      </div> --> 
      <div  style="padding: 10px;">
        <div class="card-header bg-primary new-card-header" >
          <div class="row">
            <div class="col">
              <h4 class="new-card-heading">  Documents List</h4>
            </div>
            <div>
              <a *ngIf="isViewMode == false" 
               data-toggle="modal" data-target="#addDocumentDetails">
                <button type="button" class="btn-sm new-btn-primary"  matTooltip="Add Documents" matTooltipPosition="above" (click)="addDocumentDetails();">
                  Add Documents
                </button>
              </a>              
            </div>
          </div>
        </div>
        <div class="clear"></div>
        <hr />        
        <div class="card-body new-card-body">
          <p-table
            #documents
            class="rpo-table-cstm"
            [value]="documentCollection"            
            [rows]="pageSize"
            [paginator]="true"
            [pageLinks]="3"
            [first]="0"
            [rowsPerPageOptions]="[10, 20,  50, 100]"
            [columns]="selectedColumns"
            selectionMode="multiple"
            [metaKeySelection]="true"
            [resizableColumns]="true"
            [reorderableColumns]="true"
            [scrollable]="true"
            (onPage)="pageIndexChange($event)"
            scrollHeight="450px"
          >
            <ng-template pTemplate="colgroup" let-columns>
              <colgroup>
                <col *ngFor="let col of columns" style="width:auto" />
              </colgroup>
            </ng-template>

            <ng-template pTemplate="caption" >
              <div class="row" *ngIf="isViewMode == false">
                <div class="col" >
                <p-multiSelect
                  [options]="DocumentsColumns"
                  [(ngModel)]="selectedColumns"
                  [ngModelOptions]="{ standalone: true }"
                  optionLabel="header"
                  selectedItemsLabel="{0} columns selected"
                  [style]="{ minWidth: '200px' }"
                  defaultLabel="Choose Columns"
                  style="float:left"
                ></p-multiSelect>
              </div>
              <div class="col" >
                <div
                  style="width: auto !important; float: right;"
                  class="inner-addon right-addon w50 inline-block g-filter-search-cstm"
                >
                  <i class="fa fa-search"></i>
                  <input
                    type="text"
                    pInputText
                    size="50"
                    class="form-control"
                    (input)="
                      documents.filterGlobal($event.target.value, 'contains')
                    "
                    placeholder=" Filter"
                    style="height: 28px !important;"
                  />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col" >
                <button *ngIf="isViewMode == false"
                  type="button"
                  class="btn btn-primary new-table-button"
                  pButton
                  icon="fa-download"
                  matTooltip="Download  Data"
                  matTooltipPosition="above"
                  iconPos="left"
                  label="Export  Data"
                  (click)="documents.exportCSV()"
                  style="padding: 5px 10px !important;"
                ></button>
                <button *ngIf="isViewMode == false"
                  type="button"
                  class="btn btn-primary new-table-button"
                  pButton
                  icon="fa-download"
                  matTooltip="Download Selected Data"
                  matTooltipPosition="above"
                  iconPos="left"
                  label="Export Selected Data"
                  (click)="documents.exportCSV({ selectionOnly: true })"
                  style="padding: 5px 10px !important;"
                ></button>
              </div>
              <div class="col" style="padding-right: 27px;">
                <div class="checkbox-cstm" style="margin-left: 0; text-align: right !important;">
                  <label style="width: auto !important;margin-top: 3px;">
                   <input type="checkbox" [(ngModel)]="currentDeletedstatus" name="cparent" id="cparent"  (click)="getDeleteListByStatus($event.target.checked)"/>
                   <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                     Show Deleted List 
                 </label>
               </div>
             </div>
            </div> 
          </ng-template>
          <div class="modal fade" id="downloadConfirmation" role="dialog" data-backdrop="static" data-keyboard="false">
            <div class="modal-dialog modal-sm">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" (click)="closeDeleteModal()">&times;</button>
                  <h4 class="modal-title">Are You Sure Want to Download?</h4>
                </div>
                <div class="modal-body" *ngIf="targetData">
                  <strong>
                    <span>
                      You are attempting to export {{targetData.totalRecords}} of records. 
                    </span> 
                  </strong>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-primary" (click)="(selectedOnly)?targetData.exportCSV({ selectionOnly: true }):exportCSV(targetData); closeDeleteModal();">Confirm</button>
                  <button type="button" class="btn btn-danger" (click)="closeDeleteModal()">Cancel</button>
                </div>
              </div>
            </div>
          </div>

            <ng-template pTemplate="header" let-columns>
              <tr>
                <ng-container *ngFor="let col of columns">
                  <th
                    *ngIf="col.field !== 'fileName' && col.field !== 'fileName' "
                    pResizableColumn
                    pReorderableColumn
                    [pSortableColumn]="col.field">
                    {{ col.header }}
                    <p-sortIcon [field]="col.field"></p-sortIcon>
                  </th>
                  <th *ngIf="col.field == 'fileName'">
                    File Name
                  </th>
                </ng-container>
                <th>Actions</th>
              </tr>
              <tr>
                <th
                  style="width:auto"
                  *ngFor="let col of columns"
                  [ngSwitch]="col.field"
                >
                  <input type="text" (input)="documents.filter($event.target.value,col.field,'contains')" *ngIf=" col.field != 'fileCreatedDate' && col.field != 'fileUpdatedDate'" style="width:100%;" pInputText >
                  <input type="date" data-date-format="MM/DD/YYYY" class="hidePlaceHolder" *ngIf="col.field == 'fileCreatedDate'" name="fileCreatedDate" style="width:120 px !important;" (change)="dateFilterForTable($event.target.value, col.field )"> 
                  <input type="date" data-date-format="MM/DD/YYYY" class="hidePlaceHolder" *ngIf="col.field == 'fileUpdatedDate'" name="fileUpdatedDate" style="width:120 px !important;" (change)="dateFilterForTable($event.target.value, col.field )">
                </th>
                <th></th>
              </tr>
            </ng-template>

            <ng-template pTemplate="body" let-rowData let-columns="columns">
              <tr
                [pSelectableRow]="rowData"
                [pSelectableRowDblClick]="rowData"
                (dblclick)="docviewdblclick(rowData)"
              >
                <ng-container *ngFor="let col of columns">
                    <td *ngIf="col.field != 'fileName' && col.field != 'docMemo'"
                        class="ui-resizable-column"
                        pReorderableRowHandle>
                        {{
                          col.field == 'createdDate'
                        ? (rowData[col.field] | date: 'MM/dd/yyyy  h:mm a')
                        : rowData[col.field] && col.field == 'updatedDate'
                        ? (rowData[col.field] | date: 'MM/dd/yyyy  h:mm a')
                        : rowData[col.field]
                        }}
                    </td>
                  <td *ngIf="col.field == 'docMemo'">
                      <p class="m-0 p-0 p_textEditor" style="float: left" [innerHTML]="rowData[col.field]"></p>
                  </td>
                  <td *ngIf="col.field == 'fileName'">
                    <tr *ngFor="let x of rowData.attachmentDetails">
                        <a class="filelink" (click)="downloadFile(x)"> {{x.fileName}},</a>
                    </tr>


                 
                    </td>
                </ng-container>

                <td class="text-center" *ngIf="isViewMode == false">
                  <div  *ngIf="currentDeletedstatus==true" >
                      <span>
                        <a 
                          class="btn btn-info boxed-float-btn nobg"
                          data-toggle="modal"
                          data-target="#docView"
                          (click)="openDocument(rowData)"
                          matTooltip="View"  matTooltipPosition="above"
                        >
                          <i class="fa fa-eye"></i>
                        </a>
                      </span>
                      <span><button class="btn nobg" data-toggle="modal" data-target="#contentAuditHist"
                        (click)="openHistory(rowData)"  [disabled]="rowData.attachmentId ==0"
                        matTooltip="History" matTooltipPosition="above"><i class="fa fa-history"></i></button>
                      </span>
                      <span *ngIf="isViewMode == false"><a class="btn nobg" (click)="restore(restoreId,rowData);" matTooltip="Restore Record"  matTooltipPosition="above"><i class="fa fa-undo" aria-hidden="true"></i></a> </span>
                  </div>
                  <div  *ngIf="currentDeletedstatus==false" >
                    <span>
                      <a
                        class="btn btn-info boxed-float-btn nobg"
                        data-toggle="modal"
                        data-target="#docView"
                        (click)="openDocument(rowData)"
                        matTooltip="View"  matTooltipPosition="above"
                      >
                        <i class="fa fa-eye"></i>
                      </a>
                    </span>
  
                    <span data-toggle="modal" *ngIf="isViewMode == false"
                    data-target="#addDocumentDetails">
                      <a class="btn nobg" 
                      (click)="openEdit(rowData)" matTooltip="Edit" 
                      matTooltipPosition="above"><i class="fa fa-pencil"></i></a> </span>
  
                    <span *ngIf="isViewMode == false"><a class="btn nobg"
                      (click)="openDelete(deleteContent, rowData); documents.reset()"
                      matTooltip="Delete" matTooltipPosition="above"><i class="fa fa-trash"></i></a> </span>
  
                      <span><button class="btn nobg" data-toggle="modal" data-target="#contentAuditHist"
                        (click)="openHistory(rowData)" [disabled]="rowData.attachmentId ==0"
                        matTooltip="History" matTooltipPosition="above"><i class="fa fa-history"></i></button></span>
                  </div>
                </td>
                <td class="text-center" *ngIf="isViewMode == true">
                  <span>
                    <a
                      class="btn btn-info boxed-float-btn nobg"
                      data-toggle="modal"
                      data-target="#docView"
                      (click)="openDocument(rowData)"
                      matTooltip="View"  matTooltipPosition="above"
                    >
                      <i class="fa fa-eye"></i>
                    </a>
                  </span>
                  <span><button class="btn nobg"data-toggle="modal" data-target="#contentAuditHist"
                    (click)="openHistory(rowData)" [disabled]="rowData.attachmentId ==0"
                    matTooltip="History" matTooltipPosition="above"><i class="fa fa-history"></i></button></span>
                </td>
              </tr>
            </ng-template>
            <ng-template
              pTemplate="emptymessage"
              let-columns
              *ngIf="commondocumentsDestructuredData.length == 0"
            >
              <tr>
                <td
                  [attr.colspan]="10"
                  *ngIf="isViewMode == false"
                  style="color: red; font-weight: bold; text-align: center"
                >
                  No records found
                </td>
                <td
                  [attr.colspan]="10"
                  *ngIf="isViewMode == true"
                  style="color: red; font-weight: bold; text-align: center"
                >
                  No records found
                </td>
              </tr>
            </ng-template>
            <ng-template pTemplate="summary" id="footer">
              <label id="footer" class="footer">Total:</label>
              <input
                style="width: 5%;"
                [(ngModel)]="documents._totalRecords" name="no'of records"
                [disabled]="true"
                pInputText
                type="text"
              />

              &nbsp;&nbsp;
              <label id="footer" class="footer1">Pages Count:</label>

              <input
                style="width: 5%;"
                [ngModel]="getPageCount(documents._totalRecords, pageSize)" name="page count"
                [disabled]="true"
                pInputText
                type="text"
              />
            </ng-template>
          </p-table>
        </div>
        <!-- <div style="margin-top:10px" >
          <button
            type="button"
            class="btn btn-primary pull-right submit-btn"
            (click)="onUploadDocumentListToServer()"
            *ngIf="isViewMode == false">
           Save
          </button>        
        </div> -->
      </div>
    </div>
  </div>
</div>
<ng-template
  #deleteContent id="deleteContent"
  let-c="close"
  let-d="dismiss"
  data-backdrop="static">
  <div class="modal-header">
    <h4 class="modal-title">Are You Sure Want to Delete?</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="dismissModeldelete()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
    <!-- <div class="col-md-12 shadow-box-cstm">
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header" style="width: auto;">Customer Name:
          </label>
          <span class="span-header-red" style="text-transform: capitalize">
            {{ customerName }}
          </span>
        </p>
      </div>
      <div class="col-md-6">
        <p class="fs12">
          <label class="control-label labels-font-header" style="width: auto;">Customer Code:
          </label>
          <span class="span-header-red" style="text-transform: capitalize">
            {{ customerCode }}
          </span>
        </p>
      </div>
    </div>  -->
  </div>

  <div class="modal-body">
    <!-- <strong>
      Document Name:
      <span class="new-label">{{ selectedRowForDelete.docName }}</span>
    </strong> -->
    <div class="form-row" >
      <div class="col-md-12" style="margin-right: 0px !important;">
          <label class="fs12">  Document Name: </label>
          <span class="new-label"> {{selectedRowForDelete.docName}}</span>
      </div>
      <!-- <div class="col-md-8" style="margin-right: 0px !important;">
          <label class="fs12">File Name  : </label>
          <span class="new-label"> {{selectedRowForDelete.fileName}}</span>

      </div> -->
      </div>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-primary"
      (click)="deleteItemAndCloseModel()">
      Yes
    </button>
    <button type="button" class="btn btn-danger" (click)="dismissModeldelete()">
      No
    </button>
  </div>
</ng-template>

<div id="docView" class="modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          &times;
        </button>
        <h4 class="modal-title">Details of  Document</h4>
        <!-- <div class="col-md-12 shadow-box-cstm">
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header" style="width: auto;">Customer Name:
              </label>
              <span class="span-header-red" style="text-transform: capitalize">
                {{ customerName }}
              </span>
            </p>
          </div>
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header" style="width: auto;">Customer Code:
              </label>
              <span class="span-header-red" style="text-transform: capitalize">
                {{ customerCode }}
              </span>
            </p>
          </div>
        </div>  -->
      </div>
      <div class="modal-body" *ngIf="sourceViewforDocument">
        <div class="col-sm-12">
          <p>
            <span class="label"
              ><b>Name<span class="clr-red">*</span> : </b></span
            ><span class="value">{{ sourceViewforDocument.docName }}</span>
          </p>
          <p>
            <span class="label"
              ><b>Description : </b></span
            ><span class="value">{{
              sourceViewforDocument.docDescription
            }}</span>
          </p>
          <p style="vertical-align: top;">
            <span class="label" style="vertical-align:top;"><b>Memo: </b></span>
            <span class="value">
          <p class="p-0 m-0 p_textEditor" [innerHTML]="sourceViewforDocument.docMemo">
          </p></span></p>
          <p><span class="label"><b>Created Date: </b></span><span class="value">{{sourceViewforDocument.createdDate | date: 'MM/dd/yyyy h:mm a '}}</span></p>
          <p><span class="label"><b>Created By: </b></span><span class="value">{{sourceViewforDocument.createdBy}}</span></p>
          <p><span class="label"><b>Updated Date: </b></span><span class="value">{{sourceViewforDocument.updatedDate | date: 'MM/dd/yyyy h:mm a '}}</span></p>
          <p><span class="label"><b>Updated By: </b></span><span class="value">{{sourceViewforDocument.updatedBy}}</span></p>
          <div class="mt-3">
            <h6 class="panel-title">Attachment Details:</h6>
            <p-table
              #dt
              class="table-responsive ptable-cus-pma"
              [paginator]="sourceViewforDocumentList.length > 0"
              [value]="sourceViewforDocumentList"
              [rows]="3"
              [columns]="sourceViewforDocumentListColumns"
            >
              <ng-template pTemplate="header" let-columns>
                <tr>
                  <th *ngFor="let col of columns">
                    {{ col.header }}
                  </th>
                  <th>
                    Download
                  </th>
                </tr>
                <tr>
                  <th
                    style="width:auto"
                    *ngFor="let col of columns"
                    [ngSwitch]="col.field"
                  >
                    <input
                      style="width:100%;"
                      pInputText
                      type="text"
                      (input)="
                        dt.filter($event.target.value, col.field, 'contains')
                      "
                    />
                  </th>
                  <th></th>
                </tr>
              </ng-template>
              <ng-template
                pTemplate="body"
                let-part
                let-rowData
                let-columns="columns"
                let-i="rowIndex"
              >
                <tr>
                  <td *ngFor="let col of columns">
                    <ng-container *ngIf="col.field == 'fileName'">
                      {{ part[col.field] }}
                    </ng-container>
                  </td>
                  <td class="text_c">
                    <button [disabled]="part.attachmentId==0"
                      (click)="downloadFile(part)"
                      matTooltip="Download"  matTooltipPosition="above"
                      class="downld"
                      ><span><i class="fa fa-download"></i></span
                    ></button>
                  </td>
                </tr>
              </ng-template>
              <ng-template
                pTemplate="emptymessage"
                let-columns
                *ngIf="sourceViewforDocumentList.length == 0"
              >
                <tr>
                  <td
                    [attr.colspan]="2"
                    style="color: red; font-weight: bold; text-align: center"
                  >
                    No records found
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
          <div class="clear"></div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<div
  class="modal fade"
  id="addDocumentDetails"
  role="dialog"
  data-backdrop="static"
  >
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button 
          type="button"
          class="close font_chck"
          (click)="closeMyModel('#addDocumentDetails')"
        >
          &times;
        </button>
        <h4 class="modal-title"> {{isEditButton ? 'Edit' : 'Add' }} Document Details</h4>
        <!-- <div class="col-md-12 shadow-box-cstm">
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header" style="width: auto;">Customer Name:
              </label>
              <span class="span-header-red" style="text-transform: capitalize">
                {{ customerName }}
              </span>
            </p>
          </div>
          <div class="col-md-6">
            <p class="fs12">
              <label class="control-label labels-font-header" style="width: auto;">Customer Code:
              </label>
              <span class="span-header-red" style="text-transform: capitalize">
                {{ customerCode }}
              </span>
            </p>
          </div>
        </div>  -->
      </div>
      <form #addDocumentForm="ngForm" class="form-horizontal">
        <div class="modal-body">
          <div class="form-row">
            <div class="col-md-6">
              <div class="form-group">
                <label>Name <span class="clr-red">*</span></label>
                <input
                  class="form-control"
                  type="text"
                  name="name"
                  [(ngModel)]="documentInformation.docName"
                  (ngModelChange)="enableSave()"
                  required
                />
              </div>
              <div class="form-group">
                <label>Description </label>
                <textarea
                  class="form-control"
                  name="description"
                  [(ngModel)]="documentInformation.docDescription"
                  (ngModelChange)="enableSave()"
                ></textarea>
              </div>
              <div class="form-group">
                <span class="label">Memo </span>
                <div class="col-sm-11">
                  <span>                    
                    <div class="form-group memo-popup-cstm mat_emo">
                      <div
                      (ngModelChange)="enableSave()"
                        [innerHTML]=" documentInformation.docMemo.trim()"
                        [matTooltip]="parsedText(documentInformation.docMemo)"
                        class="form-control"
                        style="width: 100%;"
                        class="text_editor_box"
                      ></div>
                    </div>
                  </span>
                </div>
                <div class="col-sm-1">
                  <span style="margin-left:-10px">
                    <a
                    class="btn nobg"
                    data-toggle="modal"
                    (ngModelChange)="enableSave()"
                    data-target="#memo-popup-Doc"
                    (click)="onClickMemo()"
                    matTooltip="Add Memo"
                    matTooltipPosition="above"><i class="fa fa-pencil"></i>
                    </a>
                  </span>
                </div>
              </div>
            </div>
            <!-- *ngIf="!isEditButton" -->
            <div class="col-md-12" >
              <div class="form-group">
                <label style="float: none;">Attachments <span class="clr-red" *ngIf="!isEditButton">*</span></label>
                <p-fileUpload 
                  #fileUploadInput
                  name="fileupload[]"
                  multiple="multiple"
                  [showCancelButton]="false"
                  [showUploadButton]="false"
                  customUpload="true"
                  (ngModelChange)="enableSave()"
                  (onSelect)="fileUpload($event)"
                  (onRemove)="removeFile($event)"
                ></p-fileUpload>
              </div> 
            </div>
            <div
              class="table-responsive table-overflow"
              *ngIf="isEditButton"
            >
              <h6 class="panel-title" style="padding-left: 10px;">
                Attachment Details:
              </h6>
              <!-- [paginator]="sourceViewforDocumentList.length > 0" -->
              <p-table
                class="table-responsive ptable-cus-pma"
                [value]="sourceViewforDocumentList"
                [rows]="3"
                [columns]="sourceViewforDocumentListColumns">
                <ng-template pTemplate="header" let-columns>
                  <tr>
                    <th *ngFor="let col of columns">
                      {{ col.header }}
                    </th>
                    <th>
                      Download
                    </th>
                  </tr>
                </ng-template>
                <ng-template
                  pTemplate="body"
                  let-part
                  let-rowData
                  let-columns="columns"
                  let-i="rowIndex">
                  <tr>
                    <td *ngFor="let col of columns">
                      <ng-container *ngIf="col.field == 'fileName'">
                        {{ part[col.field] }}
                      </ng-container>
                    </td>
                    <!-- <td class="text_c">
                      <button [disabled]="part.attachmentId ==0"
                        (click)="downloadFile(part)"
                        matTooltip="Download"  matTooltipPosition="above"
                        class="downld"
                        ><span><i class="fa fa-download"></i></span
                      ></button>
                    </td> -->
                    <td class="text_c">
                      <a (click)="downloadFile(part)" matTooltip="Download" matTooltipPosition="above" class="btn nobg btn-cstm"><span><i class="fa fa-download"></i></span></a>
                      <!-- <span>
                          <a class="btn nobg"
                             (click)="openDeletes(content,rowData)"
                             matTooltip="Delete" matTooltipPosition="above">
                              <i class="fa fa-trash"></i>
                          </a>
                      </span> -->

                  </td>
                  </tr>
                </ng-template>
                <ng-template
                  pTemplate="emptymessage"
                  let-columns
                  *ngIf="sourceViewforDocumentList.length == 0"
                >
                  <tr>
                    <td
                      [attr.colspan]="2"
                      style="color: red; font-weight: bold; text-align: center"
                    >
                      No records found
                    </td>
                  </tr>
                </ng-template>
              </p-table>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            *ngIf="!isEditButton"
            class="btn btn-primary pull-right submit-btn"
            style="text-align:center"
            (click)="saveDocumentInformation()"
            [disabled]="!addDocumentForm.valid || disableSave"
          >
            Save
          </button>
          <button
            type="button"
            *ngIf="isEditButton"
            class="btn btn-primary pull-right submit-btn"
            style="text-align:center"
            (click)="saveDocumentInformation()"
            [disabled]="!addDocumentForm.valid || disableSave"
          >
            Update
          </button>
          <button
            type="button"
            class="btn btn-danger"
            (click)="dismissDocumentPopupModel(); closeMyModel('#addDocumentDetails')"
          >
            Close
          </button>
        </div>
      </form>
    </div>
  </div>
  <div class="modal fade" id="memo-popup-Doc" style="z-index: 15000 !important;"  role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close">
            &times;
          </button>
          <h4 class="modal-title">Edit Memo</h4>
        </div>
        <div class="modal-body">
          <table class="table table-bordered table-fixed workflow-table-material">
            <thead>
              <th style="color: #fff;">Memo</th>
            </thead>
            <tbody>
              <tr>
                <td style="white-space: inherit">
                  <p-editor
                   spellcheck="true"
                    [(ngModel)]="memoPopupContent"
                    [style]="{ height: '320px' }"
                    name="memoPopupContent"
                    required
                  ></p-editor>
                </td>
              </tr>
            </tbody>
          </table>
          <div style="float: right;">
            <button
              type="button"
              class="btn btn-primary"
              style="padding: 6px 12px !important; margin-top: 10px;"
              (click)="onClickPopupSave()">
              Save
            </button>
            <button
              type="button"
              class="btn btn-danger"
              style="padding: 6px 12px !important; margin-top: 10px;"
              (click)="closeMemoModel()" >
              Close
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div  id="contentAuditHist" #contentAuditHist class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-xlg">
      <div class="modal-content">
          <div class="modal-header">

              <h4 class="modal-title">History of  Documents</h4>
              <button type="button" class="close" aria-label="Close" (click)="dismissModelHistory()">
                  <span aria-hidden="true">&times;</span>
              </button>
      
      
          </div>
          <div class="modal-body">
              <!-- <div class="col-md-12 shadow-box-cstm">
                  <div class="col-md-4">
                      <p class="fs12">
                          <label class="control-label labels-font-header"
                           style="width: auto;">Legal Entity Name: </label>
                          <span class="span-header-red"
                           style="text-transform: capitalize"> {{legalEntityName }}
                           </span>
                      </p>
                  </div>
                  <div class="col-md-4">
                      <p class="fs12">
                          <label class="control-label labels-font-header"
                           style="width: auto;">Company Code: </label>
                          <span class="span-header-red" 
                          style="text-transform: capitalize"> {{legalEntityCode }} 
                      </span>
                      </p>
                  </div>
              </div> -->
              <div class="table-responsive history_hg">
                  <table class="table table-bordered">
                      <thead>
                          <tr>
                              <th>Name <span class="clr-red">*</span></th>
                              <th>Description</th>
                              <th>Memo</th>
                              <th>File Name <span class="clr-red">*</span></th>
                              <th>Created Date</th>
                              <th>Created By</th>
                              <th> Updated Date</th>
                              <th>Updated By</th>
                              <th>Is Deleted</th>
      
      
                          </tr>
                      </thead>
                      <tbody>
                          <!-- <tr *ngIf="documentauditHisory && documentauditHisory.length !=0"> -->
                          <tr *ngFor="let audit of documentauditHisory; let i = index;">
                              <td [ngStyle]="{'color':  getColorCodeForHistory(i, 'docName', audit.docName)  ? 'black' : 'red'  }">{{audit.docName}}</td>
                              <td [ngStyle]="{'color': getColorCodeForHistory(i, 'docDescription', audit.docDescription)  ? 'black' : 'red'  }">{{audit.docDescription}}</td>
                              <td [ngStyle]="{'color': getColorCodeForHistory(i, 'docMemo', audit.docMemo)  ? 'black' : 'red'  }">
                                  <p [innerHTML]="audit.docMemo"></p>
                              </td>
                              <td [ngStyle]="{'color': getColorCodeForHistory(i, 'fileName', audit.fileName)  ? 'black' : 'red'  }">{{audit.fileName}}</td>
      
                              <td>{{audit.createdDate | date: 'MM/dd/yyyy h:mm a '}}</td>
                              <td>{{audit.createdBy}}</td>
                              <td>{{audit.updatedDate | date: 'MM/dd/yyyy h:mm a '}}</td>
                              <td>{{audit.updatedBy}}</td>
                              <td style="text-align: center;">
                                  <span class="value">
                                    <label class="wauto">
                                        <input type="checkbox" name="isDeleted" [checked]="audit.isDeleted == true" disabled>
                                    </label>
                                  </span>
                                </td>
                          </tr>

                      </tbody>
      
                  </table>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-danger" (click)="dismissModelHistory()">Close</button>
          </div>
      </div>

  </div>
</div>
<ng-template #restoreId  id="restoreId" let-c="close" let-d="dismiss" data-backdrop="static">
    
  <div class="modal-header">
      <h4 class="modal-title">Are You Sure Want to Restore ?</h4>

      <button type="button" class="close" aria-label="Close" (click)="dismissModelRestore()">
          <span aria-hidden="true">&times;</span>
      </button>
      <!-- <div class="col-md-12 shadow-box-cstm">
          <div class="col-md-6">
              <p class="fs12">
                  <label class="control-label labels-font-header" style="width: auto;">
                      Customer Name:
                  </label>
                  <span class="span-header-red" style="text-transform: capitalize">
                      {{ customerName }}
                  </span>
              </p>
          </div>
          <div class="col-md-6">
              <p class="fs12">
                  <label class="control-label labels-font-header" style="width: auto;">
                      Customer Code:
                  </label>
                  <span class="span-header-red" style="text-transform: capitalize">
                      {{ customerCode }}
                  </span>
              </p>
          </div>
      </div> -->
  </div>
<div class="modal-body">
    <strong>
      Document Name:
        <span class="new-label">{{restorerecord.docName}}</span>
    </strong>
</div>
<div class="modal-footer">
    <button type="button" class="btn btn-primary" (click)="restoreRecord()">Yes</button>
    <button type="button" class="btn btn-danger" (click)="dismissModelRestore()">No</button>
</div>
</ng-template>  
<div class="preloader" *ngIf="isSpinnerVisible">
  <div class="loading">
    <div class="lds-roller">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</div>
