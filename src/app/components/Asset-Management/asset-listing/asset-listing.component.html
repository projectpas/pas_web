<div *ngIf="!isWorkOrder">
    <div class="x_content">
        <!-- <nav aria-label="breadcrumb">
            <ol class="breadcrumb rpo-bcrumb" style="background-color: transparent;">
                <li class="breadcrumb-item active" aria-current="page">Asset</li>
                <li class="breadcrumb-item" aria-current="page">Asset List</li>
            </ol>
        </nav> -->
        <p-breadcrumb [model]="breadcrumbs" [home]="home"></p-breadcrumb>
                        <div class="card new-card">
                            <div class="card-header bg-primary new-card-header">
                              <div class="row">
                                <div class="col">
                                  <h4 class="new-card-heading">Asset List</h4>
                                </div>
                                <div>
                                  <button
                                    type="button"
                                    class="btn-sm new-btn-primary"
                                    (click)="navigateTogeneralInfo()">
                                  Add Asset
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div class="card-body new-card-body"> 
                        <p-table #dt class="rpo-table-cstm rro-table-cstm" [value]="allAssetInfo" 
                                 [metaKeySelection]="true" [(first)]="pageNumber" [rows]="pageSize" [paginator]="true"
                                  [pageLinks]="3" [rowsPerPageOptions]="[10,20,50,100]" [columns]="selectedColumns"
                                 selectionMode="multiple" [(selection)]="selectedRows" [resizableColumns]="true" [reorderableColumns]="true"
                                 [scrollable]="true" [totalRecords]="totalRecords" scrollHeight="450px" (onLazyLoad)="publicationPagination($event)" [lazy]="true">
                            <ng-template pTemplate="caption">
                                <div class="row">
                                    <div class="col">
                                        <p-multiSelect [maxSelectedLabels]="2" [options]="cols" optionLabel="header"
                                        [(ngModel)]="selectedColumns" [style]="{minWidth: '200px'}" style="float:left"
                                        selectedItemsLabel="{0} columns selected" defaultLabel="Choose Columns">
                         </p-multiSelect>
                        </div>
                        <div class="col">
                          <div
                            style="width: auto !important; float: right;"
                            class="inner-addon right-addon w50 inline-block g-filter-search-cstm">
                            <i class="fa fa-search"></i>
                            <input type="text" pInputText size="50"
                                               class="form-control"
                                               (input)="dt.filterGlobal($event.target.value, 'contains')"
                                               placeholder="Filter"/>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                              <div class="col">
                                <button type="button" class="btn btn-primary new-table-button" matTooltip="Download Data"
                                matTooltipPosition="above" pButton icon="fa-download" style="padding: 5px 12px !important;" iconPos="left"
                                label="Export All Data"  data-toggle="modal"
                                (click)="selectedOnly = false; targetData = dt;" 
                                data-target="#downloadConfirmation"></button>
                        <button type="button" class="btn btn-primary new-table-button" matTooltip="Download Selected Data"
                                matTooltipPosition="above" matTooltip="Download Selected Data"
                                matTooltipPosition="above" style="padding: 5px 12px !important;" pButton icon="fa-download" iconPos="left"
                                label="Export Selected Data"
                                (click)="dt.exportCSV({selectionOnly:true})"
                               ></button>
                               <!-- data-toggle="modal"
                               data-target="#downloadConfirmation"
                               (click)="selectedOnly = true; targetData = dt;" -->
                    </div>
                    <div class="col">
                        <div class="">
                          <div
                            class="col"
                            style="width: 400px; float: right; padding-top: 3px;"
                          >
                            <div class="form-group">
                                <div
                                class="pull-left"
                                style="margin-top: 4px; margin-right: 15px;"
                              >
                              <label class="radio-cstm wauto">
                                <input type="radio" name="EmpStatus" class="form-control" value="Active" (click)="geListByStatus('Active')" [(ngModel)]="currentstatus">
                                <span class="checkmark"></span>Active
                            </label>
                        </div>
                        <div class="pull-left" style="margin-top: 4px; margin-right: 15px;">
                            <label class="radio-cstm wauto">
                                <input type="radio" name="EmpStatus" class="form-control" value="InActive" (click)="geListByStatus('InActive')" [(ngModel)]="currentstatus">
                                <span class="checkmark"></span>In-Active
                            </label>
                        </div>
                        <div class="pull-left" style="margin-top: 4px; margin-right: 15px;">
                            <label class="radio-cstm wauto">
                                <input type="radio" name="EmpStatus" class="form-control" value="ALL" (click)="geListByStatus('ALL')" [(ngModel)]="currentstatus">
                                <span class="checkmark"></span>All
                            </label>
                        </div>
                        <div class="checkbox-cstm" style="margin-left: 0;">
                            <label style="width: auto !important;margin-top: 3px;">
                 
                                <input type="checkbox" [(ngModel)]="currentDeletedstatus" name="cparent" id="cparent"  (click)="getDeleteListByStatus($event.target.checked)"
                                />
                              <span class="cr"><i class="cr-icon pi pi-check"></i></span>
                            Show  Deleted List 
                            </label>
                          </div>
                        </div> 
                    </div>
                </div>
              </div>
              </div> 
                            </ng-template>
                            <ng-template pTemplate="colgroup" let-columns>
                                <colgroup>
                                    <col *ngFor="let col of columns" style="width:140px">
                                </colgroup>
                            </ng-template>
                            <ng-template pTemplate="header" let-columns style="padding-top: 1% !important">
                                <tr>
                                    <ng-container *ngFor="let col of columns">
                                        <th class="text-center"
                                            *ngIf="col.field!='companyName' && col.field!='buName' && col.field!='deptName' && col.field!='divName'"
                                            pResizableColumn pReorderableColumn [pSortableColumn]="col.field">
                                            {{col.header}}
                                            <p-sortIcon [field]="col.field"></p-sortIcon>
                                        </th>
                                        <th class="text-center" *ngIf="col.field=='companyName'" colspan="4"
                                            pResizableColumn pReorderableColumn [pSortableColumn]="col.field">
                                            Management Structure
                                        </th>
                                    </ng-container>
                                    <th style="width:150px;position: sticky;" *ngIf="selectedColumns.length> 0">
                                        Actions
                                    </th>
                                </tr>
                                <tr>
                                    <th style="width:auto" *ngFor="let col of columns" [ngSwitch]="col.field">
                                        <!--  -->
                                        <input  style="width:100%;" *ngIf="col.field != 'createdDate' && col.field != 'updatedDate'" pInputText type="text" (input)="dt.filter($event.target.value, col.field,'contains')">
                                               <!-- <input type="date" class="hidePlaceHolder"
                                              name="createdDate"
                                               style="width:100%;"
                                               (change)="dateFilterForTableList($event.target.value, col.field )"> -->
                                        <!-- <input type="date" class="hidePlaceHolder"
                                               *ngIf="col.field == 'updatedDate'" name="updatedDate"
                                               style="width:100%;"
                                               (change)="dateFilterForTableList($event.target.value, col.field )"> -->

                                               <input type="date"   style="width:100%" class="hidePlaceHolder" *ngIf="col.field == 'createdDate'"
                                               name="createdDate"  (change)="dateFilterForTable($event.target.value, col.field)" />
 <input type="date" style="width:100%"  class="hidePlaceHolder" *ngIf="col.field == 'updatedDate'"   name="updatedDate"
                            (change)="dateFilterForTable($event.target.value,col.field)" />
                                    </th>
                                    <th style="width:150px;position: sticky"></th>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="body" let-rowData let-columns="columns" let-asset let-rowIndex="rowIndex">
                                <tr [pSelectableRow]="rowData" pReorderableRowHandle
                                    (dblclick)="openView(view,rowData)">

                                    <td style="width:auto" *ngFor="let col of columns" class="ui-resizable-column"
                                        pReorderableRowHandle>
                                         <ng-container *ngIf="col.field !='calibrationRequiredNew' && col.field!='isSerializedNew'">
                                            {{
                                                col.field == 'createdDate'
                                                  ? (rowData[col.field] | date: 'MM/dd/yyyy h:mm a')
                                                  : rowData[col.field] && col.field == 'updatedDate'
                                                  ? (rowData[col.field] | date: 'MM/dd/yyyy h:mm a')
                                                  : rowData[col.field] 
                                              }}
                                        </ng-container>
                                        <ng-container *ngIf="col.field =='calibrationRequiredNew' || col.field =='isSerializedNew'">
                                            <input type="checkbox" disabled [checked]="rowData[col.field] == 'Yes'"
                                                   style="margin: 0px auto; display: block;" />
                                        </ng-container>
                                    </td> 
                                    
                                    <td class="action-icons-cstm" style="width:150px" *ngIf="selectedColumns.length> 0">
                                        <div *ngIf="currentDeletedstatus==false">
                                         <p-inputSwitch [(ngModel)]="rowData['isActive']" name="isActive{{ rowIndex }}"   matTooltip="{{rowData['isActive'] ? 'Active': 'In Active'}}"
                                                           matTooltipPosition="above" (onChange)="toggleIsActive(rowData,$event)"></p-inputSwitch> 
                                                           <!-- (onChange)="openView(view,rowData)" -->
                                                           <span > 
                                                <a class="btn nobg btn-view-cstm"
                                                   (click)="openView(view,rowData)" matTooltip="View" matTooltipPosition="above">
                                                    <i class="fa fa-eye"></i>
                                                </a> 
                                            </span>
                                            <span>
                                                <a class="btn nobg btn-edit-cstm" (click)="openAssetToEdit(rowData)"
                                                   matTooltip="Edit" matTooltipPosition="above"><i class="fa fa-pencil"></i></a>
                                            </span>
                                          <span>
                                                <a class="btn nobg btn-delete-cstm"
                                                   (click)="openHistory(history,rowData)" matTooltip="History" matTooltipPosition="above">
                                                    <i class="fa fa-history"></i>
                                                </a>
                                            </span>
                                            <span>
                                                <a class="btn nobg btn-delete-cstm"
                                                   (click)="openDelete(content,rowData)" matTooltip="Delete" matTooltipPosition="above">
                                                    <i class="fa fa-trash"></i>
                                                </a> 
                                            </span>

                                        </div>
                                        <div *ngIf="currentDeletedstatus==true">
                                            <p-inputSwitch [(ngModel)]="rowData['isActive']" [disabled]="true" name="isActive{{ rowIndex }}"   matTooltip="{{rowData['isActive'] ? 'Active': 'In Active'}}"
                                            matTooltipPosition="above" (onChange)="changeStatus(rowData)"></p-inputSwitch> 
                                            <span data-toggle="modal" data-target="#view">
                                                <a class="btn nobg btn-view-cstm" (onChange)="openView(view,rowData)"
                                                   (click)="openView(view,rowData)" matTooltip="View" matTooltipPosition="above">
                                                    <i class="fa fa-eye"></i>
                                                </a> 
                                            </span>
                                          <span ><a class="btn nobg" (click)="restore(restoreId,rowData);"  matTooltip="Restore Record"  matTooltipPosition="above"><i class="fa fa-undo" aria-hidden="true"></i></a> </span>
                                          <span>
                                            <a class="btn nobg btn-delete-cstm"
                                               (click)="openHistory(history,rowData)" matTooltip="History" matTooltipPosition="above">
                                                <i class="fa fa-history"></i>
                                            </a>
                                        </span>
                                        </div> 
                                       </td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="emptymessage" let-columns>
                                <tr>
                                    <td colspan="18" style="color: red; font-weight: bold; text-align: center">
                                        No records found
                                    </td>
                                </tr>
                            </ng-template>
                            <ng-template pTemplate="summary" id="footer">
                                <div style="text-align: right;">
                                    <label id="footer" class="footer">Total:</label>
                                    <input style="width: 5%;" [(ngModel)]="totalRecords" [disabled]="true" pInputText
                                           type="text" /> &nbsp;&nbsp;
                                    <label id="footer" class="footer1">Pages Count:</label>
                                    <input style="width: 5%;" [(ngModel)]="totalPages" [disabled]="true" pInputText
                                           type="text" />
                                </div>
                            </ng-template>
                        </p-table>
            </div>
        </div>
        </div>
    </div> 
    <ng-template #view class="modal fade assetMange" id="view" role="dialog"> 
        <div class="modal-content ">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" (click)="dismissModel()">×</button>
                <h4 class="modal-title">Details of Asset: <span>"{{assetViewList.assetId}}"</span></h4>
            </div>
            <div class="modal-body viewform">
                <div class="preloader" *ngIf="isSpinnerVisibleView">
                    <div class="loading">
                        <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
                    </div>
                </div>
                <div id="adminsearchlocationajax" class="table-responsive default-bg clear">
                    <div class="panel-group" id="accordion">
                        <div class="panel panel-default">
                            <div class="form-row" style="width: 100%;">
                                <div class="col-md-12 shadow-box-cstm" style="margin-left: 8px;max-width: 99.2%">
                                    <div class="col-md-3">
                                        <p class="fs12">
                                            <span class="control-label labels-font-header">Asset ID : </span>
                                            <span class="span-header-red pl-1" style="text-transform: capitalize;">{{ assetViewList.assetId }}</span>
                                        </p>
                                    </div>
                                    <div class="col-md-3">
                                        <p class="fs12">
                                            <span class="control-label labels-font-header">Asset Name : </span>
                                            <span class="span-header-red pl-1" style="text-transform: capitalize; ">{{ assetViewList.name }}</span>
                                        </p>
                                    </div>
                                    <div class="col-md-3">
                                        <p class="fs12">
                                            <span class="control-label labels-font-header">Alt Asset ID : </span>
                                            <span class="span-header-red pl-1" style="text-transform: capitalize">{{ assetViewList.alternateAssetName }}</span>
                                        </p>
                                    </div>
                                    <div class="col-md-3">
                                        <p class="fs12">
                                            <span class="control-label labels-font-header">Asset Class/Attribute: </span>
                                            <span class="span-header-red pl-1" style="text-transform: capitalize">{{ assetViewList.assetAttributeType }}</span>
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="table-responsive default-bg clear">
                                <div class="col-sm-6">
                                    <button type="button" class="btn btn-primary" (click)="openAllCollapse()">
                                        Open
                                        All
                                    </button>
                                    <button type="button" class="btn btn-secondary" (click)="closeAllCollapse()">
                                        Close
                                        All
                                    </button>    
                                </div>
                                <div class="col-sm-6" style="text-align-last: end; padding-right: 2%;">
                                    <button type="button" name="isActive" [ngClass]="assetViewList.isActive ? 'btn btn-success' : 'btn btn-danger'" disabled>
                                        <span class="value">{{assetViewList.isActive ? 'Active' : 'In-Active'}}</span>
                                     </button> 
                                </div>
                            </div>


                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="" data-toggle="collapse" href="#step1" aria-expanded="true">
                                        General
                                        Information
                                    </a>
                                </h4>
                            </div>
                            <div id="step1" class="panel-collapse collapse in show">
                                <div class="panel-body">
                                    <div class="col-sm-6">
                                        <div>
                                            <label class="radio-inline pointerEv" style="text-align: start;">
                                                <input type="radio" value="1" name="assetRadio" class="form-check-inline"
                                                    [checked]="assetViewList.isTangible == true"
                                                   >
                                                Tangible
                                            </label>
                                            <label class="radio-inline pointerEv">
                                                <input type="radio" value="2" name="assetRadio"
                                                    [checked]="assetViewList.isIntangible == true">
                                                Intangible
                                            </label>

                                            <label class="radio-inline pointerEv" *ngIf="assetViewList.isTangible==true" style="width: 150px;">
                                                <input type="radio" value="1" name="assetRadio1" class="form-check-inline"
                                                    [checked]="assetViewList.isdepreciable == true"
                                                   >
                                                   Depreciable
                                            </label>
                                            <label class="radio-inline pointerEv" *ngIf="assetViewList.isTangible==true" style="width: 120px;">
                                                <input type="radio" value="2" name="assetRadio1"
                                                    [checked]="assetViewList.isNonDepreciable == true">
                                                    Non-Depreciable
                                            </label>
                                            <label class="radio-inline pointerEv" *ngIf="assetViewList.isIntangible==true" style="width: 150px;">
                                                <input type="radio" value="1" name="assetRadio2" class="form-check-inline"
                                                    [checked]="assetViewList.isAmortizable == true"
                                                   >
                                                   Amortizable
                                            </label>
                                            <label class="radio-inline pointerEv" *ngIf="assetViewList.isIntangible==true" style="width: 120px;">
                                                <input type="radio" value="2" name="assetRadio2"
                                                    [checked]="assetViewList.isNonAmortizable == true">
                                                    Non-Amortizable
                                            </label>
                                        </div>
                                        <p> 
                                            <!-- <span class="label"><b>Tangible/Intangible: </b></span><span class="value">{{assetViewList.depreOrIntang}}</span> -->
                                        </p>
                                        <p>
                                            <span class="label"><b>Entry Date: </b></span><span class="value">{{assetViewList.entryDate | date: 'MM/dd/yyyy  h:mm a'}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Asset ID: <span class="text-danger">*</span></b></span><span class="value">{{assetViewList.assetId}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Asset Name: <span class="text-danger">*</span></b></span><span class="value">
                                                {{assetViewList.name}}
                                            </span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Asset Description: </b></span><span class="value">{{assetViewList.description}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Alt Asset ID: </b></span><span class="value">{{assetViewList.alternateAssetName}}</span>
                                        </p>
                                        <div *ngIf="assetViewList.isIntangible==false">
                                        <p>
                                            <span class="label"><b>Acquisition Type: <span class="text-danger">*</span></b></span><span class="value">{{assetViewList.assetAquisitionType}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Manufacturer: </b></span><span class="value">
                                                {{assetViewList.manufacturer}}
                                            </span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Manufactured Date: </b></span><span class="value">{{assetViewList.manufacturedDate | date: 'MM/dd/yyyy'}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Expiration Date: </b></span><span class="value">{{assetViewList.expirationDate | date: 'MM/dd/yyyy'}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Model Number: </b></span><span class="value">{{assetViewList.model}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Serialized: </b></span>
                                            <span class="value">
                                                <input type="checkbox" disabled [checked]="assetViewList.isSerialized==true">
                                            </span>
                                        </p>
                                        <p>
                                            <span class="label"><b>UOM: <span class="text-danger">*</span> </b></span><span class="value">{{assetViewList.unitOfMeasureName}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Currency:  <span class="text-danger">*</span></b></span><span class="value">{{assetViewList.currency}}</span>
                                        </p>
                                        <p>
                                            <span class="label"><b>Unit Cost: </b></span><span class="value">{{assetViewList.unitCost}}</span>
                                        </p>
                                       
                                        <p *ngIf="assetViewList.isIntangible==false">
                                            <span class="label"><b>Asset Location: </b></span><span class="value">{{assetViewList.assetLocationName}}</span> 
                                        </p>
                                       
                                        <div style="display: inline-flex;width: 100%;" *ngIf="assetViewList.isIntangible==false">
                                            <div style=" width: 30.2%;" class="label">
                                                <p>
                                                    <span ><b>Memo: </b></span>
                                                </p>
                                            </div>
                                            <div [innerHTML]="assetViewList.memo"   matTooltipPosition="above"  [matTooltip]="parsedText(assetViewList.memo)" class="value" style="font-size: 11.4px;"></div>
                                        </div>
                                    </div>
                                    <div class="card" style="margin-top: 6px;width: 50%;" *ngIf="assetViewList.isIntangible==true">
                                        <div class="card-header" style="padding: 0 10px;">
                                            <p style="margin-bottom: 0; font-size: 12px;">
                                                Management Structure <span class="text-danger">*</span></p>
                                        </div>
                                        <div class="card-body" style="padding: 8px 12px 6px;">
                                           
                                                <span class="form-group ">
                                                    <b> </b></span><span class="form-control ma-fd">
                                                    {{assetViewList.level1}}

                                                </span>
                                            
                                                <span class="form-group ">
                                                    <b> </b></span><span class="form-control ma-fd">
                                                    {{assetViewList.level2}}
                                                </span>
                                           
                                                <span class="form-group ">
                                                    <b> </b></span><span class="form-control ma-fd">
                                                    {{assetViewList.level3}}
                                                </span>
                                            
                                                <span class="form-group ">
                                                    <b> </b></span><span class="form-control ma-fd">
                                                    {{assetViewList.level4}}
                                                </span>
                                            
                                        </div>
                                    </div>	
                                    </div> 
                                    <div class="col-sm-6">
                                                <div class="card" style="margin-top: 6px;width: 50%;" *ngIf="assetViewList.isIntangible==false">
                                                    <div class="card-header" style="padding: 0 10px;">
                                                        <p style="margin-bottom: 0; font-size: 12px;">
                                                            Management Structure <span class="text-danger">*</span></p>
                                                    </div>
                                                    <div class="card-body" style="padding: 8px 12px 6px;">
                                                       
                                                            <span class="form-group ">
                                                                <b> </b></span><span class="form-control ma-fd">
                                                                {{assetViewList.level1}}

                                                            </span>
                                                        
                                                            <span class="form-group ">
                                                                <b> </b></span><span class="form-control ma-fd">
                                                                {{assetViewList.level2}}
                                                            </span>
                                                       
                                                            <span class="form-group ">
                                                                <b> </b></span><span class="form-control ma-fd">
                                                                {{assetViewList.level3}}
                                                            </span>
                                                        
                                                            <span class="form-group ">
                                                                <b> </b></span><span class="form-control ma-fd">
                                                                {{assetViewList.level4}}
                                                            </span>
                                                        
                                                    </div>
                                                </div>	
                                        <p *ngIf="assetViewList.isIntangible==false">
                                            <span class="label"><b>Asset Parent: </b></span><span class="value">{{assetViewList.assetParentName}}</span>
                                        </p>
                                        <div *ngIf="assetViewList.isIntangible==false" style="width: 90%;">

                                            <div class="card" style="margin-top: 20px;margin-bottom:4px;">
                                                <div class="card-header" style="padding: 10px 12px;">
                                                    <p>
                                                        <span class="label"><b>Asset Class/Attribute: <span class="text-danger">*</span></b></span><span class="value">{{assetViewList.assetAttributeType}}</span>
                                                        </p>
                                                </div>
                                                <div class="depreciation-asset-block block-bg1" style="padding-left: 2%;">
                                                    <div class="card-body" style="padding: 12px 12px 4px;">
                                                        </div>
                                                        <p>
                                                            <span class="label"><b>Depreciation Method: </b></span><span class="value">{{assetViewList.depreciationMethod}}</span>
                                                            </p>
                                                            <p>
                                                            <span class="label col-sm-6"><b>Residual  %: </b></span><span class="value">{{assetViewList.residualPer}}</span>
                                                            </p>
                                                            <p>
                                                            <span class="label"><b>Asset Life: </b></span><span class="value">{{assetViewList.assetLife}}</span>
                                                            </p>
                                                            <p>
                                                            <span class="label"><b>Depr Frequency: </b></span><span class="value">{{assetViewList.deprFrequency}}</span>
                                                            </p>
                                                            <p>
                                                            <span class="label"><b>Acquired GL Account: </b></span><span class="value">{{assetViewList.acquiredGL}}</span>
                                                            </p>
                                                            <p>
                                                            <span class="label"><b>Depr Expense GL Account: </b></span><span class="value">{{assetViewList.deprExpenseGL}}</span>
                                                            </p>
                                                            <p>
                                                            <span class="label"><b>Accum Depr GL Account: </b></span><span class="value">{{assetViewList.adDeprGL}}</span>
                                                            </p>
                                                            <p>
                                                            <span class="label"><b>Sale GL Account: </b></span><span class="value">{{assetViewList.saleGL}}</span>
                                                            </p>
                                                            <p>
                                                                <span class="label"><b>Write Off GL Account: </b></span><span class="value">{{assetViewList.writeOffGL}}</span>
                                                                </p>
                                                            <p>
                                                            <span class="label"><b>Write Down GL Account: </b></span><span class="value">{{assetViewList.writeDownGL}}</span>
                                                            </p>
                                                    </div>
                                                        </div>


                                        
                                     
                                       
                                        </div>
                                        <div *ngIf="assetViewList.isIntangible==true" style="width: 90%;">

                                      

                                                        <div class="card" style="margin-top: 20px;margin-bottom:4px;">
                                                            <div class="card-header" style="padding: 10px 12px;">
                                                                <p>
                                                                    <span class="label"><b>Intangible Class: <span class="text-danger">*</span></b></span><span class="value">{{assetViewList.assetAttributeType}}</span>
                                                                    </p>
                                                            </div>
                                                            <div class="depreciation-asset-block block-bg1" style="padding-left: 2%;">
                                                                <div class="card-body" style="padding: 12px 12px 4px;">
                                                                    <p>
                                                                        <span class="label"><b>Depreciation Method: </b></span><span class="value">{{assetViewList.depreciationMethod}}</span>
                                                                        </p>
                                                                        <p>
                                                                        <span class="label"><b>Intangible Life: </b></span><span class="value">{{assetViewList.assetLife}}</span>
                                                                        </p>
                                                                        <p>
                                                                        <span class="label"><b>Amort Frequency: </b></span><span class="value">{{assetViewList.deprFrequency}}</span>
                                                                        </p>
                                                                        
                                                                        <p>
                                                                        <span class="label"><b>Amort Expense GL Account: </b></span><span class="value">{{assetViewList.deprExpenseGL}}</span>
                                                                        </p>
                                                                        <p>
                                                                        <span class="label"><b>Acc Amort Depr GL Account: </b></span><span class="value">{{assetViewList.adDeprGL}}</span>
                                                                        </p>
                                                                        <p>
                                                                        <span class="label"><b>Intangible GL Account: </b></span><span class="value">{{assetViewList.saleGL}}</span>
                                                                        </p>
                                                                        <p>
                                                                            <span class="label"><b>Intangible Write Off GL Account: </b></span><span class="value">{{assetViewList.writeOffGL}}</span>
                                                                            </p>
                                                                        <p>
                                                                        <span class="label"><b>Intangible Write Down GL Account: </b></span><span class="value">{{assetViewList.writeDownGL}}</span>
                                                                        </p>
                                                                </div>
                                                                    </div>
                                                                    </div>
                                       
                                    
                                      
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default" *ngIf="assetViewList.isIntangible==false"> 
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="collapsed" data-toggle="collapse" href="#step2">Capes</a>
                                </h4>
                            </div>
                            <div id="step2" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <app-asset-capes [isView]="true" [viewassetRecordId]="assetViewList.assetRecordId"></app-asset-capes>
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default" *ngIf="assetViewList.isIntangible==false">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="collapsed" data-toggle="collapse" href="#step3">Calibration</a>
                                </h4>
                            </div>
                            <div id="step3" class="panel-collapse collapse">
                                <div class="panel-body">

                                       <div class="form-row" style="width: 101%;background-color: #fff !important;">
                                    <div class="col-md-3 asset_border" >
                                        <p>
                                            <input type="checkbox" disabled [ngModelOptions]="{standalone: true}" [(ngModel)]="assetViewList.calibrationRequired">
                                            Calibration Required
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.calibrationRequired">
                                            <span class="label"><b>Calibration Frequency <span class="clr-red">*</span>: </b></span><span *ngIf="assetViewList.calibrationFrequencyDays || assetViewList.calibrationFrequencyMonths" class="value">
                                                {{assetViewList.calibrationFrequencyMonths}} Months,
                                                {{assetViewList.calibrationFrequencyDays}} Days
                                            </span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.calibrationRequired">
                                            <span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.calibrationVendor}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.calibrationRequired">
                                            <span class="label"><b>Default Cost: </b></span><span class="value">&nbsp;{{assetViewList.calibrationDefaultCost}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.calibrationRequired">
                                            <span class="label"><b>Currency: <span class="text-danger" *ngIf="assetViewList.calibrationDefaultCost !=0">*</span></b></span><span class="value">&nbsp;{{assetViewList.calibrationCurrencyName}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.calibrationRequired">
                                            <span class="label"><b>GL Account: <span class="text-danger" *ngIf="assetViewList.calibrationRequired">*</span></b></span><span class="value">{{assetViewList.calibrationGlAccount}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.calibrationRequired">
                                            <span class="label"><b>Calibration Memo: </b></span><span class="value textareaMemos" [innerHTML]="assetViewList.calibrationMemo" matTooltipPosition="above"  [matTooltip]="parsedText(assetViewList.calibrationMemo)"></span>
                                        </p>
                                       
                                        <br>
                                        <div class="col-sm-12" *ngIf="assetViewList && assetViewList.calibrationRequired">
                                            <div class="form-group col-sm-12 calibration-block w400"
                                                 *ngIf="assetViewList.calibrationRequired || assetViewList.certificationRequired || assetViewList.inspectionRequired || assetViewList.verificationRequired">
                                                <div class="table-responsive">
                                                    <table class="table table-bordered table-striped">
                                                        <thead style="background:#337ab7;color:#fff">
                                                            <tr>
                                                                <th>Type</th>
                                                                <th colspan="2" style="text-align: center;">Tolerance</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td>Min</td>
                                                                <td>
                                                                    <span class="value">{{assetViewList.assetCalibrationMin}}</span>
                                                                </td>
                                                                <td>
                                                                    <span class="value">{{assetViewList.assetCalibrationMinTolerance}}</span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Max</td>
                                                                <td>
                                                                    <span class="value">{{assetViewList.assetCalibratonMax}}</span>
                                                                </td>
                                                                <td>
                                                                    <span class="value">{{assetViewList.assetCalibrationMaxTolerance}}</span>
                                                                </td>
                                                            </tr>
                                                            <tr>
                                                                <td>Expected</td>
                                                                <td>
                                                                    <span class="value">{{assetViewList.assetCalibrationExpected}}</span>
                                                                </td>
                                                                <td>
                                                                    <span class="value">{{assetViewList.assetCalibrationExpectedTolerance}}</span>
                                                                </td>
                                                            </tr>
                                                            <tr >
                                                                <td>Memo</td>
                                                                <td colspan="2">
                                                                    <!-- <span class="value">{{assetViewList.assetCalibrationMemo}}</span> -->
                                                                    <div [innerHTML]="assetViewList.assetCalibrationMemo" matTooltipPosition="above"  [matTooltip]="parsedText(assetViewList.assetCalibrationMemo)" class="value" style="font-size: 11.4px;"></div>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
    
                                        </div>
                                    </div>
                                    <!-- *ngIf="assetViewList.certificationRequired" -->
                                    <div class="col-md-3 asset_border" >
                                        <p>
                                            <input type="checkbox" disabled [ngModelOptions]="{standalone: true}" [(ngModel)]="assetViewList.certificationRequired">
                                            Certification Required
                                        </p>
                                        <p  *ngIf="assetViewList && assetViewList.certificationRequired">
                                            <span class="label"><b>Certification Frequency <span class="clr-red">*</span>: </b></span><span *ngIf="assetViewList.certificationFrequencyMonths || assetViewList.certificationFrequencyDays" class="value">
                                                {{assetViewList.certificationFrequencyMonths}} Months,
                                                {{assetViewList.certificationFrequencyDays}} Days
                                            </span>
                                        </p>
                                        <p  *ngIf="assetViewList && assetViewList.certificationRequired">
                                            <span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.certificationVendor}}</span>
                                        </p>
                                        <p  *ngIf="assetViewList && assetViewList.certificationRequired">
                                            <span class="label"><b>Dafault Cost: </b></span><span class="value">&nbsp;{{assetViewList.certificationDefaultCost}}</span>
                                        </p>
                                        <p  *ngIf="assetViewList && assetViewList.certificationRequired">
                                            <span class="label"><b>Currency:  <span class="text-danger" *ngIf="assetViewList.certificationDefaultCost !=0">*</span></b></span><span class="value">&nbsp;{{assetViewList.certificationCurrencyName}}</span>
                                        </p>
                                        <p  *ngIf="assetViewList && assetViewList.certificationRequired">
                                            <span class="label"><b>GL Account: <span class="text-danger" *ngIf="assetViewList.certificationRequired">*</span></b></span><span class="value">{{assetViewList.certificationGlAccount}}</span>
                                        </p>
                                        <p  *ngIf="assetViewList && assetViewList.certificationRequired">
                                            <span class="label"><b>Certification Memo: </b></span><span class="value textareaMemos" [innerHTML]="assetViewList.certificationMemo" matTooltipPosition="above"  [matTooltip]="parsedText(assetViewList.certificationMemo)"></span>
                                        </p>
                                      
                                    </div>
                                    <!-- *ngIf="assetViewList.inspectionRequired" -->
                                    <div class="col-md-3 asset_border" >
                                        <p>
                                            <input type="checkbox" disabled [ngModelOptions]="{standalone: true}" [(ngModel)]="assetViewList.inspectionRequired">
                                            Inspection Required
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.inspectionRequired">
                                            <span class="label"><b>Inspection Frequency <span class="clr-red">*</span>: </b></span><span *ngIf="assetViewList.inspectionFrequencyMonths || assetViewList.inspectionFrequencyDays" class="value">
                                                {{assetViewList.inspectionFrequencyMonths}} Months,
                                                {{assetViewList.inspectionFrequencyDays}} Days
                                            </span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.inspectionRequired">
                                            <span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.inspectionVendor}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.inspectionRequired">
                                            <span class="label"><b>Dafault Cost: </b></span><span class="value">&nbsp;{{assetViewList.inspectionDefaultCost}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.inspectionRequired">
                                            <span class="label"><b>Currency: <span class="text-danger" *ngIf="assetViewList.inspectionDefaultCost !=0">*</span></b></span><span class="value">&nbsp;{{assetViewList.inspectionCurrencyName}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.inspectionRequired">
                                            <span class="label"><b>GL Account: <span class="text-danger" *ngIf="assetViewList.inspectionRequired">*</span></b></span><span class="value">{{assetViewList.inspectionGlAccount}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.inspectionRequired"> 
                                             <span class="label"><b>Inspection Memo: </b></span><span class="value textareaMemos" [innerHTML]="assetViewList.inspectionMemo" matTooltipPosition="above"  [matTooltip]="parsedText(assetViewList.inspectionMemo)"></span> 
                                        </p>
                                    </div>
                                    <!-- *ngIf="assetViewList.verificationRequired" -->
                                    <div class="col-md-3 asset_border" >
                                        <p>
                                            <input type="checkbox" disabled [ngModelOptions]="{standalone: true}" [(ngModel)]="assetViewList.verificationRequired">
                                            Verification Required
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.verificationRequired">
                                            <span class="label"><b>Verification Frequency <span class="clr-red">*</span>: </b></span><span *ngIf="assetViewList.verificationFrequencyMonths || assetViewList.verificationFrequencyDays" class="value">
                                                {{assetViewList.verificationFrequencyMonths}} Months,
                                                {{assetViewList.verificationFrequencyDays}} Days
                                            </span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.verificationRequired">
                                            <span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.verificationVendor}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.verificationRequired">
                                            <span class="label"><b>Dafault Cost: </b></span><span class="value">&nbsp;{{assetViewList.verificationDefaultCost}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.verificationRequired">
                                            <span class="label"><b>Currency:<span class="text-danger" *ngIf="assetViewList.verificationDefaultCost !=0">*</span> </b></span><span class="value">&nbsp;{{assetViewList.verificationCurrencyName}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.verificationRequired">
                                            <span class="label"><b>GL Account: <span class="text-danger" *ngIf="assetViewList.verificationRequired">*</span></b></span><span class="value">{{assetViewList.verificationGlAccount}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.verificationRequired">
                                            <span class="label"><b>Verification Memo: </b></span><span class="value textareaMemos" [innerHTML]="assetViewList.verificationMemo" matTooltipPosition="above"  [matTooltip]="parsedText(assetViewList.verificationMemo)"></span>
                                        </p>
                                       
                                    </div>
                                       </div>
                               
                                </div>
                            </div>
                        </div>
                        <div class="panel panel-default" *ngIf="assetViewList.isIntangible==false">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="collapsed" data-toggle="collapse" href="#step4">
                                        Maintenance &amp;
                                        Warranty
                                    </a>
                                </h4>
                            </div>
                            <div id="step4" class="panel-collapse collapse">
                                <div class="panel-body">
                                    <div class="form-row" style="width: 101%;background-color: #fff !important;">
                                  <div class="col-sm-3 asset_border" style="padding:6px;">
                                
                                        <p>
                                       
                                            <input type="checkbox" disabled [ngModelOptions]="{standalone: true}" [(ngModel)]="assetViewList.assetIsMaintenanceReqd">
                                            Maintenance Required
                                        </p>
                                        
                                        <p *ngIf="assetViewList && assetViewList.assetIsMaintenanceReqd">  
                                            <span class="label"><b>Maintenance Frequency <span class="clr-red">*</span>: </b></span><span *ngIf="assetViewList.maintenanceFrequencyMonths || assetViewList.maintenanceFrequencyDays" class="value">
                                                {{assetViewList.maintenanceFrequencyMonths}} Months,
                                                {{assetViewList.maintenanceFrequencyDays}} Days
                                            </span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.assetIsMaintenanceReqd">
                                            <span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.maintenanceVendor}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.assetIsMaintenanceReqd">
                                            <span class="label"><b>GL Account: <span class="text-danger" *ngIf="assetViewList.assetIsMaintenanceReqd">*</span></b></span><span class="value">{{assetViewList.maintenanceGlAccount}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.assetIsMaintenanceReqd">
                                            <span class="label"><b>Maintenance Memo: </b></span><span class="value textareaMemos" [innerHTML]="assetViewList.maintenanceMemo" matTooltipPosition="above"  [matTooltip]="parsedText(assetViewList.maintenanceMemo)"></span>
                                        </p>
                                        
                                    </div>
                                    <div class="col-sm-4 asset_border"  style="padding:6px;">
                                
                                        <p>
                                        <input type="checkbox" disabled [ngModelOptions]="{standalone: true}" [(ngModel)]="assetViewList.isWarrantyRequired">
                                            Warranty Required
                                        </p >
                                            <p *ngIf="assetViewList && assetViewList.isWarrantyRequired">
                                            <span class="label"><b>Warranty Company: </b></span><span class="value">{{assetViewList.warrantyCompany}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.isWarrantyRequired">
                                            <span class="label"><b>Default Vendor: </b></span><span class="value">{{assetViewList.warrantyVendor}}</span>
                                        </p>
                                        <p *ngIf="assetViewList && assetViewList.isWarrantyRequired">
                                            <span class="label"><b>GL Account: <span class="text-danger" *ngIf="assetViewList.isWarrantyRequired">*</span> </b></span><span class="value">{{assetViewList.warrantyGlACoount}}</span>
                                        </p>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal"
                        (click)="dismissModel()">
                    Close
                </button>
            </div>
        </div>
    </ng-template>
    <div class="modal fade" id="downloadConfirmation" role="dialog" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" (click)="closeDeleteModal()">&times;</button>
                    <h4 class="modal-title">Are You Sure Want to Download?</h4>
                </div>
                <div class="modal-body" *ngIf="targetData">
                    <strong>
                        <span>
                            You are attempting to export {{targetData.totalRecords}} of records. 
                        </span> 
                    </strong>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" (click)="(selectedOnly)?targetData.exportCSV({ selectionOnly: true }):exportCSV(targetData); closeDeleteModal();">Confirm</button>
                    <button type="button" class="btn btn-danger" (click)="closeDeleteModal()">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    
    <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header">
            
            <h4 class="modal-title">Are You Sure Want to Delete?</h4>
            <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
                <span aria-hidden="true">&times;</span>
    
            
            </button>
          
        </div>

        <div class="modal-body">
            <strong>
                Asset Name:
                <span class="new-label">{{assetService.listCollection.name}}</span>
            </strong>
        </div>
 
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" (click)="removeAsset()">Yes</button>
            <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
        </div>


    </ng-template>
    <ng-template #history let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title">History of Asset </h4>
            <button type="button" class="close" aria-label="Close" (click)="dismissHistoryModel()">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <div class="text-center">
                <img src="../../../assets/images/binoculars.png" style="height: 100px; width: 100px;">
                <h4 style="color: #ff5663;">No History Found </h4>
            </div>
        </div>


        <div class="modal-footer">

            <button type="button" class="btn btn-danger" (click)="dismissHistoryModel()">Close</button>
        </div>

    </ng-template>


<ng-template #restoreId let-c="close" let-d="dismiss" data-backdrop="static">
    
    <div class="modal-header">
        <h4 class="modal-title">Are You Sure Want to Restore?</h4>
  
        <button type="button" class="close" aria-label="Close" (click)="dismissModel()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <strong>
            Asset Name:
            <span class="new-label">{{restorerecord.name}}</span>
        </strong>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" (click)="restoreRecord()">Yes</button>
        <button type="button" class="btn btn-danger" (click)="dismissModel()">No</button>
    </div>
  </ng-template> 
            <div class="preloader" *ngIf="isSpinnerVisible">
                <div class="loading">
                    <div class="lds-roller"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div>
                </div>
            </div>
