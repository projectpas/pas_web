<div class="modal-header">
  <button type="button" class="close" (click)="onClose($event)">
    &times;
  </button>
  <h4 class="modal-title">Enter Payment Details</h4>
</div>
<div class="modal-body">
  <div class="row" style="padding: 0;" *ngIf="customerDetails">
    <div class="col-md-12 col-sm-12 col-12">
      <div class="col-2 column">
        <div class="form-group">
          <label>Customer Name</label>
          <input type="text" class="form-control" name="customerName" [(ngModel)]="customerDetails.name"
            [disabled]="true" />
        </div>
      </div>
      <div class="col-2 column">
        <div class="form-group">
          <label>Customer Code</label>
          <input class="form-control" type="text" name="customerCode" [(ngModel)]="customerDetails.customerCode"
            [disabled]="true" />
        </div>
      </div>
      <div class="col-1 column">
        <div class="form-group">
          <label>AR Balance </label>
          <input type="text" class="form-control" name="arBalance" [disabled]="true" />
        </div>
      </div>
      <div class="col-1 column">
        <div class="form-group">
          <label>Credit Limit</label>
          <input type="text" class="form-control" name="creditLimit" [(ngModel)]="customerDetails.creditLimit"
            [disabled]="true" />
        </div>
      </div>
      <div class="col-2 column">
        <div class="form-group">
          <label>Credit Terms</label>
          <input type="text" class="form-control" name="creditTermsName" [(ngModel)]="customerDetails.creditTermsName"
            [disabled]="true" />
        </div>
      </div>
      <div class="col-2 column">
        <div class="form-group">
          <label>Date Processed</label>
          <p-calendar name="dateProcessed" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
            [(ngModel)]="payment.dateProcessed" [showIcon]="true" id="dateProcessed" required>
          </p-calendar>
        </div>
      </div>
      <div class="col-2 column">
        <div class="form-group">
          <label>Accounting Period</label>
          <input type="text" class="form-control" name="accountingPeriod" disabled="true" />
        </div>
      </div>
    </div>
  </div>
  <div class="row" style="padding: 0;">
    <div class="col-md-12 col-sm-12 col-12">
      <div class="col-2 column">
        <div class="form-group">
          <label>
            <input type="checkbox" id="cparent" name="deposite" (click)="onDepositeClick()"
              (ngModelChange)="enableSave()" [(ngModel)]="deposite" />
            Check if this is a Deposit
          </label>
        </div>
      </div>
      <div class="col-10 column">
        <div class="form-group">
          <p-radioButton name="groupname1" value="1" label="Single Payment Method" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="paymentMethod"
            (click)="onPaymentMethodClick(1)">
          </p-radioButton>
          <p-radioButton name="groupname1" value="2" label="Multiple Payment Methods" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="paymentMethod"
            (click)="onPaymentMethodClick(2)">
          </p-radioButton>
        </div>
      </div>
    </div>
  </div>
  <div class="row" style="padding: 0;" *ngIf="!objInvoicePayment.isMultiplePaymentMethod">
    <div class="col-md-12 col-sm-12 col-12">
      <div class="col-9 column">
        <div class="form-group">
          <p-radioButton name="groupname2" value="1" label="Check" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="chkPaymentMethod">
          </p-radioButton>
          <p-radioButton name="groupname2" value="2" label="Wire Transfer" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="chkPaymentMethod">
          </p-radioButton>
          <p-radioButton name="groupname2" value="3" label="EFT" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="chkPaymentMethod">
          </p-radioButton>
          <p-radioButton name="groupname2" value="4" label="Credit Card/Debit Card" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="chkPaymentMethod">
          </p-radioButton>
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="objInvoicePayment.isMultiplePaymentMethod" style="padding: 0;">
    <div class="col-md-12 col-sm-12 col-12">
      <div class="col-9 column">
        <div class="form-group" style="display: inline-flex; width: 100%;">
          <label style="width: 15%;">
            <input type="checkbox" id="cparent" name="check" (click)="onDepositeClick()" (ngModelChange)="enableSave()"
              [(ngModel)]="objInvoicePayment.isCheckPayment" />
            Check
          </label>
          <label style="width: 22%;">
            <input type="checkbox" id="cparent" name="check" (click)="onDepositeClick()" (ngModelChange)="enableSave()"
              [(ngModel)]="objInvoicePayment.isWireTransfer" />
            Wire Transfer
          </label>
          <label style="width: 17%;">
            <input type="checkbox" id="cparent" name="check" (click)="onDepositeClick()" (ngModelChange)="enableSave()"
              [(ngModel)]="objInvoicePayment.isEFT" />
            EFT
          </label>
          <label style="width: 100%;">
            <input type="checkbox" id="cparent" name="check" (click)="onDepositeClick()" (ngModelChange)="enableSave()"
              [(ngModel)]="objInvoicePayment.isCCDCPayment" />
            Credit Card/Debit Card
          </label>
        </div>
      </div>
    </div>
  </div>
  <ng-container>
    <p-tabView class="pas-tabview" (onChange)="onTabChange($event)">
      <p-tabPanel header="Check" [selected]="true" *ngIf="(!objInvoicePayment.isMultiplePaymentMethod && chkPaymentMethod == 1) ||
      (objInvoicePayment.isMultiplePaymentMethod && objInvoicePayment.isCheckPayment)">
        <div class="card new-card">
          <div class="card-body header-body">
            <div class="col-sm-3 w250 payment-blocks check-block" style="display: block;">
              <div class="form-group col-sm-12">
                <label>Check Date<span class="clr-red">*</span></label>
                <p-calendar name="checkDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="objInvoicePayment.checkPayments.checkDate" [showIcon]="true" id="checkDate"
                  #checkDate="ngModel" required>
                </p-calendar>
                <div *ngIf="checkDate.invalid && (checkDate.dirty || checkDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="checkDate.errors.required">
                    <small> Check Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Check Number <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="checkNumber"
                  [(ngModel)]="objInvoicePayment.checkPayments.checkNumber" #checkNumber="ngModel" id="checkNumber" />
                <div *ngIf="checkNumber.invalid && (checkNumber.dirty || checkNumber.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="checkNumber.errors.required">
                    <small> Check Number is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Amount<span class="clr-red">*</span></label>
                <input type="text" class="form-control" style="text-align:right;" name="checkAmount"
                  [ngModel]="objInvoicePayment.checkPayments_Amount | twoDecimalGlobalNumberFormatPipe"
                  (ngModelChange)="objInvoicePayment.checkPayments.amount=$event" required />
              </div>
              <div class="form-group col-sm-12">
                <label for="currencyId">Currency <span class="clr-red">*</span></label>
                <select name="currencyId" [(ngModel)]="objInvoicePayment.checkPayments.currencyId" required
                  id="currencyId" #currencyId="ngModel">
                  <option *ngFor="let item of currencyList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="currencyId.invalid && (currencyId.dirty || currencyId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="currencyId.errors.required">
                    <small> Currency is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label class="control-label">Payor's Bank</label>
                <input type="text" class="form-control" name="payorsBank"
                  [(ngModel)]="objInvoicePayment.checkPayments.payorsBank" id="payorsBank" />
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Account <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="bankAccount"
                  [(ngModel)]="objInvoicePayment.checkPayments.bankAccount" #bankAccount="ngModel" id="bankAccount" />
                <div *ngIf="bankAccount.invalid && (bankAccount.dirty || bankAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="bankAccount.errors.required">
                    <small> Bank Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="glAccountId">GL Cash Account <span class="clr-red">*</span></label>
                <select name="glAccountId" [(ngModel)]="objInvoicePayment.checkPayments.glAccountNumber" required
                  id="glAccount" #glAccount="ngModel">
                  <option *ngFor="let item of allGlInfo" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="glAccount.invalid && (glAccount.dirty || glAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="glAccount.errors.required">
                    <small> GL Cash Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>
                  Memo<i class=" fa fa-pencil" data-toggle="modal" matTooltipPosition="above" matTooltip="Add Memo"
                    (click)="openCheckMemo(); onAddCheckMemo()"></i>
                </label>
                <span>
                  <div class="form-group memo-popup-cstm mat_emo">
                    <div [innerHTML]="objInvoicePayment.checkPayments.memo"
                      [matTooltip]="parsedText(objInvoicePayment.checkPayments.memo)" matTooltipPosition="above"
                      class="form-control" style="height: 100px !important; width:90% !important"
                      class="text_editor_box">
                    </div>
                  </div>
                </span>
              </div>
            </div>
            <div class="col-sm-12 payment-blocks check-block" style="display: block;">
              <div class="form-group col-sm-12">
                <app-common-documents [moduleName]="chkModuleName" [referenceId]="chkreferenceId" [isViewMode]="false"
                  [offLineUpload]="true"></app-common-documents>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="Wire Transfer" *ngIf="(!objInvoicePayment.isMultiplePaymentMethod && chkPaymentMethod == 2) ||
      (objInvoicePayment.isMultiplePaymentMethod && objInvoicePayment.isWireTransfer)">
        <div class="card new-card">
          <div class="card-body header-body">
            <div class="col-sm-3 w250 payment-blocks wire-block" style="display: block;">
              <div class="form-group col-sm-12">
                <label>Wire Date<span class="clr-red">*</span></label>
                <p-calendar name="wireDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="objInvoicePayment.invoiceWireTransferPayment.wireDate" [showIcon]="true" id="wireDate"
                  #wireDate="ngModel" required>
                </p-calendar>
                <div *ngIf="wireDate.invalid && (wireDate.dirty || wireDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="wireDate.errors.required">
                    <small> Wire Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Amount<span class="clr-red">*</span></label>
                <input type="text" class="form-control" style="text-align:right;" name="wireAmount"
                  [ngModel]="objInvoicePayment.invoiceWireTransferPayment.amount | twoDecimalGlobalNumberFormatPipe"
                  (ngModelChange)="objInvoicePayment.invoiceWireTransferPayment.amount=$event" required />
              </div>
              <div class="form-group col-sm-12">
                <label for="wireCurrencyId">Currency <span class="clr-red">*</span></label>
                <select name="wireCurrencyId" [(ngModel)]="objInvoicePayment.invoiceWireTransferPayment.currencyId"
                  required id="wireCurrencyId" #wireCurrencyId="ngModel">
                  <option *ngFor="let item of currencyList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="wireCurrencyId.invalid && (wireCurrencyId.dirty || wireCurrencyId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="wireCurrencyId.errors.required">
                    <small> Currency is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Name</label>
                <input type="text" class="form-control" name="bankName"
                  [(ngModel)]="objInvoicePayment.invoiceWireTransferPayment.bankName" #bankName="ngModel"
                  id="bankName" />
              </div>
              <div class="form-group col-sm-12">
                <label>Reference #</label>
                <input type="text" class="form-control" name="referenceNo"
                  [(ngModel)]="objInvoicePayment.invoiceWireTransferPayment.referenceNo" #referenceNum="ngModel"
                  id="referenceNo" />
              </div>
              <div class="form-group col-sm-12">
                <label>IMAD/OMAD # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="IMADOMAD"
                  [(ngModel)]="objInvoicePayment.invoiceWireTransferPayment.imad_OMADNo" #IMADOMAD="ngModel"
                  id="IMADOMAD" />
                <div *ngIf="IMADOMAD.invalid && (IMADOMAD.dirty || IMADOMAD.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="IMADOMAD.errors.required">
                    <small> IMAD/OMAD # is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Account <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="wireBankAccount"
                  [(ngModel)]="objInvoicePayment.invoiceWireTransferPayment.bankAccount" #wireBankAccount="ngModel"
                  id="wireBankAccount" />
                <div *ngIf="wireBankAccount.invalid && (wireBankAccount.dirty || wireBankAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="wireBankAccount.errors.required">
                    <small> Bank Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="wireGlAccountId">GL Cash Account <span class="clr-red">*</span></label>
                <select name="wireGlAccountId"
                  [(ngModel)]="objInvoicePayment.invoiceWireTransferPayment.glAccountNumber" required id="wireGlAccount"
                  #wireGlAccount="ngModel">
                  <option *ngFor="let item of allGlInfo" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="wireGlAccount.invalid && (wireGlAccount.dirty || wireGlAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="wireGlAccount.errors.required">
                    <small> GL Cash Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>
                  Memo<i class=" fa fa-pencil" data-toggle="modal" matTooltipPosition="above" matTooltip="Add Memo"
                    (click)="openWireMemo(); onAddWireMemo()"></i>
                </label>
                <span>
                  <div class="form-group memo-popup-cstm mat_emo">
                    <div [innerHTML]="objInvoicePayment.invoiceWireTransferPayment.memo"
                      [matTooltip]="parsedText(objInvoicePayment.invoiceWireTransferPayment.memo)"
                      matTooltipPosition="above" class="form-control"
                      style="height: 100px !important; width:90% !important" class="text_editor_box">
                    </div>
                  </div>
                </span>
              </div>
            </div>
            <div class="col-sm-12 payment-blocks check-block" style="display: block;">
              <div class="form-group col-sm-12">
                <app-common-documents [moduleName]="moduleName" [referenceId]="referenceId" [isViewMode]="false"
                  [offLineUpload]="true"></app-common-documents>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="EFT" *ngIf="(!objInvoicePayment.isMultiplePaymentMethod && chkPaymentMethod == 3) ||
      (objInvoicePayment.isMultiplePaymentMethod && objInvoicePayment.isEFT)">
        <div class="card new-card">
          <div class="card-body header-body">
            <div class="col-sm-3 w250 payment-blocks eft-block" style="display: block;">
              <div class="form-group col-sm-12">
                <label>EFT Date<span class="clr-red">*</span></label>
                <p-calendar name="eftDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="objInvoicePayment.invoiceEFTPayment.eftDate" [showIcon]="true" id="eftDate"
                  #eftDate="ngModel" required>
                </p-calendar>
                <div *ngIf="eftDate.invalid && (eftDate.dirty || eftDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="eftDate.errors.required">
                    <small> EFT Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Amount<span class="clr-red">*</span></label>
                <input type="text" class="form-control" style="text-align:right;" name="eftAmount"
                  [ngModel]="objInvoicePayment.invoiceEFTPayment.amount | twoDecimalGlobalNumberFormatPipe"
                  (ngModelChange)="objInvoicePayment.invoiceEFTPayment.amount=$event" required />
              </div>
              <div class="form-group col-sm-12">
                <label for="eftCurrencyId">Currency <span class="clr-red">*</span></label>
                <select name="eftCurrencyId" [(ngModel)]="objInvoicePayment.invoiceEFTPayment.currencyId" required
                  id="eftCurrencyId" #eftCurrencyId="ngModel">
                  <option *ngFor="let item of currencyList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="eftCurrencyId.invalid && (eftCurrencyId.dirty || eftCurrencyId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="eftCurrencyId.errors.required">
                    <small> Currency is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Name</label>
                <input type="text" class="form-control" name="eftbankName"
                  [(ngModel)]="objInvoicePayment.invoiceEFTPayment.bankName" #eftbankName="ngModel" id="eftbankName" />
              </div>
              <div class="form-group col-sm-12">
                <label>Reference #</label>
                <input type="text" class="form-control" name="eftReferenceNum"
                  [(ngModel)]="objInvoicePayment.invoiceEFTPayment.referenceNo" #eftReferenceNum="ngModel"
                  id="eftReferenceNum" />
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Account <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="eftBankAccount"
                  [(ngModel)]="objInvoicePayment.invoiceEFTPayment.bankAccount" #eftBankAccount="ngModel"
                  id="eftBankAccount" />
                <div *ngIf="eftBankAccount.invalid && (eftBankAccount.dirty || eftBankAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="eftBankAccount.errors.required">
                    <small> Bank Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="eftGlAccountId">GL Cash Account <span class="clr-red">*</span></label>
                <select name="eftGlAccountId" [(ngModel)]="objInvoicePayment.invoiceEFTPayment.glAccountNumber" required
                  id="eftGlAccount" #eftGlAccount="ngModel">
                  <option *ngFor="let item of allGlInfo" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="eftGlAccount.invalid && (eftGlAccount.dirty || eftGlAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="eftGlAccount.errors.required">
                    <small> GL Cash Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>
                  Memo<i class=" fa fa-pencil" data-toggle="modal" matTooltipPosition="above" matTooltip="Add Memo"
                    (click)="openEFTMemo(); onAddEFTMemo()"></i>
                </label>
                <span>
                  <div class="form-group memo-popup-cstm mat_emo">
                    <div [innerHTML]="objInvoicePayment.invoiceEFTPayment.memo"
                      [matTooltip]="parsedText(objInvoicePayment.invoiceEFTPayment.memo)" matTooltipPosition="above"
                      class="form-control" style="height: 100px !important; width:90% !important"
                      class="text_editor_box">
                    </div>
                  </div>
                </span>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="Credit Card/Debit Card" *ngIf="(!objInvoicePayment.isMultiplePaymentMethod && chkPaymentMethod == 4) ||
      (objInvoicePayment.isMultiplePaymentMethod && objInvoicePayment.isCCDCPayment)">
        <div class="card new-card">
          <div class="card-body header-body">
            <div class="col-sm-3 w250 payment-blocks cc-block" style="display: block;">
              <div class="form-group col-sm-12">
                <label>Payment Date<span class="clr-red">*</span></label>
                <p-calendar name="ccDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.paymentDate" [showIcon]="true"
                  id="ccDate" #ccDate="ngModel" required>
                </p-calendar>
                <div *ngIf="ccDate.invalid && (ccDate.dirty || ccDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="ccDate.errors.required">
                    <small> Payment Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Amount<span class="clr-red">*</span></label>
                <input type="text" class="form-control" style="text-align:right;" name="ccAmount"
                  [ngModel]="objInvoicePayment.invoiceCreditDebitCardPayment.amount | twoDecimalGlobalNumberFormatPipe"
                  (ngModelChange)="objInvoicePayment.invoiceCreditDebitCardPayment.amount=$event" required />
              </div>
              <div class="form-group col-sm-12">
                <label for="ccCurrencyId">Currency <span class="clr-red">*</span></label>
                <select name="ccCurrencyId" [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.currencyId"
                  required id="ccCurrencyId" #ccCurrencyId="ngModel">
                  <option *ngFor="let item of currencyList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="ccCurrencyId.invalid && (ccCurrencyId.dirty || ccCurrencyId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="ccCurrencyId.errors.required">
                    <small> Currency is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Card Number # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="cardNumber"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.cardNumber" #cardNumber="ngModel"
                  id="cardNumber" />
                <div *ngIf="cardNumber.invalid && (cardNumber.dirty || cardNumber.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="cardNumber.errors.required">
                    <small> Card Number is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="cardTypeId">Card Type <span class="clr-red">*</span></label>
                <select name="cardTypeId" [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.cardTypeId"
                  required id="cardTypeId" #cardTypeId="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="cardTypeId.invalid && (cardTypeId.dirty || cardTypeId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="cardTypeId.errors.required">
                    <small> Card Type is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Expiry Date<span class="clr-red">*</span></label>
                <p-calendar name="expiryDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.expirationDate" [showIcon]="true"
                  id="expiryDate" #expiryDate="ngModel" required>
                </p-calendar>
                <div *ngIf="expiryDate.invalid && (expiryDate.dirty || expiryDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="expiryDate.errors.required">
                    <small> Expiry Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Security Code # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="securityCode"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.securityCode" #securityCode="ngModel"
                  id="securityCode" />
                <div *ngIf="securityCode.invalid && (securityCode.dirty || securityCode.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="securityCode.errors.required">
                    <small> Security Code is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Cardholder Name # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="cardholderName"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.cardholderName" #cardholderName="ngModel"
                  id="cardholderName" />
                <div *ngIf="cardholderName.invalid && (cardholderName.dirty || cardholderName.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="cardholderName.errors.required">
                    <small> Cardholder Name is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Billing Address</label>
                <input type="text" class="form-control" name="billingAddress"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.billingAddress" #billingAddress="ngModel"
                  id="billingAddress" />
              </div>
              <div class="form-group col-sm-12">
                <label>Billing Postal Code # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="billingPostalCode"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.billingPostalCode"
                  #billingPostalCode="ngModel" id="billingPostalCode" />
                <div *ngIf="billingPostalCode.invalid && (billingPostalCode.dirty || billingPostalCode.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="billingPostalCode.errors.required">
                    <small> Billing Postal Code is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Phone #</label>
                <input type="text" class="form-control" name="ccPhoneNum"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.phoneNo" #ccPhoneNum="ngModel"
                  id="ccPhoneNum" />
              </div>
              <div class="form-group col-sm-12">
                <label>Approval Ref</label>
                <input type="text" class="form-control" name="ccApprovalRef"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.approvalRef" #ccApprovalRef="ngModel"
                  id="ccApprovalRef" />
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Account <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="ccBankAccount"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.bankAccount" #ccBankAccount="ngModel"
                  id="ccBankAccount" />
                <div *ngIf="ccBankAccount.invalid && (ccBankAccount.dirty || ccBankAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="ccBankAccount.errors.required">
                    <small> Bank Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="ccGlAccountId">GL Cash Account <span class="clr-red">*</span></label>
                <select name="ccGlAccountId"
                  [(ngModel)]="objInvoicePayment.invoiceCreditDebitCardPayment.glAccountNumber" required
                  id="ccGlAccount" #ccGlAccount="ngModel">
                  <option *ngFor="let item of allGlInfo" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="ccGlAccount.invalid && (ccGlAccount.dirty || ccGlAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="ccGlAccount.errors.required">
                    <small> GL Cash Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>
                  Memo<i class=" fa fa-pencil" data-toggle="modal" data-target="#add-description"
                    matTooltipPosition="above" matTooltip="Add Memo" (click)="openCCMemo(); onAddCCMemo()"></i>
                </label>
                <span>
                  <div class="form-group memo-popup-cstm mat_emo">
                    <div [innerHTML]="objInvoicePayment.invoiceCreditDebitCardPayment.memo"
                      [matTooltip]="parsedText(objInvoicePayment.invoiceCreditDebitCardPayment.memo)"
                      matTooltipPosition="above" class="form-control"
                      style="height: 100px !important; width:90% !important" class="text_editor_box">
                    </div>
                  </div>
                </span>
              </div>
            </div>
            <div class="col-sm-12 payment-blocks check-block" style="display: block;">
              <div class="form-group col-sm-12">
                <app-common-documents [moduleName]="moduleName" [referenceId]="referenceId" [isViewMode]="false"
                  [offLineUpload]="true"></app-common-documents>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
    </p-tabView>
  </ng-container>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-primary editor-buttons-margin" data-dismiss="modal" (click)="onProcessPayment()">
    Post Payment
  </button>
  <button type="button" (click)="onClose($event)" class="btn btn-danger">
    Close
  </button>
</div>
<ng-template #addCheckMemo let-c="close" let-d="dismiss" tabindex="-1" style="z-index: 1052;">
  <div class="modal-header">
    <button type="button" class="close" (click)="dismissCheckMemoModel()">&times;</button>
    <h4 class="modal-title">Edit Memo</h4>
  </div>
  <div class="modal-body">
    <p-editor [(ngModel)]="tempCheckMemo" [style]="{'height':'320px'}" name="tempCheckMemo" required>
    </p-editor>
    <div class="editor-buttons">
      <button type="button" class="btn btn-primary editor-buttons-margin" (click)="onSaveCheckMemo()">
        Save
      </button>
      <button type="button" class="btn btn-danger editor-buttons-margin" (click)="dismissCheckMemoModel()">
        Close
      </button>
    </div>
  </div>
</ng-template>

<ng-template #addWireMemo let-c="close" let-d="dismiss" tabindex="-1" style="z-index: 1052;">
  <div class="modal-header">
    <button type="button" class="close" (click)="dismissWireMemoModel()">&times;</button>
    <h4 class="modal-title">Edit Memo</h4>
  </div>
  <div class="modal-body">
    <p-editor [(ngModel)]="tempWireMemo" [style]="{'height':'320px'}" name="tempWireMemo" required>
    </p-editor>
    <div class="editor-buttons">
      <button type="button" class="btn btn-primary editor-buttons-margin" (click)="onSaveWireMemo()">
        Save
      </button>
      <button type="button" class="btn btn-danger editor-buttons-margin" (click)="dismissWireMemoModel()">
        Close
      </button>
    </div>
  </div>
</ng-template>

<ng-template #addEFTMemo let-c="close" let-d="dismiss" tabindex="-1" style="z-index: 1052;">
  <div class="modal-header">
    <button type="button" class="close" (click)="dismissEFTMemoModel()">&times;</button>
    <h4 class="modal-title">Edit Memo</h4>
  </div>
  <div class="modal-body">
    <p-editor [(ngModel)]="tempEFTMemo" [style]="{'height':'320px'}" name="tempEFTMemo" required>
    </p-editor>
    <div class="editor-buttons">
      <button type="button" class="btn btn-primary editor-buttons-margin" (click)="onSaveEFTMemo()">
        Save
      </button>
      <button type="button" class="btn btn-danger editor-buttons-margin" (click)="dismissEFTMemoModel()">
        Close
      </button>
    </div>
  </div>
</ng-template>

<ng-template #addCCMemo let-c="close" let-d="dismiss" tabindex="-1" style="z-index: 1052;">
  <div class="modal-header">
    <button type="button" class="close" (click)="dismissCCMemoModel()">&times;</button>
    <h4 class="modal-title">Edit Memo</h4>
  </div>
  <div class="modal-body">
    <p-editor [(ngModel)]="tempCCMemo" [style]="{'height':'320px'}" name="tempCCMemo" required>
    </p-editor>
    <div class="editor-buttons">
      <button type="button" class="btn btn-primary editor-buttons-margin" (click)="onSaveCCMemo()">
        Save
      </button>
      <button type="button" class="btn btn-danger editor-buttons-margin" (click)="dismissCCMemoModel()">
        Close
      </button>
    </div>
  </div>
</ng-template>