<div class="modal-header">
  <button type="button" class="close" (click)="onClose($event)">
    &times;
  </button>
  <h4 class="modal-title">Enter Payment Details</h4>
</div>
<div class="modal-body">
  <div class="row" style="padding: 0;" *ngIf="customerDetails">
    <div class="col-md-12 col-sm-12 col-12">
      <div class="col-2 column">
        <div class="form-group">
          <label>Customer Name</label>
          <input type="text" class="form-control" name="customerName" [(ngModel)]="customerDetails.name"
            [disabled]="true" />
        </div>
      </div>
      <div class="col-2 column">
        <div class="form-group">
          <label>Customer Code</label>
          <input class="form-control" type="text" name="customerCode" [(ngModel)]="customerDetails.customerCode"
            [disabled]="true" />
        </div>
      </div>
      <div class="col-1 column">
        <div class="form-group">
          <label>AR Balance </label>
          <input type="text" class="form-control" name="arBalance" [disabled]="true" />
        </div>
      </div>
      <div class="col-1 column">
        <div class="form-group">
          <label>Credit Limit</label>
          <input type="text" class="form-control" name="creditLimit" [(ngModel)]="customerDetails.creditLimit"
            [disabled]="true" />
        </div>
      </div>
      <div class="col-2 column">
        <div class="form-group">
          <label>Credit Terms</label>
          <input type="text" class="form-control" name="creditTermsName" [(ngModel)]="customerDetails.creditTermsName"
            [disabled]="true" />
        </div>
      </div>
      <div class="col-2 column">
        <div class="form-group">
          <label>Date Processed</label>
          <p-calendar name="dateProcessed" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
            [(ngModel)]="payment.dateProcessed" [showIcon]="true" id="dateProcessed" required>
          </p-calendar>
        </div>
      </div>
      <div class="col-2 column">
        <div class="form-group">
          <label>Accounting Period</label>
          <input type="text" class="form-control" name="accountingPeriod" disabled="true" />
        </div>
      </div>
    </div>
  </div>
  <div class="row" style="padding: 0;">
    <div class="col-md-12 col-sm-12 col-12">
      <div class="col-2 column">
        <div class="form-group">
          <label>
            <input type="checkbox" id="cparent" name="deposite" (click)="onDepositeClick()"
              (ngModelChange)="enableSave()" [(ngModel)]="deposite" />
            Check if this is a Deposit
          </label>
        </div>
      </div>
      <div class="col-10 column">
        <div class="form-group">
          <p-radioButton name="groupname1" value="1" label="Single Payment Method" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="paymentMethod"
            (click)="onPaymentMethodClick(1)">
          </p-radioButton>
          <p-radioButton name="groupname1" value="2" label="Multiple Payment Methods" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="paymentMethod"
            (click)="onPaymentMethodClick(2)">
          </p-radioButton>
        </div>
      </div>
    </div>
  </div>
  <div class="row" style="padding: 0;" *ngIf="IsSingleOption">
    <div class="col-md-12 col-sm-12 col-12">
      <div class="col-9 column">
        <div class="form-group">
          <p-radioButton name="groupname2" value="1" label="Check" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="chkPaymentMethod">
          </p-radioButton>
          <p-radioButton name="groupname2" value="2" label="Wire Transfer" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="chkPaymentMethod">
          </p-radioButton>
          <p-radioButton name="groupname2" value="3" label="EFT" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="chkPaymentMethod">
          </p-radioButton>
          <p-radioButton name="groupname2" value="4" label="Credit Card/Debit Card" (ngModelChange)="enableSave()"
            class="p-radiobutton-label-horizontal p-radiobutton-cstm" [(ngModel)]="chkPaymentMethod">
          </p-radioButton>
        </div>
      </div>
    </div>
  </div>
  <div class="row" *ngIf="!IsSingleOption" style="padding: 0;">
    <div class="col-md-12 col-sm-12 col-12">
      <div class="col-9 column">
        <div class="form-group" style="display: inline-flex; width: 100%;">
          <label style="width: 15%;">
            <input type="checkbox" id="cparent" name="check" (click)="onDepositeClick()" (ngModelChange)="enableSave()"
              [(ngModel)]="chkCheck" />
            Check
          </label>
          <label style="width: 22%;">
            <input type="checkbox" id="cparent" name="check" (click)="onDepositeClick()" (ngModelChange)="enableSave()"
              [(ngModel)]="chkWireTransfer" />
            Wire Transfer
          </label>
          <label style="width: 17%;">
            <input type="checkbox" id="cparent" name="check" (click)="onDepositeClick()" (ngModelChange)="enableSave()"
              [(ngModel)]="chkEFT" />
            EFT
          </label>
          <label style="width: 100%;">
            <input type="checkbox" id="cparent" name="check" (click)="onDepositeClick()" (ngModelChange)="enableSave()"
              [(ngModel)]="chkCC" />
            Credit Card/Debit Card
          </label>
        </div>
      </div>
    </div>
  </div>
  <ng-container>
    <p-tabView class="pas-tabview" (onChange)="onTabChange($event)">
      <p-tabPanel header="Check" [selected]="true" *ngIf="(IsSingleOption && chkPaymentMethod == 1) ||
      (!IsSingleOption && chkCheck)">
        <div class="card new-card">
          <div class="card-body header-body">
            <div class="col-sm-3 w250 payment-blocks check-block" style="display: block;">
              <div class="form-group col-sm-12">
                <label>Check Date<span class="clr-red">*</span></label>
                <p-calendar name="checkDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="payment.checkDate" [showIcon]="true" id="checkDate" #checkDate="ngModel" required>
                </p-calendar>
                <div *ngIf="checkDate.invalid && (checkDate.dirty || checkDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="checkDate.errors.required">
                    <small> Check Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Amount<span class="clr-red">*</span></label>
                <input type="text" class="form-control" style="text-align:right;" name="checkAmount"
                  [ngModel]="payment.checkAmount | twoDecimalGlobalNumberFormatPipe"
                  (ngModelChange)="payment.checkAmount=$event" required />
              </div>
              <div class="form-group col-sm-12">
                <label for="quoteTypeId">Currency <span class="clr-red">*</span></label>
                <select name="quoteTypeId" [(ngModel)]="payment.currencyId" required id="currencyId"
                  #currencyId="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="currencyId.invalid && (currencyId.dirty || currencyId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="currencyId.errors.required">
                    <small> Currency is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Check Number <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="checkNumber" [(ngModel)]="payment.checkNumber"
                  [disabled]="true" #checkNumber="ngModel" id="checkNumber" />
                <div *ngIf="checkNumber.invalid && (checkNumber.dirty || checkNumber.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="checkNumber.errors.required">
                    <small> Check Number is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label class="control-label">Payor's Bank</label>
                <input type="text" class="form-control" name="payorsBank" [(ngModel)]="payment.payorsBank"
                  id="payorsBank" />
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Account <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="bankAccount" [(ngModel)]="payment.bankAccount"
                  #bankAccount="ngModel" id="bankAccount" />
                <div *ngIf="bankAccount.invalid && (bankAccount.dirty || bankAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="bankAccount.errors.required">
                    <small> Bank Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="glAccountId">GL Cash Account <span class="clr-red">*</span></label>
                <select name="glAccountId" [(ngModel)]="payment.glAccount" required id="glAccount" #glAccount="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="glAccount.invalid && (glAccount.dirty || glAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="glAccount.errors.required">
                    <small> GL Cash Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>
                  Memo<i class=" fa fa-pencil" data-toggle="modal" data-target="#add-description"
                    matTooltipPosition="above" matTooltip="Add Memo" (click)="onAddDescription('memo')"></i>
                </label>
                <span>
                  <div class="form-group memo-popup-cstm mat_emo">
                    <div [innerHTML]="payment.memo" [matTooltip]="parsedText(payment.memo)" matTooltipPosition="above"
                      class="form-control" style="height: 100px !important; width:90% !important"
                      class="text_editor_box">
                    </div>
                  </div>
                </span>
              </div>
            </div>
            <div class="col-sm-12 payment-blocks check-block" style="display: block;">
              <div class="form-group col-sm-12">
                <app-common-documents [moduleName]="moduleName" [referenceId]="referenceId" [isViewMode]="false"
                  [offLineUpload]="true"></app-common-documents>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="Wire Transfer" *ngIf="(IsSingleOption && chkPaymentMethod == 2) ||
      (!IsSingleOption && chkWireTransfer)">
        <div class="card new-card">
          <div class="card-body header-body">
            <div class="col-sm-3 w250 payment-blocks wire-block" style="display: block;">
              <div class="form-group col-sm-12">
                <label>Wire Date<span class="clr-red">*</span></label>
                <p-calendar name="wireDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="payment.wireDate" [showIcon]="true" id="wireDate" #wireDate="ngModel" required>
                </p-calendar>
                <div *ngIf="wireDate.invalid && (wireDate.dirty || wireDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="wireDate.errors.required">
                    <small> Wire Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Amount<span class="clr-red">*</span></label>
                <input type="text" class="form-control" style="text-align:right;" name="wireAmount"
                  [ngModel]="payment.wireAmount | twoDecimalGlobalNumberFormatPipe"
                  (ngModelChange)="payment.wireAmount=$event" required />
              </div>
              <div class="form-group col-sm-12">
                <label for="wireCurrencyId">Currency <span class="clr-red">*</span></label>
                <select name="wireCurrencyId" [(ngModel)]="payment.wireCurrencyId" required id="wireCurrencyId"
                  #wireCurrencyId="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="wireCurrencyId.invalid && (wireCurrencyId.dirty || wireCurrencyId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="wireCurrencyId.errors.required">
                    <small> Currency is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Name</label>
                <input type="text" class="form-control" name="bankName" [(ngModel)]="payment.bankName"
                  #bankName="ngModel" id="bankName" />
              </div>
              <div class="form-group col-sm-12">
                <label>Reference #</label>
                <input type="text" class="form-control" name="referenceNum" [(ngModel)]="payment.referenceNum"
                  #referenceNum="ngModel" id="referenceNum" />
              </div>
              <div class="form-group col-sm-12">
                <label>IMAD/OMAD # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="IMADOMAD" [(ngModel)]="payment.IMADOMAD"
                  #IMADOMAD="ngModel" id="IMADOMAD" />
                <div *ngIf="IMADOMAD.invalid && (IMADOMAD.dirty || IMADOMAD.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="IMADOMAD.errors.required">
                    <small> IMAD/OMAD # is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Account <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="wireBankAccount" [(ngModel)]="payment.wireBankAccount"
                  #wireBankAccount="ngModel" id="wireBankAccount" />
                <div *ngIf="wireBankAccount.invalid && (wireBankAccount.dirty || wireBankAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="wireBankAccount.errors.required">
                    <small> Bank Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="wireGlAccountId">GL Cash Account <span class="clr-red">*</span></label>
                <select name="wireGlAccountId" [(ngModel)]="payment.wireGlAccount" required id="wireGlAccount"
                  #wireGlAccount="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="wireGlAccount.invalid && (wireGlAccount.dirty || wireGlAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="wireGlAccount.errors.required">
                    <small> GL Cash Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>
                  Memo<i class=" fa fa-pencil" data-toggle="modal" data-target="#add-description"
                    matTooltipPosition="above" matTooltip="Add Memo" (click)="onAddDescription('memo')"></i>
                </label>
                <span>
                  <div class="form-group memo-popup-cstm mat_emo">
                    <div [innerHTML]="payment.memo" [matTooltip]="parsedText(payment.memo)" matTooltipPosition="above"
                      class="form-control" style="height: 100px !important; width:90% !important"
                      class="text_editor_box">
                    </div>
                  </div>
                </span>
              </div>
            </div>
            <div class="col-sm-12 payment-blocks check-block" style="display: block;">
              <div class="form-group col-sm-12">
                <app-common-documents [moduleName]="moduleName" [referenceId]="referenceId" [isViewMode]="false"
                  [offLineUpload]="true"></app-common-documents>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="EFT" *ngIf="(IsSingleOption && chkPaymentMethod == 3) ||
      (!IsSingleOption && chkEFT)">
        <div class="card new-card">
          <div class="card-body header-body">
            <div class="col-sm-3 w250 payment-blocks eft-block" style="display: block;">
              <div class="form-group col-sm-12">
                <label>EFT Date<span class="clr-red">*</span></label>
                <p-calendar name="eftDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="payment.eftDate" [showIcon]="true" id="eftDate" #eftDate="ngModel" required>
                </p-calendar>
                <div *ngIf="eftDate.invalid && (eftDate.dirty || eftDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="eftDate.errors.required">
                    <small> EFT Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Amount<span class="clr-red">*</span></label>
                <input type="text" class="form-control" style="text-align:right;" name="eftAmount"
                  [ngModel]="payment.eftAmount | twoDecimalGlobalNumberFormatPipe"
                  (ngModelChange)="payment.eftAmount=$event" required />
              </div>
              <div class="form-group col-sm-12">
                <label for="eftCurrencyId">Currency <span class="clr-red">*</span></label>
                <select name="eftCurrencyId" [(ngModel)]="payment.eftCurrencyId" required id="eftCurrencyId"
                  #eftCurrencyId="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="eftCurrencyId.invalid && (eftCurrencyId.dirty || eftCurrencyId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="eftCurrencyId.errors.required">
                    <small> Currency is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Name</label>
                <input type="text" class="form-control" name="eftbankName" [(ngModel)]="payment.eftbankName"
                  #eftbankName="ngModel" id="eftbankName" />
              </div>
              <div class="form-group col-sm-12">
                <label>Reference #</label>
                <input type="text" class="form-control" name="eftReferenceNum" [(ngModel)]="payment.eftReferenceNum"
                  #eftReferenceNum="ngModel" id="eftReferenceNum" />
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Account <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="eftBankAccount" [(ngModel)]="payment.eftBankAccount"
                  #eftBankAccount="ngModel" id="eftBankAccount" />
                <div *ngIf="eftBankAccount.invalid && (eftBankAccount.dirty || eftBankAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="eftBankAccount.errors.required">
                    <small> Bank Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="eftGlAccountId">GL Cash Account <span class="clr-red">*</span></label>
                <select name="eftGlAccountId" [(ngModel)]="payment.eftGlAccount" required id="eftGlAccount"
                  #eftGlAccount="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="eftGlAccount.invalid && (eftGlAccount.dirty || eftGlAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="eftGlAccount.errors.required">
                    <small> GL Cash Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>
                  Memo<i class=" fa fa-pencil" data-toggle="modal" data-target="#add-description"
                    matTooltipPosition="above" matTooltip="Add Memo" (click)="onAddDescription('memo')"></i>
                </label>
                <span>
                  <div class="form-group memo-popup-cstm mat_emo">
                    <div [innerHTML]="payment.memo" [matTooltip]="parsedText(payment.memo)" matTooltipPosition="above"
                      class="form-control" style="height: 100px !important; width:90% !important"
                      class="text_editor_box">
                    </div>
                  </div>
                </span>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
      <p-tabPanel header="Credit Card/Debit Card" *ngIf="(IsSingleOption && chkPaymentMethod == 4) ||
      (!IsSingleOption && chkCC)">
        <div class="card new-card">
          <div class="card-body header-body">
            <div class="col-sm-3 w250 payment-blocks cc-block" style="display: block;">
              <div class="form-group col-sm-12">
                <label>Payment Date<span class="clr-red">*</span></label>
                <p-calendar name="ccDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="payment.ccDate" [showIcon]="true" id="ccDate" #ccDate="ngModel" required>
                </p-calendar>
                <div *ngIf="ccDate.invalid && (ccDate.dirty || ccDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="ccDate.errors.required">
                    <small> Payment Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Amount<span class="clr-red">*</span></label>
                <input type="text" class="form-control" style="text-align:right;" name="ccAmount"
                  [ngModel]="payment.ccAmount | twoDecimalGlobalNumberFormatPipe"
                  (ngModelChange)="payment.ccAmount=$event" required />
              </div>
              <div class="form-group col-sm-12">
                <label for="ccCurrencyId">Currency <span class="clr-red">*</span></label>
                <select name="ccCurrencyId" [(ngModel)]="payment.ccCurrencyId" required id="ccCurrencyId"
                  #ccCurrencyId="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="ccCurrencyId.invalid && (ccCurrencyId.dirty || ccCurrencyId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="ccCurrencyId.errors.required">
                    <small> Currency is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Card Number # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="cardNumber" [(ngModel)]="payment.cardNumber"
                  #cardNumber="ngModel" id="cardNumber" />
                <div *ngIf="cardNumber.invalid && (cardNumber.dirty || cardNumber.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="cardNumber.errors.required">
                    <small> Card Number is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="cardTypeId">Card Type <span class="clr-red">*</span></label>
                <select name="cardTypeId" [(ngModel)]="payment.cardTypeId" required id="cardTypeId"
                  #cardTypeId="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="cardTypeId.invalid && (cardTypeId.dirty || cardTypeId.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="cardTypeId.errors.required">
                    <small> Card Type is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Expiry Date<span class="clr-red">*</span></label>
                <p-calendar name="expiryDate" [yearNavigator]="true" [monthNavigator]="true" yearRange="1900:2100"
                  [(ngModel)]="payment.expiryDate" [showIcon]="true" id="expiryDate" #expiryDate="ngModel" required>
                </p-calendar>
                <div *ngIf="expiryDate.invalid && (expiryDate.dirty || expiryDate.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="expiryDate.errors.required">
                    <small> Expiry Date is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Security Code # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="securityCode" [(ngModel)]="payment.securityCode"
                  #securityCode="ngModel" id="securityCode" />
                <div *ngIf="securityCode.invalid && (securityCode.dirty || securityCode.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="securityCode.errors.required">
                    <small> Security Code is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Cardholder Name # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="cardholderName" [(ngModel)]="payment.cardholderName"
                  #cardholderName="ngModel" id="cardholderName" />
                <div *ngIf="cardholderName.invalid && (cardholderName.dirty || cardholderName.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="cardholderName.errors.required">
                    <small> Cardholder Name is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Billing Address</label>
                <input type="text" class="form-control" name="billingAddress" [(ngModel)]="payment.billingAddress"
                  #billingAddress="ngModel" id="billingAddress" />
              </div>
              <div class="form-group col-sm-12">
                <label>Billing Postal Code # <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="billingPostalCode" [(ngModel)]="payment.billingPostalCode"
                  #billingPostalCode="ngModel" id="billingPostalCode" />
                <div *ngIf="billingPostalCode.invalid && (billingPostalCode.dirty || billingPostalCode.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="billingPostalCode.errors.required">
                    <small> Billing Postal Code is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>Phone #</label>
                <input type="text" class="form-control" name="ccPhoneNum" [(ngModel)]="payment.ccPhoneNum"
                  #ccPhoneNum="ngModel" id="ccPhoneNum" />
              </div>
              <div class="form-group col-sm-12">
                <label>Approval Ref</label>
                <input type="text" class="form-control" name="ccApprovalRef" [(ngModel)]="payment.ccApprovalRef"
                  #ccApprovalRef="ngModel" id="ccApprovalRef" />
              </div>
              <div class="form-group col-sm-12">
                <label>Bank Account <span class="clr-red">*</span></label>
                <input type="text" class="form-control" name="ccBankAccount" [(ngModel)]="payment.ccBankAccount"
                  #ccBankAccount="ngModel" id="ccBankAccount" />
                <div *ngIf="ccBankAccount.invalid && (ccBankAccount.dirty || ccBankAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="ccBankAccount.errors.required">
                    <small> Bank Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label for="ccGlAccountId">GL Cash Account <span class="clr-red">*</span></label>
                <select name="ccGlAccountId" [(ngModel)]="payment.ccGlAccount" required id="ccGlAccount"
                  #ccGlAccount="ngModel">
                  <option *ngFor="let item of soTypeList" [ngValue]="item.value">
                    {{ item.label }}</option>
                </select>
                <div *ngIf="ccGlAccount.invalid && (ccGlAccount.dirty || ccGlAccount.touched)"
                  class="alert alert-danger alert-danger-cstm">
                  <div *ngIf="ccGlAccount.errors.required">
                    <small> GL Cash Account is required </small>
                  </div>
                </div>
              </div>
              <div class="form-group col-sm-12">
                <label>
                  Memo<i class=" fa fa-pencil" data-toggle="modal" data-target="#add-description"
                    matTooltipPosition="above" matTooltip="Add Memo" (click)="onAddDescription('memo')"></i>
                </label>
                <span>
                  <div class="form-group memo-popup-cstm mat_emo">
                    <div [innerHTML]="payment.memo" [matTooltip]="parsedText(payment.memo)" matTooltipPosition="above"
                      class="form-control" style="height: 100px !important; width:90% !important"
                      class="text_editor_box">
                    </div>
                  </div>
                </span>
              </div>
            </div>
            <div class="col-sm-12 payment-blocks check-block" style="display: block;">
              <div class="form-group col-sm-12">
                <app-common-documents [moduleName]="moduleName" [referenceId]="referenceId" [isViewMode]="false"
                  [offLineUpload]="true"></app-common-documents>
              </div>
            </div>
          </div>
        </div>
      </p-tabPanel>
    </p-tabView>
  </ng-container>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-primary editor-buttons-margin" data-dismiss="modal"
    (click)="onProcessPayment()">
    Post Payment
  </button>
  <button type="button" (click)="onClose($event)" class="btn btn-danger">
    Close
  </button>
</div>
<div class="modal fade" id="add-description" role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog modal-lg" style="max-width: 400px !important; z-index: 1200;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Edit {{tempMemoLabel}}</h4>
      </div>
      <div class="modal-body">
        <p-editor [(ngModel)]="tempMemo" [style]="{'height':'320px'}" name="tempMemo" required>
        </p-editor>
        <div class="editor-buttons">
          <button type="button" class="btn btn-primary editor-buttons-margin" data-dismiss="modal"
            (click)="onSaveDescription()">
            Save
          </button>
          <button type="button" class="btn btn-danger editor-buttons-margin" data-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
</div>