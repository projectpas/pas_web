<div class="form-group">
  <div [ngClass]="(isViewMode == false) ? 'row' : 'row ui-tabview-panels'" class="padding-bottom-8">
      <button *ngIf="isViewMode == false" type="button" class="btn btn-primary" (click)="addPartNumber()"
          [disabled]="salesQuote.isApproved">
          Add PN
      </button>
      <div [ngClass]="(isViewMode == false) ? 'table-responsive pas-table-cstm rro-part-table-cstm poro-table-cstm parts-list-table-align parts-zindex' : 'table-responsive pas-table-cstm poro-table-cstm parts-list-table-align parts-zindex'"
            style="min-height: 130px !important;">
            <div class="tableFixHead">
                <table class="table table-bordered" id="soq-table">
                    <!-- <tr class="header-table-width" style="font-size: 10px"> -->
                    <tr class="font-size-10">
                        <th *ngFor="let summaryColumn of summaryColumns" [ngStyle]="{'min-width': summaryColumn.width}">
                            <!-- <ng-container *ngIf="summaryColumn.field == 'quantityToBeQuoted'
                                     || summaryColumn.field == 'customerRef'
                                     || summaryColumn.field == 'quantityRequested'">
                                {{ summaryColumn.header }}
                            </ng-container>
                            <ng-container *ngIf="summaryColumn.field != 'quantityToBeQuoted' 
                                && summaryColumn.field != 'customerRef'
                                    && summaryColumn.field != 'quantityRequested'">
                                {{ summaryColumn.header }}
                            </ng-container> -->
                            <ng-container>
                              {{ summaryColumn.header }}
                            </ng-container>
                        </th>
                        <th colspan="11"></th>
                        <th *ngIf="isViewMode == false" class="sales-part-action-column">Actions
                        </th>
                    </tr>
                    <ng-container *ngIf="summaryParts.length > 0">
                        <ng-container *ngFor="let summaryPart of summaryParts;let rowIndex=index;">
                            <tbody>
                                <tr ngClass="'row-bg1'" pReorderableRowHandle>
                                    <td *ngFor="let summaryColumn of summaryColumns;let i=index;" class="summary-column"
                                        pReorderableRowHandle>
                                        <!-- <span *ngIf="summaryColumn.field == 'count'">
                                            Item {{ rowIndex + 1 }}
                                        </span> -->
                                        <span class="float-right" *ngIf="summaryColumn.field != 'unitSalePrice'">
                                            {{summaryPart[summaryColumn.field]}}
                                        </span>
                                        <ng-container *ngIf="summaryColumn.field == 'unitSalePrice'">
                                        
                                          <input class="table-header-input-width" name="unitSalePricetext{{i}}"
                                          [disabled]="summaryPart['isEditPart'] == true"
                                          [ngModel]="summaryPart[summaryColumn.field]"
                                          (ngModelChange)="onChangeUnitSalesPrice(rowIndex,$event)" pInputText type="text"/>
                                        
                                      </ng-container>
                                    </td>
                                    <td colspan="11" style="background-color: #EAF2C5 !important;"></td>
                                    <td *ngIf="isViewMode == false" class="center">
                                        <a class="btn nobg view-part-eye" (click)="viewPartNumber(summaryPart,rowIndex)"
                                            matTooltip="View Stock Line" matTooltipPosition="above">
                                            <i class="fa fa-eye"></i>
                                        </a>
                                        <!-- <a [class.disabled]="salesQuote.isApproved || isViewMode"
                                            [ngClass]="{'btn_disabled': salesQuote.isApproved || isViewMode}"
                                            class="btn nobg view-part-eye" (click)="addPartNumber(summaryPart,rowIndex)"
                                            matTooltip="Add/Edit PN" matTooltipPosition="above">
                                            <i class="fa fa-pencil"></i>
                                        </a> -->
                                        <a [class.disabled]="salesQuote.isApproved || isViewMode"
                                            [ngClass]="{'btn_disabled': salesQuote.isApproved || isViewMode}"
                                            class="btn nobg view-part-eye" (click)="editPart(rowIndex)"
                                            matTooltip="Edit PN" matTooltipPosition="above">
                                            <i class="fa fa-pencil"></i>
                                        </a>
                                        <a [class.disabled]="salesQuote.isApproved || isViewMode"
                                            [ngClass]="{'btn_disabled': salesQuote.isApproved || isViewMode}"
                                            class="btn nobg"
                                            (click)="openmultiplepartDelete(summaryPart,rowIndex,deletepartcontent)"
                                            matTooltip="Delete" matTooltipPosition="above">
                                            <i class="fa fa-trash"></i>
                                        </a>
                                        <span>
                                          <a class="btn nobg btn-pluspo-cstm" (click)="createExclusionPN(summaryPart)"
                                              matTooltip="Create PO" matTooltipPosition="above">
                                              <i class="fa fa-plus"> </i>
                                          </a>
                                      </span>
                                    </td>
                                </tr>
                              </tbody>
                            </ng-container>
                          </ng-container>
                        </table>
                      </div>
                    </div>
  </div>
</div>
<div *ngIf="isViewMode == false" class="view-mode-div">
  <button *ngIf="saveButton" type="button" [disabled]="canSaveParts" class="btn btn-primary view-mode-button"
      (click)="approve()">
      <span>Update</span>
  </button>
  <button type="button" *ngIf="!saveButton" [disabled]="canSaveParts" class="btn btn-primary view-mode-button"
      (click)="approve()">
      <span>Save</span>
  </button>
</div>
<div class="preloader" *ngIf="isSpinnerVisible">
  <div class="loading">
      <div class="lds-roller">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
          <div></div>
      </div>
  </div>
</div>
<ng-template #addPart let-c="close" let-d="dismiss">
  <!-- <app-add-sales-part-number [display]="show" [selectedParts]="selectedParts" [salesQuote]="salesQuote"
        [isStockLineViewMode]="isStockLineViewMode" [selectedSummaryRow]="selectedSummaryRow" [clearData]="clearData"
        (select)="openSalesMargin($event)" (close)="onClose($event)" [type]="'SOQ'">
  </app-add-sales-part-number> -->
  <app-add-speed-quote-part-number [display]="show" [selectedParts]="selectedParts" [salesQuote]="salesQuote"
      [isStockLineViewMode]="isStockLineViewMode" [selectedSummaryRow]="selectedSummaryRow" [clearData]="clearData"
      (select)="openSalesMargin($event)" (close)="onClose($event)" [type]="'SQ'">
  </app-add-speed-quote-part-number>
</ng-template>
<ng-template #salesMargin let-c="close" let-d="dismiss" tabindex="-1">
  <app-speed-quote-margin tabindex="-1" [part]="part" [isEdit]="isEdit" (save)="openSalesMarginSave($event)"
      (close)="onCloseMargin($event)" (searchAnotherPN)="onSearchAnotherPN($event)"></app-speed-quote-margin>
</ng-template>
<!-- <ng-container tabindex="-1">
  <app-speed-quote-exclusions></app-speed-quote-exclusions>
</ng-container> -->