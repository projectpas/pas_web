<div class="fixed-table-container-inner table-responsive cat4-table" style="height:300px;">
  <div style="width: 100%; z-index: 1;" *ngIf="!isEdit">
    <span class="cat-heading cat4">Add {{ isWorkOrder ? moduleName : ' Tool'
      }}<i (click)="addRow()" class="fa fa-plus"></i></span>
  </div>
  <form #toolsCreateForm="ngForm">
    <table class="table table-bordered table-fixed workflow-table-equip">
      <tr>
        <th><label>Tool Name</label></th>
        <th> <label for="">{{moduleName}} ID</label></th>
        <th><label>{{moduleName}} Description</label></th>
        <th><label>Tool Class</label></th>
        <th><label>Qty<span class="clr-red">*</span></label></th>
        <th><label>Actions </label></th>
      </tr>
      <tr *ngFor="let eqp of workFlow.equipments; let i = index">
        <td>
          <p-autoComplete (onSelect)="onPartSelect($event, eqp)" [suggestions]="partCollection"
            (completeMethod)="filterpartItems($event)" [size]="30" [(ngModel)]="eqp.partNumber" [minLength]="1"
            [dropdown]="true" class="workflow-measurement-select" [forceSelection]="true"
            [ngModelOptions]="{standalone: true}">
            <ng-template let-assetId pTemplate="asset">
              <div class="ui-helper-clearfix">{{ assetId  }}</div>
            </ng-template>
          </p-autoComplete>
        </td>
        <td>
          {{ eqp.assetName }}
        </td>
        <td>
          {{ eqp.assetDescription }}
        </td>
        <td>
          {{ eqp.assetTypeName }}
        </td>
        <td class="text-center">
          <input type="text" class="form-control text-right" maxlength="10" pInputText pKeyFilter="pnum"
            value="{{ eqp.quantity }}" [(ngModel)]="eqp.quantity" [ngModelOptions]="{standalone: true}" required />
        </td>
        <td  style="text-align: center;">
          <button class="btn btn-danger nobg" (click)="deleteRow(i)">
            <i class="fa fa-trash"></i>
          </button>
        </td>
      </tr>
    </table>
  </form>
  <div *ngIf="isWorkOrder && !isEdit" style="float:right">
    <button *ngIf="isWorkOrder" type="button" class="btn btn-primary btn-primary" data-dismiss="modal"
      (click)="saveEquipmentWorkOrder()" style="padding: 6px 12px !important; margin-top: 10px;"
      [disabled]="!toolsCreateForm.valid|| checkQuantityAvailability()">
      Save
    </button>
    <button type="button" class="btn btn-danger" data-dismiss="modal"
      style="padding: 6px 12px !important;margin-top: 10px;">
      Close
    </button>
  </div>
  <div *ngIf="isWorkOrder && isEdit" style="float:right">
    <button *ngIf="isWorkOrder" class="btn btn-primary btn-primary" (click)="updateEquipmentWorkOrder()"
      style="padding: 6px 12px !important; margin-top: 10px;"
      [disabled]="!toolsCreateForm.valid || checkQuantityAvailability()">
      Update
    </button>
    <button type="button" class="btn btn-danger" data-dismiss="modal"
      style="padding: 6px 12px !important;margin-top: 10px;">
      Close
    </button>
  </div>
</div>

<div class="preloader" *ngIf="isSpinnerVisible">
  <div class="loading">
    <div class="lds-roller">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</div>